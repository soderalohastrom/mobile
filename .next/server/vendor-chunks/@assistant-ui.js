"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@assistant-ui";
exports.ids = ["vendor-chunks/@assistant-ui"];
exports.modules = {

/***/ "(ssr)/./node_modules/@assistant-ui/react-ai-sdk/dist/index.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@assistant-ui/react-ai-sdk/dist/index.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVercelAIMessage: () => (/* binding */ getVercelAIMessages),\n/* harmony export */   getVercelAIMessages: () => (/* binding */ getVercelAIMessages),\n/* harmony export */   getVercelRSCMessage: () => (/* binding */ getVercelRSCMessage),\n/* harmony export */   useVercelRSCRuntime: () => (/* binding */ useVercelRSCRuntime),\n/* harmony export */   useVercelUseAssistantRuntime: () => (/* binding */ useVercelUseAssistantRuntime),\n/* harmony export */   useVercelUseChatRuntime: () => (/* binding */ useVercelUseChatRuntime)\n/* harmony export */ });\n/* harmony import */ var _assistant_ui_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @assistant-ui/react */ \"(ssr)/./node_modules/@assistant-ui/react/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @radix-ui/react-use-callback-ref */ \"(ssr)/./node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_ui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ai-sdk/ui-utils */ \"(ssr)/./node_modules/@ai-sdk/ui-utils/node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n// src/rsc/useVercelRSCRuntime.tsx\n\nvar vercelToThreadMessage = (converter, rawMessage) => {\n  const message = converter(rawMessage);\n  return {\n    id: message.id,\n    role: message.role,\n    content: [{ type: \"ui\", display: message.display }],\n    createdAt: message.createdAt\n  };\n};\nvar useVercelRSCRuntime = (adapter) => {\n  const onNew = adapter.onNew ?? adapter.append;\n  if (!onNew)\n    throw new Error(\"You must pass a onNew function to useVercelRSCRuntime\");\n  const eAdapter = {\n    isRunning: adapter.isRunning,\n    messages: adapter.messages,\n    onNew,\n    onEdit: adapter.onEdit ?? adapter.edit,\n    onReload: adapter.onReload ?? adapter.reload,\n    convertMessage: (m) => vercelToThreadMessage(\n      adapter.convertMessage ?? ((m2) => m2),\n      m\n    ),\n    unstable_capabilities: {\n      copy: false\n    }\n  };\n  const runtime = (0,_assistant_ui_react__WEBPACK_IMPORTED_MODULE_0__.useExternalStoreRuntime)(eAdapter);\n  return runtime;\n};\n\n// src/rsc/getVercelRSCMessage.tsx\n\nvar symbolInnerRSCMessage = Symbol(\"innerVercelRSCMessage\");\nvar getVercelRSCMessage = (message) => {\n  return (0,_assistant_ui_react__WEBPACK_IMPORTED_MODULE_0__.getExternalStoreMessage)(message);\n};\n\n// src/ui/utils/convertMessage.ts\nvar convertMessage = (message) => {\n  switch (message.role) {\n    case \"user\":\n      return {\n        role: \"user\",\n        id: message.id,\n        createdAt: message.createdAt,\n        content: message.content,\n        attachments: message.experimental_attachments?.map(\n          (attachment, idx) => ({\n            id: idx.toString(),\n            type: \"file\",\n            name: attachment.name ?? attachment.url,\n            content: [],\n            status: { type: \"complete\" }\n          })\n        )\n      };\n    case \"system\":\n      return {\n        role: \"system\",\n        id: message.id,\n        createdAt: message.createdAt,\n        content: message.content\n      };\n    case \"assistant\":\n      return {\n        role: \"assistant\",\n        id: message.id,\n        createdAt: message.createdAt,\n        content: [\n          ...message.content ? [\n            {\n              type: \"text\",\n              text: message.content\n            }\n          ] : [],\n          ...message.toolInvocations?.map(\n            (t) => ({\n              type: \"tool-call\",\n              toolName: t.toolName,\n              toolCallId: t.toolCallId,\n              argsText: JSON.stringify(t.args),\n              args: t.args,\n              result: \"result\" in t ? t.result : void 0\n            })\n          ) ?? []\n        ]\n      };\n    case \"data\": {\n      if (!message.data || !(typeof message.data === \"object\") || Array.isArray(message.data))\n        return [];\n      const data = message.data;\n      if (data.type === \"tool-call\") {\n        return {\n          role: \"assistant\",\n          id: message.id,\n          createdAt: message.createdAt,\n          content: [data]\n        };\n      } else if (data.type === \"tool-result\") {\n        return {\n          role: \"tool\",\n          toolCallId: data.toolCallId,\n          result: data.result\n        };\n      }\n      return [];\n    }\n    default:\n      const _unsupported = message.role;\n      throw new Error(\n        `You have a message with an unsupported role. The role ${_unsupported} is not supported.`\n      );\n  }\n};\n\n// src/ui/use-chat/useVercelUseChatRuntime.tsx\n\n\n// src/ui/utils/useInputSync.tsx\n\n\nvar useInputSync = (helpers, runtime) => {\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (runtime.thread.composer.getState().text !== helpers.input) {\n      runtime.thread.composer.setText(helpers.input);\n    }\n  }, [helpers, runtime]);\n  const handleThreadUpdate = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_2__.useCallbackRef)(() => {\n    if (runtime.thread.composer.getState().text !== helpers.input) {\n      helpers.setInput(runtime.thread.composer.getState().text);\n    }\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    return runtime.thread.subscribe(handleThreadUpdate);\n  }, [runtime, handleThreadUpdate]);\n};\n\n// src/ui/utils/sliceMessagesUntil.tsx\nvar sliceMessagesUntil = (messages, messageId) => {\n  if (messageId == null) return [];\n  let messageIdx = messages.findIndex((m) => m.id === messageId);\n  if (messageIdx === -1)\n    throw new Error(\n      \"useVercelAIThreadState: Message not found. This is liekly an internal bug in assistant-ui.\"\n    );\n  while (messages[messageIdx + 1]?.role === \"assistant\") {\n    messageIdx++;\n  }\n  return messages.slice(0, messageIdx + 1);\n};\n\n// src/ui/utils/toCreateMessage.ts\nvar toCreateMessage = async (message) => {\n  const content = message.content.filter((part) => part.type === \"text\").map((t) => t.text).join(\"\\n\\n\");\n  const images = message.content.filter((part) => part.type === \"image\").map((part) => ({ url: part.image }));\n  return {\n    role: message.role,\n    content,\n    experimental_attachments: [\n      ...images,\n      ...await Promise.all(\n        (message.attachments ?? []).map(async (m) => {\n          if (m.file == null)\n            throw new Error(\"Attachment did not contain a file\");\n          return {\n            contentType: m.file.type,\n            name: m.file.name,\n            url: await getFileDataURL(m.file)\n          };\n        })\n      )\n    ]\n  };\n};\nvar getFileDataURL = (file) => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.onload = () => resolve(reader.result);\n  reader.onerror = (error) => reject(error);\n  reader.readAsDataURL(file);\n});\n\n// src/ui/utils/vercelAttachmentAdapter.ts\n\nvar vercelAttachmentAdapter = {\n  accept: \"image/*, text/plain, text/html, text/markdown, text/csv, text/xml, text/json, text/css\",\n  async add({ file }) {\n    return {\n      id: (0,_ai_sdk_ui_utils__WEBPACK_IMPORTED_MODULE_3__.generateId)(),\n      type: \"file\",\n      name: file.name,\n      file,\n      contentType: file.type,\n      content: [],\n      status: { type: \"requires-action\", reason: \"composer-send\" }\n    };\n  },\n  async send(attachment) {\n    return {\n      ...attachment,\n      status: { type: \"complete\" },\n      content: []\n    };\n  },\n  async remove() {\n  }\n};\n\n// src/ui/getVercelAIMessages.tsx\n\nvar getVercelAIMessages = (message) => {\n  return (0,_assistant_ui_react__WEBPACK_IMPORTED_MODULE_0__.getExternalStoreMessage)(message);\n};\n\n// src/ui/use-chat/useVercelUseChatRuntime.tsx\nvar useVercelUseChatRuntime = (chatHelpers) => {\n  const messages = (0,_assistant_ui_react__WEBPACK_IMPORTED_MODULE_0__.useExternalMessageConverter)({\n    callback: convertMessage,\n    isRunning: chatHelpers.isLoading,\n    messages: chatHelpers.messages\n  });\n  const runtime = (0,_assistant_ui_react__WEBPACK_IMPORTED_MODULE_0__.useExternalStoreRuntime)({\n    isRunning: chatHelpers.isLoading,\n    messages,\n    setMessages: (messages2) => chatHelpers.setMessages(messages2.map(getVercelAIMessages).flat()),\n    onCancel: async () => chatHelpers.stop(),\n    onNew: async (message) => {\n      await chatHelpers.append(await toCreateMessage(message));\n    },\n    onEdit: async (message) => {\n      const newMessages = sliceMessagesUntil(\n        chatHelpers.messages,\n        message.parentId\n      );\n      chatHelpers.setMessages(newMessages);\n      await chatHelpers.append(await toCreateMessage(message));\n    },\n    onReload: async (parentId) => {\n      const newMessages = sliceMessagesUntil(chatHelpers.messages, parentId);\n      chatHelpers.setMessages(newMessages);\n      await chatHelpers.reload();\n    },\n    onAddToolResult: ({ toolCallId, result }) => {\n      chatHelpers.addToolResult({ toolCallId, result });\n    },\n    onSwitchToNewThread: () => {\n      chatHelpers.messages = [];\n      chatHelpers.input = \"\";\n      chatHelpers.setMessages([]);\n      chatHelpers.setInput(\"\");\n    },\n    adapters: {\n      attachments: vercelAttachmentAdapter\n    }\n  });\n  useInputSync(chatHelpers, runtime);\n  return runtime;\n};\n\n// src/ui/use-assistant/useVercelUseAssistantRuntime.tsx\n\nvar useVercelUseAssistantRuntime = (assistantHelpers) => {\n  const messages = (0,_assistant_ui_react__WEBPACK_IMPORTED_MODULE_0__.useExternalMessageConverter)({\n    callback: convertMessage,\n    isRunning: assistantHelpers.status === \"in_progress\",\n    messages: assistantHelpers.messages\n  });\n  const runtime = (0,_assistant_ui_react__WEBPACK_IMPORTED_MODULE_0__.useExternalStoreRuntime)({\n    isRunning: assistantHelpers.status === \"in_progress\",\n    messages,\n    onCancel: async () => assistantHelpers.stop(),\n    onNew: async (message) => {\n      await assistantHelpers.append(await toCreateMessage(message));\n    },\n    onSwitchToNewThread: () => {\n      assistantHelpers.messages = [];\n      assistantHelpers.input = \"\";\n      assistantHelpers.setMessages([]);\n      assistantHelpers.setInput(\"\");\n    },\n    adapters: {\n      attachments: vercelAttachmentAdapter\n    }\n  });\n  useInputSync(assistantHelpers, runtime);\n  return runtime;\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFzc2lzdGFudC11aS9yZWFjdC1haS1zZGsvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBRzZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0NBQXNDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0RUFBdUI7QUFDekM7QUFDQTs7QUFFQTtBQUc2QjtBQUM3QjtBQUNBO0FBQ0EsU0FBUyw0RUFBdUI7QUFDaEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxjQUFjO0FBQy9FO0FBQ0E7QUFDQTs7QUFFQTtBQUk2Qjs7QUFFN0I7QUFDa0M7QUFDZ0M7QUFDbEU7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDZCQUE2QixnRkFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRixpQkFBaUI7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQzhDO0FBQzlDO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEI7QUFDQSxVQUFVLDREQUFVO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUc2QjtBQUM3QjtBQUNBLFNBQVMsNEVBQXdCO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsZ0ZBQTJCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxrQkFBa0IsNEVBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx3QkFBd0Isb0JBQW9CO0FBQzVDLGtDQUFrQyxvQkFBb0I7QUFDdEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUk2QjtBQUM3QjtBQUNBLG1CQUFtQixnRkFBNEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGtCQUFrQiw0RUFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFRRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi9ub2RlX21vZHVsZXMvQGFzc2lzdGFudC11aS9yZWFjdC1haS1zZGsvZGlzdC9pbmRleC5tanM/Mjc4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvcnNjL3VzZVZlcmNlbFJTQ1J1bnRpbWUudHN4XG5pbXBvcnQge1xuICB1c2VFeHRlcm5hbFN0b3JlUnVudGltZVxufSBmcm9tIFwiQGFzc2lzdGFudC11aS9yZWFjdFwiO1xudmFyIHZlcmNlbFRvVGhyZWFkTWVzc2FnZSA9IChjb252ZXJ0ZXIsIHJhd01lc3NhZ2UpID0+IHtcbiAgY29uc3QgbWVzc2FnZSA9IGNvbnZlcnRlcihyYXdNZXNzYWdlKTtcbiAgcmV0dXJuIHtcbiAgICBpZDogbWVzc2FnZS5pZCxcbiAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgY29udGVudDogW3sgdHlwZTogXCJ1aVwiLCBkaXNwbGF5OiBtZXNzYWdlLmRpc3BsYXkgfV0sXG4gICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdFxuICB9O1xufTtcbnZhciB1c2VWZXJjZWxSU0NSdW50aW1lID0gKGFkYXB0ZXIpID0+IHtcbiAgY29uc3Qgb25OZXcgPSBhZGFwdGVyLm9uTmV3ID8/IGFkYXB0ZXIuYXBwZW5kO1xuICBpZiAoIW9uTmV3KVxuICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYSBvbk5ldyBmdW5jdGlvbiB0byB1c2VWZXJjZWxSU0NSdW50aW1lXCIpO1xuICBjb25zdCBlQWRhcHRlciA9IHtcbiAgICBpc1J1bm5pbmc6IGFkYXB0ZXIuaXNSdW5uaW5nLFxuICAgIG1lc3NhZ2VzOiBhZGFwdGVyLm1lc3NhZ2VzLFxuICAgIG9uTmV3LFxuICAgIG9uRWRpdDogYWRhcHRlci5vbkVkaXQgPz8gYWRhcHRlci5lZGl0LFxuICAgIG9uUmVsb2FkOiBhZGFwdGVyLm9uUmVsb2FkID8/IGFkYXB0ZXIucmVsb2FkLFxuICAgIGNvbnZlcnRNZXNzYWdlOiAobSkgPT4gdmVyY2VsVG9UaHJlYWRNZXNzYWdlKFxuICAgICAgYWRhcHRlci5jb252ZXJ0TWVzc2FnZSA/PyAoKG0yKSA9PiBtMiksXG4gICAgICBtXG4gICAgKSxcbiAgICB1bnN0YWJsZV9jYXBhYmlsaXRpZXM6IHtcbiAgICAgIGNvcHk6IGZhbHNlXG4gICAgfVxuICB9O1xuICBjb25zdCBydW50aW1lID0gdXNlRXh0ZXJuYWxTdG9yZVJ1bnRpbWUoZUFkYXB0ZXIpO1xuICByZXR1cm4gcnVudGltZTtcbn07XG5cbi8vIHNyYy9yc2MvZ2V0VmVyY2VsUlNDTWVzc2FnZS50c3hcbmltcG9ydCB7XG4gIGdldEV4dGVybmFsU3RvcmVNZXNzYWdlXG59IGZyb20gXCJAYXNzaXN0YW50LXVpL3JlYWN0XCI7XG52YXIgc3ltYm9sSW5uZXJSU0NNZXNzYWdlID0gU3ltYm9sKFwiaW5uZXJWZXJjZWxSU0NNZXNzYWdlXCIpO1xudmFyIGdldFZlcmNlbFJTQ01lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICByZXR1cm4gZ2V0RXh0ZXJuYWxTdG9yZU1lc3NhZ2UobWVzc2FnZSk7XG59O1xuXG4vLyBzcmMvdWkvdXRpbHMvY29udmVydE1lc3NhZ2UudHNcbnZhciBjb252ZXJ0TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gIHN3aXRjaCAobWVzc2FnZS5yb2xlKSB7XG4gICAgY2FzZSBcInVzZXJcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdCxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICBhdHRhY2htZW50czogbWVzc2FnZS5leHBlcmltZW50YWxfYXR0YWNobWVudHM/Lm1hcChcbiAgICAgICAgICAoYXR0YWNobWVudCwgaWR4KSA9PiAoe1xuICAgICAgICAgICAgaWQ6IGlkeC50b1N0cmluZygpLFxuICAgICAgICAgICAgdHlwZTogXCJmaWxlXCIsXG4gICAgICAgICAgICBuYW1lOiBhdHRhY2htZW50Lm5hbWUgPz8gYXR0YWNobWVudC51cmwsXG4gICAgICAgICAgICBjb250ZW50OiBbXSxcbiAgICAgICAgICAgIHN0YXR1czogeyB0eXBlOiBcImNvbXBsZXRlXCIgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH07XG4gICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgfTtcbiAgICBjYXNlIFwiYXNzaXN0YW50XCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdCxcbiAgICAgICAgY29udGVudDogW1xuICAgICAgICAgIC4uLm1lc3NhZ2UuY29udGVudCA/IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0gOiBbXSxcbiAgICAgICAgICAuLi5tZXNzYWdlLnRvb2xJbnZvY2F0aW9ucz8ubWFwKFxuICAgICAgICAgICAgKHQpID0+ICh7XG4gICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgICAgICAgIHRvb2xOYW1lOiB0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIGFyZ3NUZXh0OiBKU09OLnN0cmluZ2lmeSh0LmFyZ3MpLFxuICAgICAgICAgICAgICBhcmdzOiB0LmFyZ3MsXG4gICAgICAgICAgICAgIHJlc3VsdDogXCJyZXN1bHRcIiBpbiB0ID8gdC5yZXN1bHQgOiB2b2lkIDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSA/PyBbXVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIGNhc2UgXCJkYXRhXCI6IHtcbiAgICAgIGlmICghbWVzc2FnZS5kYXRhIHx8ICEodHlwZW9mIG1lc3NhZ2UuZGF0YSA9PT0gXCJvYmplY3RcIikgfHwgQXJyYXkuaXNBcnJheShtZXNzYWdlLmRhdGEpKVxuICAgICAgICByZXR1cm4gW107XG4gICAgICBjb25zdCBkYXRhID0gbWVzc2FnZS5kYXRhO1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gXCJ0b29sLWNhbGxcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdCxcbiAgICAgICAgICBjb250ZW50OiBbZGF0YV1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBcInRvb2wtcmVzdWx0XCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByb2xlOiBcInRvb2xcIixcbiAgICAgICAgICB0b29sQ2FsbElkOiBkYXRhLnRvb2xDYWxsSWQsXG4gICAgICAgICAgcmVzdWx0OiBkYXRhLnJlc3VsdFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgY29uc3QgX3Vuc3VwcG9ydGVkID0gbWVzc2FnZS5yb2xlO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGhhdmUgYSBtZXNzYWdlIHdpdGggYW4gdW5zdXBwb3J0ZWQgcm9sZS4gVGhlIHJvbGUgJHtfdW5zdXBwb3J0ZWR9IGlzIG5vdCBzdXBwb3J0ZWQuYFxuICAgICAgKTtcbiAgfVxufTtcblxuLy8gc3JjL3VpL3VzZS1jaGF0L3VzZVZlcmNlbFVzZUNoYXRSdW50aW1lLnRzeFxuaW1wb3J0IHtcbiAgdXNlRXh0ZXJuYWxNZXNzYWdlQ29udmVydGVyLFxuICB1c2VFeHRlcm5hbFN0b3JlUnVudGltZSBhcyB1c2VFeHRlcm5hbFN0b3JlUnVudGltZTJcbn0gZnJvbSBcIkBhc3Npc3RhbnQtdWkvcmVhY3RcIjtcblxuLy8gc3JjL3VpL3V0aWxzL3VzZUlucHV0U3luYy50c3hcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2tSZWYgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1jYWxsYmFjay1yZWZcIjtcbnZhciB1c2VJbnB1dFN5bmMgPSAoaGVscGVycywgcnVudGltZSkgPT4ge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChydW50aW1lLnRocmVhZC5jb21wb3Nlci5nZXRTdGF0ZSgpLnRleHQgIT09IGhlbHBlcnMuaW5wdXQpIHtcbiAgICAgIHJ1bnRpbWUudGhyZWFkLmNvbXBvc2VyLnNldFRleHQoaGVscGVycy5pbnB1dCk7XG4gICAgfVxuICB9LCBbaGVscGVycywgcnVudGltZV0pO1xuICBjb25zdCBoYW5kbGVUaHJlYWRVcGRhdGUgPSB1c2VDYWxsYmFja1JlZigoKSA9PiB7XG4gICAgaWYgKHJ1bnRpbWUudGhyZWFkLmNvbXBvc2VyLmdldFN0YXRlKCkudGV4dCAhPT0gaGVscGVycy5pbnB1dCkge1xuICAgICAgaGVscGVycy5zZXRJbnB1dChydW50aW1lLnRocmVhZC5jb21wb3Nlci5nZXRTdGF0ZSgpLnRleHQpO1xuICAgIH1cbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIHJ1bnRpbWUudGhyZWFkLnN1YnNjcmliZShoYW5kbGVUaHJlYWRVcGRhdGUpO1xuICB9LCBbcnVudGltZSwgaGFuZGxlVGhyZWFkVXBkYXRlXSk7XG59O1xuXG4vLyBzcmMvdWkvdXRpbHMvc2xpY2VNZXNzYWdlc1VudGlsLnRzeFxudmFyIHNsaWNlTWVzc2FnZXNVbnRpbCA9IChtZXNzYWdlcywgbWVzc2FnZUlkKSA9PiB7XG4gIGlmIChtZXNzYWdlSWQgPT0gbnVsbCkgcmV0dXJuIFtdO1xuICBsZXQgbWVzc2FnZUlkeCA9IG1lc3NhZ2VzLmZpbmRJbmRleCgobSkgPT4gbS5pZCA9PT0gbWVzc2FnZUlkKTtcbiAgaWYgKG1lc3NhZ2VJZHggPT09IC0xKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwidXNlVmVyY2VsQUlUaHJlYWRTdGF0ZTogTWVzc2FnZSBub3QgZm91bmQuIFRoaXMgaXMgbGlla2x5IGFuIGludGVybmFsIGJ1ZyBpbiBhc3Npc3RhbnQtdWkuXCJcbiAgICApO1xuICB3aGlsZSAobWVzc2FnZXNbbWVzc2FnZUlkeCArIDFdPy5yb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG4gICAgbWVzc2FnZUlkeCsrO1xuICB9XG4gIHJldHVybiBtZXNzYWdlcy5zbGljZSgwLCBtZXNzYWdlSWR4ICsgMSk7XG59O1xuXG4vLyBzcmMvdWkvdXRpbHMvdG9DcmVhdGVNZXNzYWdlLnRzXG52YXIgdG9DcmVhdGVNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IHtcbiAgY29uc3QgY29udGVudCA9IG1lc3NhZ2UuY29udGVudC5maWx0ZXIoKHBhcnQpID0+IHBhcnQudHlwZSA9PT0gXCJ0ZXh0XCIpLm1hcCgodCkgPT4gdC50ZXh0KS5qb2luKFwiXFxuXFxuXCIpO1xuICBjb25zdCBpbWFnZXMgPSBtZXNzYWdlLmNvbnRlbnQuZmlsdGVyKChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwiaW1hZ2VcIikubWFwKChwYXJ0KSA9PiAoeyB1cmw6IHBhcnQuaW1hZ2UgfSkpO1xuICByZXR1cm4ge1xuICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICBjb250ZW50LFxuICAgIGV4cGVyaW1lbnRhbF9hdHRhY2htZW50czogW1xuICAgICAgLi4uaW1hZ2VzLFxuICAgICAgLi4uYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIChtZXNzYWdlLmF0dGFjaG1lbnRzID8/IFtdKS5tYXAoYXN5bmMgKG0pID0+IHtcbiAgICAgICAgICBpZiAobS5maWxlID09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRhY2htZW50IGRpZCBub3QgY29udGFpbiBhIGZpbGVcIik7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBtLmZpbGUudHlwZSxcbiAgICAgICAgICAgIG5hbWU6IG0uZmlsZS5uYW1lLFxuICAgICAgICAgICAgdXJsOiBhd2FpdCBnZXRGaWxlRGF0YVVSTChtLmZpbGUpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICBdXG4gIH07XG59O1xudmFyIGdldEZpbGVEYXRhVVJMID0gKGZpbGUpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gIHJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiByZWplY3QoZXJyb3IpO1xuICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbn0pO1xuXG4vLyBzcmMvdWkvdXRpbHMvdmVyY2VsQXR0YWNobWVudEFkYXB0ZXIudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xudmFyIHZlcmNlbEF0dGFjaG1lbnRBZGFwdGVyID0ge1xuICBhY2NlcHQ6IFwiaW1hZ2UvKiwgdGV4dC9wbGFpbiwgdGV4dC9odG1sLCB0ZXh0L21hcmtkb3duLCB0ZXh0L2NzdiwgdGV4dC94bWwsIHRleHQvanNvbiwgdGV4dC9jc3NcIixcbiAgYXN5bmMgYWRkKHsgZmlsZSB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgIGZpbGUsXG4gICAgICBjb250ZW50VHlwZTogZmlsZS50eXBlLFxuICAgICAgY29udGVudDogW10sXG4gICAgICBzdGF0dXM6IHsgdHlwZTogXCJyZXF1aXJlcy1hY3Rpb25cIiwgcmVhc29uOiBcImNvbXBvc2VyLXNlbmRcIiB9XG4gICAgfTtcbiAgfSxcbiAgYXN5bmMgc2VuZChhdHRhY2htZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICBzdGF0dXM6IHsgdHlwZTogXCJjb21wbGV0ZVwiIH0sXG4gICAgICBjb250ZW50OiBbXVxuICAgIH07XG4gIH0sXG4gIGFzeW5jIHJlbW92ZSgpIHtcbiAgfVxufTtcblxuLy8gc3JjL3VpL2dldFZlcmNlbEFJTWVzc2FnZXMudHN4XG5pbXBvcnQge1xuICBnZXRFeHRlcm5hbFN0b3JlTWVzc2FnZSBhcyBnZXRFeHRlcm5hbFN0b3JlTWVzc2FnZTJcbn0gZnJvbSBcIkBhc3Npc3RhbnQtdWkvcmVhY3RcIjtcbnZhciBnZXRWZXJjZWxBSU1lc3NhZ2VzID0gKG1lc3NhZ2UpID0+IHtcbiAgcmV0dXJuIGdldEV4dGVybmFsU3RvcmVNZXNzYWdlMihtZXNzYWdlKTtcbn07XG5cbi8vIHNyYy91aS91c2UtY2hhdC91c2VWZXJjZWxVc2VDaGF0UnVudGltZS50c3hcbnZhciB1c2VWZXJjZWxVc2VDaGF0UnVudGltZSA9IChjaGF0SGVscGVycykgPT4ge1xuICBjb25zdCBtZXNzYWdlcyA9IHVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlcih7XG4gICAgY2FsbGJhY2s6IGNvbnZlcnRNZXNzYWdlLFxuICAgIGlzUnVubmluZzogY2hhdEhlbHBlcnMuaXNMb2FkaW5nLFxuICAgIG1lc3NhZ2VzOiBjaGF0SGVscGVycy5tZXNzYWdlc1xuICB9KTtcbiAgY29uc3QgcnVudGltZSA9IHVzZUV4dGVybmFsU3RvcmVSdW50aW1lMih7XG4gICAgaXNSdW5uaW5nOiBjaGF0SGVscGVycy5pc0xvYWRpbmcsXG4gICAgbWVzc2FnZXMsXG4gICAgc2V0TWVzc2FnZXM6IChtZXNzYWdlczIpID0+IGNoYXRIZWxwZXJzLnNldE1lc3NhZ2VzKG1lc3NhZ2VzMi5tYXAoZ2V0VmVyY2VsQUlNZXNzYWdlcykuZmxhdCgpKSxcbiAgICBvbkNhbmNlbDogYXN5bmMgKCkgPT4gY2hhdEhlbHBlcnMuc3RvcCgpLFxuICAgIG9uTmV3OiBhc3luYyAobWVzc2FnZSkgPT4ge1xuICAgICAgYXdhaXQgY2hhdEhlbHBlcnMuYXBwZW5kKGF3YWl0IHRvQ3JlYXRlTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgfSxcbiAgICBvbkVkaXQ6IGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IHNsaWNlTWVzc2FnZXNVbnRpbChcbiAgICAgICAgY2hhdEhlbHBlcnMubWVzc2FnZXMsXG4gICAgICAgIG1lc3NhZ2UucGFyZW50SWRcbiAgICAgICk7XG4gICAgICBjaGF0SGVscGVycy5zZXRNZXNzYWdlcyhuZXdNZXNzYWdlcyk7XG4gICAgICBhd2FpdCBjaGF0SGVscGVycy5hcHBlbmQoYXdhaXQgdG9DcmVhdGVNZXNzYWdlKG1lc3NhZ2UpKTtcbiAgICB9LFxuICAgIG9uUmVsb2FkOiBhc3luYyAocGFyZW50SWQpID0+IHtcbiAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gc2xpY2VNZXNzYWdlc1VudGlsKGNoYXRIZWxwZXJzLm1lc3NhZ2VzLCBwYXJlbnRJZCk7XG4gICAgICBjaGF0SGVscGVycy5zZXRNZXNzYWdlcyhuZXdNZXNzYWdlcyk7XG4gICAgICBhd2FpdCBjaGF0SGVscGVycy5yZWxvYWQoKTtcbiAgICB9LFxuICAgIG9uQWRkVG9vbFJlc3VsdDogKHsgdG9vbENhbGxJZCwgcmVzdWx0IH0pID0+IHtcbiAgICAgIGNoYXRIZWxwZXJzLmFkZFRvb2xSZXN1bHQoeyB0b29sQ2FsbElkLCByZXN1bHQgfSk7XG4gICAgfSxcbiAgICBvblN3aXRjaFRvTmV3VGhyZWFkOiAoKSA9PiB7XG4gICAgICBjaGF0SGVscGVycy5tZXNzYWdlcyA9IFtdO1xuICAgICAgY2hhdEhlbHBlcnMuaW5wdXQgPSBcIlwiO1xuICAgICAgY2hhdEhlbHBlcnMuc2V0TWVzc2FnZXMoW10pO1xuICAgICAgY2hhdEhlbHBlcnMuc2V0SW5wdXQoXCJcIik7XG4gICAgfSxcbiAgICBhZGFwdGVyczoge1xuICAgICAgYXR0YWNobWVudHM6IHZlcmNlbEF0dGFjaG1lbnRBZGFwdGVyXG4gICAgfVxuICB9KTtcbiAgdXNlSW5wdXRTeW5jKGNoYXRIZWxwZXJzLCBydW50aW1lKTtcbiAgcmV0dXJuIHJ1bnRpbWU7XG59O1xuXG4vLyBzcmMvdWkvdXNlLWFzc2lzdGFudC91c2VWZXJjZWxVc2VBc3Npc3RhbnRSdW50aW1lLnRzeFxuaW1wb3J0IHtcbiAgdXNlRXh0ZXJuYWxNZXNzYWdlQ29udmVydGVyIGFzIHVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlcjIsXG4gIHVzZUV4dGVybmFsU3RvcmVSdW50aW1lIGFzIHVzZUV4dGVybmFsU3RvcmVSdW50aW1lM1xufSBmcm9tIFwiQGFzc2lzdGFudC11aS9yZWFjdFwiO1xudmFyIHVzZVZlcmNlbFVzZUFzc2lzdGFudFJ1bnRpbWUgPSAoYXNzaXN0YW50SGVscGVycykgPT4ge1xuICBjb25zdCBtZXNzYWdlcyA9IHVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlcjIoe1xuICAgIGNhbGxiYWNrOiBjb252ZXJ0TWVzc2FnZSxcbiAgICBpc1J1bm5pbmc6IGFzc2lzdGFudEhlbHBlcnMuc3RhdHVzID09PSBcImluX3Byb2dyZXNzXCIsXG4gICAgbWVzc2FnZXM6IGFzc2lzdGFudEhlbHBlcnMubWVzc2FnZXNcbiAgfSk7XG4gIGNvbnN0IHJ1bnRpbWUgPSB1c2VFeHRlcm5hbFN0b3JlUnVudGltZTMoe1xuICAgIGlzUnVubmluZzogYXNzaXN0YW50SGVscGVycy5zdGF0dXMgPT09IFwiaW5fcHJvZ3Jlc3NcIixcbiAgICBtZXNzYWdlcyxcbiAgICBvbkNhbmNlbDogYXN5bmMgKCkgPT4gYXNzaXN0YW50SGVscGVycy5zdG9wKCksXG4gICAgb25OZXc6IGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICBhd2FpdCBhc3Npc3RhbnRIZWxwZXJzLmFwcGVuZChhd2FpdCB0b0NyZWF0ZU1lc3NhZ2UobWVzc2FnZSkpO1xuICAgIH0sXG4gICAgb25Td2l0Y2hUb05ld1RocmVhZDogKCkgPT4ge1xuICAgICAgYXNzaXN0YW50SGVscGVycy5tZXNzYWdlcyA9IFtdO1xuICAgICAgYXNzaXN0YW50SGVscGVycy5pbnB1dCA9IFwiXCI7XG4gICAgICBhc3Npc3RhbnRIZWxwZXJzLnNldE1lc3NhZ2VzKFtdKTtcbiAgICAgIGFzc2lzdGFudEhlbHBlcnMuc2V0SW5wdXQoXCJcIik7XG4gICAgfSxcbiAgICBhZGFwdGVyczoge1xuICAgICAgYXR0YWNobWVudHM6IHZlcmNlbEF0dGFjaG1lbnRBZGFwdGVyXG4gICAgfVxuICB9KTtcbiAgdXNlSW5wdXRTeW5jKGFzc2lzdGFudEhlbHBlcnMsIHJ1bnRpbWUpO1xuICByZXR1cm4gcnVudGltZTtcbn07XG5leHBvcnQge1xuICBnZXRWZXJjZWxBSU1lc3NhZ2VzIGFzIGdldFZlcmNlbEFJTWVzc2FnZSxcbiAgZ2V0VmVyY2VsQUlNZXNzYWdlcyxcbiAgZ2V0VmVyY2VsUlNDTWVzc2FnZSxcbiAgdXNlVmVyY2VsUlNDUnVudGltZSxcbiAgdXNlVmVyY2VsVXNlQXNzaXN0YW50UnVudGltZSxcbiAgdXNlVmVyY2VsVXNlQ2hhdFJ1bnRpbWVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@assistant-ui/react-ai-sdk/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@assistant-ui/react-markdown/dist/index.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@assistant-ui/react-markdown/dist/index.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CodeHeader: () => (/* binding */ CodeHeader),\n/* harmony export */   MarkdownTextPrimitive: () => (/* binding */ MarkdownTextPrimitive),\n/* harmony export */   makeMarkdownText: () => (/* binding */ makeMarkdownText),\n/* harmony export */   useIsMarkdownCodeBlock: () => (/* binding */ useIsMarkdownCodeBlock)\n/* harmony export */ });\n/* harmony import */ var _assistant_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @assistant-ui/react */ \"(ssr)/./node_modules/@assistant-ui/react/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-markdown */ \"(ssr)/./node_modules/react-markdown/lib/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-use-callback-ref */ \"(ssr)/./node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"(ssr)/./node_modules/classnames/index.js\");\n/* harmony import */ var _barrel_optimize_names_CheckIcon_CopyIcon_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=CheckIcon,CopyIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_CheckIcon_CopyIcon_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=CheckIcon,CopyIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* __next_internal_client_entry_do_not_use__ CodeHeader,MarkdownTextPrimitive,makeMarkdownText,useIsMarkdownCodeBlock auto */ // src/primitives/MarkdownText.tsx\n\n\n\n// src/overrides/PreOverride.tsx\n\n\nvar PreContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar useIsMarkdownCodeBlock = ()=>{\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PreContext) !== null;\n};\nvar PreOverride = ({ children, ...rest })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PreContext.Provider, {\n        value: rest,\n        children\n    });\n};\n// src/overrides/defaultComponents.tsx\n\nvar DefaultPre = ({ node, ...rest })=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"pre\", {\n        ...rest\n    });\nvar DefaultCode = ({ node, ...rest })=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"code\", {\n        ...rest\n    });\nvar DefaultCodeBlockContent = ({ components: { Pre, Code }, code })=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Pre, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Code, {\n            children: code\n        })\n    });\nvar DefaultCodeHeader = ()=>null;\n// src/primitives/MarkdownText.tsx\n\n// src/overrides/CodeOverride.tsx\n\n// src/overrides/CodeBlock.tsx\n\n\nvar DefaultCodeBlock = ({ components: { Pre, Code, SyntaxHighlighter, CodeHeader: CodeHeader2 }, language, code })=>{\n    const components = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            Pre,\n            Code\n        }), [\n        Pre,\n        Code\n    ]);\n    const SH = !!language ? SyntaxHighlighter : DefaultCodeBlockContent;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CodeHeader2, {\n                language,\n                code\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SH, {\n                components,\n                language: language ?? \"unknown\",\n                code\n            })\n        ]\n    });\n};\n// src/overrides/CodeOverride.tsx\n\n// src/overrides/withDefaults.tsx\n\nvar withDefaultProps = ({ className, ...defaultProps })=>({ className: classNameProp, ...props })=>{\n        return {\n            className: classnames__WEBPACK_IMPORTED_MODULE_2__(className, classNameProp),\n            ...defaultProps,\n            ...props\n        };\n    };\n// src/overrides/CodeOverride.tsx\n\nvar CodeBlockOverride = ({ components: { Pre, Code, SyntaxHighlighter: FallbackSyntaxHighlighter, CodeHeader: FallbackCodeHeader, by_language = {} }, children, ...codeProps })=>{\n    const preProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PreContext);\n    const getPreProps = withDefaultProps(preProps);\n    const WrappedPre = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_3__.useCallbackRef)((props)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Pre, {\n            ...getPreProps(props)\n        }));\n    const getCodeProps = withDefaultProps(codeProps);\n    const WrappedCode = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_3__.useCallbackRef)((props)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Code, {\n            ...getCodeProps(props)\n        }));\n    const language = /language-(\\w+)/.exec(codeProps.className || \"\")?.[1] ?? \"\";\n    if (typeof children !== \"string\") {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DefaultCodeBlockContent, {\n            components: {\n                Pre: WrappedPre,\n                Code: WrappedCode\n            },\n            code: children\n        });\n    }\n    const SyntaxHighlighter = by_language[language]?.SyntaxHighlighter ?? FallbackSyntaxHighlighter;\n    const CodeHeader2 = by_language[language]?.CodeHeader ?? FallbackCodeHeader;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DefaultCodeBlock, {\n        components: {\n            Pre: WrappedPre,\n            Code: WrappedCode,\n            SyntaxHighlighter,\n            CodeHeader: CodeHeader2\n        },\n        language: language || \"unknown\",\n        code: children\n    });\n};\nvar CodeOverride = ({ components, ...props })=>{\n    const preProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PreContext);\n    if (!preProps) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(components.Code, {\n        ...props\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CodeBlockOverride, {\n        components,\n        ...props\n    });\n};\n// src/primitives/MarkdownText.tsx\n\n\nvar { useSmooth } = _assistant_ui_react__WEBPACK_IMPORTED_MODULE_4__.INTERNAL;\nvar MarkdownTextPrimitive = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ components: userComponents, className, containerProps, containerComponent: Container = \"div\", ...rest }, forwardedRef, smooth = true)=>{\n    const { text, status } = useSmooth((0,_assistant_ui_react__WEBPACK_IMPORTED_MODULE_4__.useContentPartText)(), smooth);\n    const { pre = DefaultPre, code = DefaultCode, SyntaxHighlighter = DefaultCodeBlockContent, CodeHeader: CodeHeader2 = DefaultCodeHeader, by_language, ...componentsRest } = userComponents ?? {};\n    const components = {\n        ...componentsRest,\n        pre: PreOverride,\n        code: (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_3__.useCallbackRef)((props)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CodeOverride, {\n                components: {\n                    Pre: pre,\n                    Code: code,\n                    SyntaxHighlighter,\n                    CodeHeader: CodeHeader2,\n                    by_language\n                },\n                ...props\n            }))\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Container, {\n        \"data-status\": status.type,\n        ...containerProps,\n        className: classnames__WEBPACK_IMPORTED_MODULE_2__(className, containerProps?.className),\n        ref: forwardedRef,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_markdown__WEBPACK_IMPORTED_MODULE_5__.Markdown, {\n            components,\n            ...rest,\n            children: text\n        })\n    });\n});\nMarkdownTextPrimitive.displayName = \"MarkdownTextPrimitive\";\n// src/ui/markdown-text.tsx\n\n// src/ui/code-header.tsx\n\n\n// src/ui/useCopyToClipboard.tsx\n\nvar useCopyToClipboard = ({ copiedDuration = 3e3 } = {})=>{\n    const [isCopied, setIsCopied] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const copyToClipboard = (value)=>{\n        if (!value) return;\n        navigator.clipboard.writeText(value).then(()=>{\n            setIsCopied(true);\n            setTimeout(()=>setIsCopied(false), copiedDuration);\n        });\n    };\n    return {\n        isCopied,\n        copyToClipboard\n    };\n};\n// src/ui/code-header.tsx\n\nvar { TooltipIconButton } = _assistant_ui_react__WEBPACK_IMPORTED_MODULE_4__.INTERNAL;\nvar CodeHeader = ({ language, code })=>{\n    const { strings: { code: { header: { copy: { tooltip = \"Copy\" } = {} } = {} } = {} } = {} } = (0,_assistant_ui_react__WEBPACK_IMPORTED_MODULE_4__.useThreadConfig)();\n    const { isCopied, copyToClipboard } = useCopyToClipboard();\n    const onCopy = ()=>{\n        if (!code || isCopied) return;\n        copyToClipboard(code);\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"aui-code-header-root\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                className: \"aui-code-header-language\",\n                children: language\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(TooltipIconButton, {\n                tooltip,\n                onClick: onCopy,\n                children: [\n                    !isCopied && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_barrel_optimize_names_CheckIcon_CopyIcon_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}),\n                    isCopied && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_barrel_optimize_names_CheckIcon_CopyIcon_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {})\n                ]\n            })\n        ]\n    });\n};\n// src/ui/markdown-text.tsx\n\n\n\nvar { withSmoothContextProvider, useSmoothStatus } = _assistant_ui_react__WEBPACK_IMPORTED_MODULE_4__.INTERNAL;\nvar makeMarkdownText = ({ className, components: userComponents, ...rest } = {})=>{\n    const components = {\n        ...userComponents,\n        CodeHeader: userComponents?.CodeHeader ?? CodeHeader\n    };\n    const MarkdownTextImpl = ()=>{\n        const status = useSmoothStatus();\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MarkdownTextPrimitive, {\n            components,\n            ...rest,\n            className: classnames__WEBPACK_IMPORTED_MODULE_2__(\"aui-md-root\", status.type === \"running\" && \"aui-md-running\", className)\n        });\n    };\n    MarkdownTextImpl.displayName = \"MarkdownText\";\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(withSmoothContextProvider(MarkdownTextImpl), ()=>true);\n};\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFzc2lzdGFudC11aS9yZWFjdC1tYXJrZG93bi9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRTZDO0FBU3RDO0FBQ3FDOztBQ1p3QjtBQWEzRDtBQVZGLElBQU1PLDJCQUFhSCxvREFBYUEsQ0FHN0I7QUFFSCxJQUFNSSx5QkFBeUI7SUFDcEMsT0FBT0gsaURBQVVBLENBQUNFLGdCQUFnQjtBQUNwQztBQUVPLElBQU1FLGNBQTRCLENBQUMsRUFBRUMsUUFBQSxFQUFVLEdBQUdDLE1BQUs7SUFDNUQsT0FBTyxnQkFBQUwsc0RBQUFBLENBQUNDLFdBQVdLLFFBQUEsRUFBWDtRQUFvQkMsT0FBT0Y7UUFBT0Q7SUFBQTtBQUM1Qzs7QUNWRTtBQURLLElBQU1JLGFBQTJCLENBQUMsRUFBRUMsSUFBQSxFQUFNLEdBQUdKLE1BQUssR0FDdkQsZ0JBQUFMLHNEQUFBQSxDQUFDO1FBQUssR0FBR0ssSUFBQTtJQUFBO0FBR0osSUFBTUssY0FBNkIsQ0FBQyxFQUFFRCxJQUFBLEVBQU0sR0FBR0osTUFBSyxHQUN6RCxnQkFBQUwsc0RBQUFBLENBQUM7UUFBTSxHQUFHSyxJQUFBO0lBQUE7QUFHTCxJQUFNTSwwQkFHUixDQUFDLEVBQUVDLFlBQVksRUFBRUMsR0FBQSxFQUFLQyxJQUFBLEVBQUssRUFBR0MsSUFBQSxFQUFLLEdBQ3RDLGdCQUFBZixzREFBQUEsQ0FBQ2EsS0FBQTtRQUNDVCxVQUFBLGdCQUFBSixzREFBQUEsQ0FBQ2MsTUFBQTtZQUFNVixVQUFBVztRQUFBO0lBQUs7QUFJVCxJQUFNQyxvQkFBb0QsSUFBTTs7QUZDeEM7O0FHckJ5Qzs7QUNBN0I7QUErQnZDO0FBVkcsSUFBTUssbUJBQXVDLENBQUMsRUFDbkRULFlBQVksRUFBRUMsR0FBQSxFQUFLQyxJQUFBLEVBQU1RLGlCQUFBLEVBQW1CQyxZQUFBQSxXQUFBQSxFQUFXLEVBQ3ZEQyxRQUFBLEVBQ0FULElBQUEsRUFDRjtJQUNFLE1B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QUd6QyxNQUNMLEdBQTJCLENBQUM7SUFDMUIsTUFBTU8sYUFBYTtRQUNqQixHQUFHa0MsY0FBQTtRQUNIdkIsWUFBWXVCLGdCQUFnQnZCLGNBQWNBO0lBQzVDO0lBRUEsTUFBTTZELG1CQUF1QjtRQUMzQixNQUFNL0IsU0FBUzZCO1FBQ2YsT0FDRSxnQkFBQWxGLHNEQUFBQSxDQUFDNkMsdUJBQUE7WUFDQ2pDO1lBQ0MsR0FBR1AsSUFBQTtZQUNKdUIsV0FBV0YsdUNBQUFBLENBQ1QsZUFDQTJCLE9BQU9HLElBQUEsS0FBUyxhQUFhLGtCQUM3QjVCO1FBQ0Y7SUFHTjtJQUNBd0QsaUJBQWlCMUIsV0FBQSxHQUFjO0lBRS9CLHFCQUFPQywyQ0FBSUEsQ0FBQ3NCLDBCQUEwQkcsbUJBQW1CLElBQU07QUFDakUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9NYXJrZG93blRleHQudHN4PzliZjkiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL292ZXJyaWRlcy9QcmVPdmVycmlkZS50c3g/Y2I1YyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvb3ZlcnJpZGVzL2RlZmF1bHRDb21wb25lbnRzLnRzeD82MDZlIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9vdmVycmlkZXMvQ29kZU92ZXJyaWRlLnRzeD9kYjBjIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9vdmVycmlkZXMvQ29kZUJsb2NrLnRzeD9iZjcxIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9vdmVycmlkZXMvd2l0aERlZmF1bHRzLnRzeD8zYWNlIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91aS9tYXJrZG93bi10ZXh0LnRzeD9lYjgzIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91aS9jb2RlLWhlYWRlci50c3g/ZDVmMyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvdWkvdXNlQ29weVRvQ2xpcGJvYXJkLnRzeD8yOGYxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBJTlRFUk5BTCwgdXNlQ29udGVudFBhcnRUZXh0IH0gZnJvbSBcIkBhc3Npc3RhbnQtdWkvcmVhY3RcIjtcbmltcG9ydCB7XG4gIEVsZW1lbnRSZWYsXG4gIEVsZW1lbnRUeXBlLFxuICBmb3J3YXJkUmVmLFxuICBGb3J3YXJkUmVmRXhvdGljQ29tcG9uZW50LFxuICBSZWZBdHRyaWJ1dGVzLFxuICB0eXBlIENvbXBvbmVudFByb3BzV2l0aG91dFJlZixcbiAgdHlwZSBDb21wb25lbnRUeXBlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdE1hcmtkb3duLCB7IHR5cGUgT3B0aW9ucyB9IGZyb20gXCJyZWFjdC1tYXJrZG93blwiO1xuaW1wb3J0IHsgU3ludGF4SGlnaGxpZ2h0ZXJQcm9wcywgQ29kZUhlYWRlclByb3BzIH0gZnJvbSBcIi4uL292ZXJyaWRlcy90eXBlc1wiO1xuaW1wb3J0IHsgUHJlT3ZlcnJpZGUgfSBmcm9tIFwiLi4vb3ZlcnJpZGVzL1ByZU92ZXJyaWRlXCI7XG5pbXBvcnQge1xuICBEZWZhdWx0UHJlLFxuICBEZWZhdWx0Q29kZSxcbiAgRGVmYXVsdENvZGVCbG9ja0NvbnRlbnQsXG4gIERlZmF1bHRDb2RlSGVhZGVyLFxufSBmcm9tIFwiLi4vb3ZlcnJpZGVzL2RlZmF1bHRDb21wb25lbnRzXCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZlwiO1xuaW1wb3J0IHsgQ29kZU92ZXJyaWRlIH0gZnJvbSBcIi4uL292ZXJyaWRlcy9Db2RlT3ZlcnJpZGVcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiO1xuXG5jb25zdCB7IHVzZVNtb290aCB9ID0gSU5URVJOQUw7XG5cbnR5cGUgTWFya2Rvd25UZXh0UHJpbWl0aXZlRWxlbWVudCA9IEVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xudHlwZSBQcmltaXRpdmVEaXZQcm9wcyA9IENvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG5cbmV4cG9ydCB0eXBlIE1hcmtkb3duVGV4dFByaW1pdGl2ZVByb3BzID0gT21pdDxcbiAgT3B0aW9ucyxcbiAgXCJjb21wb25lbnRzXCIgfCBcImNoaWxkcmVuXCJcbj4gJiB7XG4gIGNvbnRhaW5lclByb3BzPzogT21pdDxQcmltaXRpdmVEaXZQcm9wcywgXCJjaGlsZHJlblwiIHwgXCJhc0NoaWxkXCI+O1xuICBjb250YWluZXJDb21wb25lbnQ/OiBFbGVtZW50VHlwZTtcbiAgY29tcG9uZW50cz86IE5vbk51bGxhYmxlPE9wdGlvbnNbXCJjb21wb25lbnRzXCJdPiAmIHtcbiAgICBTeW50YXhIaWdobGlnaHRlcj86IENvbXBvbmVudFR5cGU8U3ludGF4SGlnaGxpZ2h0ZXJQcm9wcz47XG4gICAgQ29kZUhlYWRlcj86IENvbXBvbmVudFR5cGU8Q29kZUhlYWRlclByb3BzPjtcbiAgICBieV9sYW5ndWFnZT86IFJlY29yZDxcbiAgICAgIHN0cmluZyxcbiAgICAgIHtcbiAgICAgICAgQ29kZUhlYWRlcj86IENvbXBvbmVudFR5cGU8Q29kZUhlYWRlclByb3BzPjtcbiAgICAgICAgU3ludGF4SGlnaGxpZ2h0ZXI/OiBDb21wb25lbnRUeXBlPFN5bnRheEhpZ2hsaWdodGVyUHJvcHM+O1xuICAgICAgfVxuICAgID47XG4gIH07XG4gIHNtb290aD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY29uc3QgTWFya2Rvd25UZXh0UHJpbWl0aXZlOiBGb3J3YXJkUmVmRXhvdGljQ29tcG9uZW50PE1hcmtkb3duVGV4dFByaW1pdGl2ZVByb3BzPiAmXG4gIFJlZkF0dHJpYnV0ZXM8TWFya2Rvd25UZXh0UHJpbWl0aXZlRWxlbWVudD4gPSBmb3J3YXJkUmVmPFxuICBNYXJrZG93blRleHRQcmltaXRpdmVFbGVtZW50LFxuICBNYXJrZG93blRleHRQcmltaXRpdmVQcm9wc1xuPihcbiAgKFxuICAgIHtcbiAgICAgIGNvbXBvbmVudHM6IHVzZXJDb21wb25lbnRzLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgY29udGFpbmVyUHJvcHMsXG4gICAgICBjb250YWluZXJDb21wb25lbnQ6IENvbnRhaW5lciA9IFwiZGl2XCIsXG4gICAgICAuLi5yZXN0XG4gICAgfSxcbiAgICBmb3J3YXJkZWRSZWYsXG4gICAgc21vb3RoID0gdHJ1ZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgeyB0ZXh0LCBzdGF0dXMgfSA9IHVzZVNtb290aCh1c2VDb250ZW50UGFydFRleHQoKSwgc21vb3RoKTtcblxuICAgIGNvbnN0IHtcbiAgICAgIHByZSA9IERlZmF1bHRQcmUsXG4gICAgICBjb2RlID0gRGVmYXVsdENvZGUsXG4gICAgICBTeW50YXhIaWdobGlnaHRlciA9IERlZmF1bHRDb2RlQmxvY2tDb250ZW50LFxuICAgICAgQ29kZUhlYWRlciA9IERlZmF1bHRDb2RlSGVhZGVyLFxuICAgICAgYnlfbGFuZ3VhZ2UsXG4gICAgICAuLi5jb21wb25lbnRzUmVzdFxuICAgIH0gPSB1c2VyQ29tcG9uZW50cyA/PyB7fTtcbiAgICBjb25zdCBjb21wb25lbnRzOiB0eXBlb2YgdXNlckNvbXBvbmVudHMgPSB7XG4gICAgICAuLi5jb21wb25lbnRzUmVzdCxcbiAgICAgIHByZTogUHJlT3ZlcnJpZGUsXG4gICAgICBjb2RlOiB1c2VDYWxsYmFja1JlZigocHJvcHMpID0+IChcbiAgICAgICAgPENvZGVPdmVycmlkZVxuICAgICAgICAgIGNvbXBvbmVudHM9e3tcbiAgICAgICAgICAgIFByZTogcHJlLFxuICAgICAgICAgICAgQ29kZTogY29kZSxcbiAgICAgICAgICAgIFN5bnRheEhpZ2hsaWdodGVyLFxuICAgICAgICAgICAgQ29kZUhlYWRlcixcbiAgICAgICAgICAgIGJ5X2xhbmd1YWdlLFxuICAgICAgICAgIH19XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgKSksXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Q29udGFpbmVyXG4gICAgICAgIGRhdGEtc3RhdHVzPXtzdGF0dXMudHlwZX1cbiAgICAgICAgey4uLmNvbnRhaW5lclByb3BzfVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoY2xhc3NOYW1lLCBjb250YWluZXJQcm9wcz8uY2xhc3NOYW1lKX1cbiAgICAgICAgcmVmPXtmb3J3YXJkZWRSZWZ9XG4gICAgICA+XG4gICAgICAgIDxSZWFjdE1hcmtkb3duIGNvbXBvbmVudHM9e2NvbXBvbmVudHN9IHsuLi5yZXN0fT5cbiAgICAgICAgICB7dGV4dH1cbiAgICAgICAgPC9SZWFjdE1hcmtkb3duPlxuICAgICAgPC9Db250YWluZXI+XG4gICAgKTtcbiAgfSxcbik7XG5cbk1hcmtkb3duVGV4dFByaW1pdGl2ZS5kaXNwbGF5TmFtZSA9IFwiTWFya2Rvd25UZXh0UHJpbWl0aXZlXCI7XG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYsIHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFByZUNvbXBvbmVudCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBQcmVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxPbWl0PFxuICBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8UHJlQ29tcG9uZW50PixcbiAgXCJjaGlsZHJlblwiXG4+IHwgbnVsbD4obnVsbCk7XG5cbmV4cG9ydCBjb25zdCB1c2VJc01hcmtkb3duQ29kZUJsb2NrID0gKCkgPT4ge1xuICByZXR1cm4gdXNlQ29udGV4dChQcmVDb250ZXh0KSAhPT0gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBQcmVPdmVycmlkZTogUHJlQ29tcG9uZW50ID0gKHsgY2hpbGRyZW4sIC4uLnJlc3QgfSkgPT4ge1xuICByZXR1cm4gPFByZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3Jlc3R9PntjaGlsZHJlbn08L1ByZUNvbnRleHQuUHJvdmlkZXI+O1xufTtcbiIsImltcG9ydCB0eXBlIHsgQ29tcG9uZW50VHlwZSwgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBQcmVDb21wb25lbnQsIENvZGVDb21wb25lbnQsIENvZGVIZWFkZXJQcm9wcyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0UHJlOiBQcmVDb21wb25lbnQgPSAoeyBub2RlLCAuLi5yZXN0IH0pID0+IChcbiAgPHByZSB7Li4ucmVzdH0gLz5cbik7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0Q29kZTogQ29kZUNvbXBvbmVudCA9ICh7IG5vZGUsIC4uLnJlc3QgfSkgPT4gKFxuICA8Y29kZSB7Li4ucmVzdH0gLz5cbik7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0Q29kZUJsb2NrQ29udGVudDogQ29tcG9uZW50VHlwZTx7XG4gIGNvbXBvbmVudHM6IHsgUHJlOiBQcmVDb21wb25lbnQ7IENvZGU6IENvZGVDb21wb25lbnQgfTtcbiAgY29kZTogc3RyaW5nIHwgUmVhY3ROb2RlIHwgdW5kZWZpbmVkO1xufT4gPSAoeyBjb21wb25lbnRzOiB7IFByZSwgQ29kZSB9LCBjb2RlIH0pID0+IChcbiAgPFByZT5cbiAgICA8Q29kZT57Y29kZX08L0NvZGU+XG4gIDwvUHJlPlxuKTtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRDb2RlSGVhZGVyOiBDb21wb25lbnRUeXBlPENvZGVIZWFkZXJQcm9wcz4gPSAoKSA9PiBudWxsO1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBDb21wb25lbnRUeXBlLCBGQywgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUHJlQ29udGV4dCB9IGZyb20gXCIuL1ByZU92ZXJyaWRlXCI7XG5pbXBvcnQge1xuICBDb2RlQ29tcG9uZW50LFxuICBDb2RlSGVhZGVyUHJvcHMsXG4gIFByZUNvbXBvbmVudCxcbiAgU3ludGF4SGlnaGxpZ2h0ZXJQcm9wcyxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IERlZmF1bHRDb2RlQmxvY2sgfSBmcm9tIFwiLi9Db2RlQmxvY2tcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrUmVmIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC11c2UtY2FsbGJhY2stcmVmXCI7XG5pbXBvcnQgeyB3aXRoRGVmYXVsdFByb3BzIH0gZnJvbSBcIi4vd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29kZUJsb2NrQ29udGVudCB9IGZyb20gXCIuL2RlZmF1bHRDb21wb25lbnRzXCI7XG5cbmNvbnN0IENvZGVCbG9ja092ZXJyaWRlOiBGQzxDb2RlT3ZlcnJpZGVQcm9wcz4gPSAoe1xuICBjb21wb25lbnRzOiB7XG4gICAgUHJlLFxuICAgIENvZGUsXG4gICAgU3ludGF4SGlnaGxpZ2h0ZXI6IEZhbGxiYWNrU3ludGF4SGlnaGxpZ2h0ZXIsXG4gICAgQ29kZUhlYWRlcjogRmFsbGJhY2tDb2RlSGVhZGVyLFxuICAgIGJ5X2xhbmd1YWdlID0ge30sXG4gIH0sXG4gIGNoaWxkcmVuLFxuICAuLi5jb2RlUHJvcHNcbn0pID0+IHtcbiAgY29uc3QgcHJlUHJvcHMgPSB1c2VDb250ZXh0KFByZUNvbnRleHQpITtcbiAgY29uc3QgZ2V0UHJlUHJvcHMgPSB3aXRoRGVmYXVsdFByb3BzPGFueT4ocHJlUHJvcHMpO1xuICBjb25zdCBXcmFwcGVkUHJlOiBQcmVDb21wb25lbnQgPSB1c2VDYWxsYmFja1JlZigocHJvcHMpID0+IChcbiAgICA8UHJlIHsuLi5nZXRQcmVQcm9wcyhwcm9wcyl9IC8+XG4gICkpO1xuXG4gIGNvbnN0IGdldENvZGVQcm9wcyA9IHdpdGhEZWZhdWx0UHJvcHM8YW55Pihjb2RlUHJvcHMpO1xuICBjb25zdCBXcmFwcGVkQ29kZTogQ29kZUNvbXBvbmVudCA9IHVzZUNhbGxiYWNrUmVmKChwcm9wcykgPT4gKFxuICAgIDxDb2RlIHsuLi5nZXRDb2RlUHJvcHMocHJvcHMpfSAvPlxuICApKTtcblxuICBjb25zdCBsYW5ndWFnZSA9IC9sYW5ndWFnZS0oXFx3KykvLmV4ZWMoY29kZVByb3BzLmNsYXNzTmFtZSB8fCBcIlwiKT8uWzFdID8/IFwiXCI7XG5cbiAgLy8gaWYgdGhlIGNvZGUgY29udGVudCBpcyBub3Qgc3RyaW5nIChkdWUgdG8gcmVoeXBlIHBsdWdpbnMpLCByZXR1cm4gYSBkZWZhdWx0IGNvZGUgYmxvY2tcbiAgaWYgKHR5cGVvZiBjaGlsZHJlbiAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiAoXG4gICAgICA8RGVmYXVsdENvZGVCbG9ja0NvbnRlbnRcbiAgICAgICAgY29tcG9uZW50cz17eyBQcmU6IFdyYXBwZWRQcmUsIENvZGU6IFdyYXBwZWRDb2RlIH19XG4gICAgICAgIGNvZGU9e2NoaWxkcmVufVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgU3ludGF4SGlnaGxpZ2h0ZXI6IENvbXBvbmVudFR5cGU8U3ludGF4SGlnaGxpZ2h0ZXJQcm9wcz4gPVxuICAgIGJ5X2xhbmd1YWdlW2xhbmd1YWdlXT8uU3ludGF4SGlnaGxpZ2h0ZXIgPz8gRmFsbGJhY2tTeW50YXhIaWdobGlnaHRlcjtcblxuICBjb25zdCBDb2RlSGVhZGVyOiBDb21wb25lbnRUeXBlPENvZGVIZWFkZXJQcm9wcz4gPVxuICAgIGJ5X2xhbmd1YWdlW2xhbmd1YWdlXT8uQ29kZUhlYWRlciA/PyBGYWxsYmFja0NvZGVIZWFkZXI7XG5cbiAgcmV0dXJuIChcbiAgICA8RGVmYXVsdENvZGVCbG9ja1xuICAgICAgY29tcG9uZW50cz17e1xuICAgICAgICBQcmU6IFdyYXBwZWRQcmUsXG4gICAgICAgIENvZGU6IFdyYXBwZWRDb2RlLFxuICAgICAgICBTeW50YXhIaWdobGlnaHRlcixcbiAgICAgICAgQ29kZUhlYWRlcixcbiAgICAgIH19XG4gICAgICBsYW5ndWFnZT17bGFuZ3VhZ2UgfHwgXCJ1bmtub3duXCJ9XG4gICAgICBjb2RlPXtjaGlsZHJlbn1cbiAgICAvPlxuICApO1xufTtcblxuZXhwb3J0IHR5cGUgQ29kZU92ZXJyaWRlUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8Q29kZUNvbXBvbmVudD4gJiB7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBQcmU6IFByZUNvbXBvbmVudDtcbiAgICBDb2RlOiBDb2RlQ29tcG9uZW50O1xuICAgIENvZGVIZWFkZXI6IENvbXBvbmVudFR5cGU8Q29kZUhlYWRlclByb3BzPjtcbiAgICBTeW50YXhIaWdobGlnaHRlcjogQ29tcG9uZW50VHlwZTxTeW50YXhIaWdobGlnaHRlclByb3BzPjtcbiAgICBieV9sYW5ndWFnZT86IFJlY29yZDxcbiAgICAgIHN0cmluZyxcbiAgICAgIHtcbiAgICAgICAgQ29kZUhlYWRlcj86IENvbXBvbmVudFR5cGU8Q29kZUhlYWRlclByb3BzPjtcbiAgICAgICAgU3ludGF4SGlnaGxpZ2h0ZXI/OiBDb21wb25lbnRUeXBlPFN5bnRheEhpZ2hsaWdodGVyUHJvcHM+O1xuICAgICAgfVxuICAgID47XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgQ29kZU92ZXJyaWRlOiBGQzxDb2RlT3ZlcnJpZGVQcm9wcz4gPSAoe1xuICBjb21wb25lbnRzLFxuICAuLi5wcm9wc1xufSkgPT4ge1xuICBjb25zdCBwcmVQcm9wcyA9IHVzZUNvbnRleHQoUHJlQ29udGV4dCk7XG4gIGlmICghcHJlUHJvcHMpIHJldHVybiA8Y29tcG9uZW50cy5Db2RlIHsuLi4ocHJvcHMgYXMgYW55KX0gLz47XG4gIHJldHVybiA8Q29kZUJsb2NrT3ZlcnJpZGUgY29tcG9uZW50cz17Y29tcG9uZW50c30gey4uLnByb3BzfSAvPjtcbn07XG4iLCJpbXBvcnQgeyBDb21wb25lbnRUeXBlLCBGQywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQge1xuICBDb2RlQ29tcG9uZW50LFxuICBDb2RlSGVhZGVyUHJvcHMsXG4gIFByZUNvbXBvbmVudCxcbiAgU3ludGF4SGlnaGxpZ2h0ZXJQcm9wcyxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IERlZmF1bHRDb2RlQmxvY2tDb250ZW50IH0gZnJvbSBcIi4vZGVmYXVsdENvbXBvbmVudHNcIjtcblxuZXhwb3J0IHR5cGUgQ29kZUJsb2NrUHJvcHMgPSB7XG4gIGxhbmd1YWdlOiBzdHJpbmc7XG4gIGNvZGU6IHN0cmluZztcbiAgY29tcG9uZW50czoge1xuICAgIFByZTogUHJlQ29tcG9uZW50O1xuICAgIENvZGU6IENvZGVDb21wb25lbnQ7XG4gICAgQ29kZUhlYWRlcjogQ29tcG9uZW50VHlwZTxDb2RlSGVhZGVyUHJvcHM+O1xuICAgIFN5bnRheEhpZ2hsaWdodGVyOiBDb21wb25lbnRUeXBlPFN5bnRheEhpZ2hsaWdodGVyUHJvcHM+O1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRDb2RlQmxvY2s6IEZDPENvZGVCbG9ja1Byb3BzPiA9ICh7XG4gIGNvbXBvbmVudHM6IHsgUHJlLCBDb2RlLCBTeW50YXhIaWdobGlnaHRlciwgQ29kZUhlYWRlciB9LFxuICBsYW5ndWFnZSxcbiAgY29kZSxcbn0pID0+IHtcbiAgY29uc3QgY29tcG9uZW50cyA9IHVzZU1lbW8oKCkgPT4gKHsgUHJlLCBDb2RlIH0pLCBbUHJlLCBDb2RlXSk7XG5cbiAgY29uc3QgU0ggPSAhIWxhbmd1YWdlID8gU3ludGF4SGlnaGxpZ2h0ZXIgOiBEZWZhdWx0Q29kZUJsb2NrQ29udGVudDtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8Q29kZUhlYWRlciBsYW5ndWFnZT17bGFuZ3VhZ2V9IGNvZGU9e2NvZGV9IC8+XG4gICAgICA8U0hcbiAgICAgICAgY29tcG9uZW50cz17Y29tcG9uZW50c31cbiAgICAgICAgbGFuZ3VhZ2U9e2xhbmd1YWdlID8/IFwidW5rbm93blwifVxuICAgICAgICBjb2RlPXtjb2RlfVxuICAgICAgLz5cbiAgICA8Lz5cbiAgKTtcbn07XG4iLCJpbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiO1xuXG5leHBvcnQgY29uc3Qgd2l0aERlZmF1bHRQcm9wcyA9XG4gIDxUUHJvcHMgZXh0ZW5kcyB7IGNsYXNzTmFtZT86IHN0cmluZyB8IHVuZGVmaW5lZCB9Pih7XG4gICAgY2xhc3NOYW1lLFxuICAgIC4uLmRlZmF1bHRQcm9wc1xuICB9OiBQYXJ0aWFsPFRQcm9wcz4pID0+XG4gICh7IGNsYXNzTmFtZTogY2xhc3NOYW1lUHJvcCwgLi4ucHJvcHMgfTogVFByb3BzKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhjbGFzc05hbWUsIGNsYXNzTmFtZVByb3ApLFxuICAgICAgLi4uZGVmYXVsdFByb3BzLFxuICAgICAgLi4ucHJvcHMsXG4gICAgfSBhcyBUUHJvcHM7XG4gIH07XG4iLCJpbXBvcnQgeyBGQywgbWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ29kZUhlYWRlciB9IGZyb20gXCIuL2NvZGUtaGVhZGVyXCI7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiO1xuaW1wb3J0IHtcbiAgTWFya2Rvd25UZXh0UHJpbWl0aXZlLFxuICBNYXJrZG93blRleHRQcmltaXRpdmVQcm9wcyxcbn0gZnJvbSBcIi4uL3ByaW1pdGl2ZXMvTWFya2Rvd25UZXh0XCI7XG5pbXBvcnQgeyBJTlRFUk5BTCB9IGZyb20gXCJAYXNzaXN0YW50LXVpL3JlYWN0XCI7XG5cbmNvbnN0IHsgd2l0aFNtb290aENvbnRleHRQcm92aWRlciwgdXNlU21vb3RoU3RhdHVzIH0gPSBJTlRFUk5BTDtcblxuZXhwb3J0IHR5cGUgTWFrZU1hcmtkb3duVGV4dFByb3BzID0gTWFya2Rvd25UZXh0UHJpbWl0aXZlUHJvcHM7XG5cbmV4cG9ydCBjb25zdCBtYWtlTWFya2Rvd25UZXh0ID0gKHtcbiAgY2xhc3NOYW1lLFxuICBjb21wb25lbnRzOiB1c2VyQ29tcG9uZW50cyxcbiAgLi4ucmVzdFxufTogTWFrZU1hcmtkb3duVGV4dFByb3BzID0ge30pID0+IHtcbiAgY29uc3QgY29tcG9uZW50cyA9IHtcbiAgICAuLi51c2VyQ29tcG9uZW50cyxcbiAgICBDb2RlSGVhZGVyOiB1c2VyQ29tcG9uZW50cz8uQ29kZUhlYWRlciA/PyBDb2RlSGVhZGVyLFxuICB9O1xuXG4gIGNvbnN0IE1hcmtkb3duVGV4dEltcGw6IEZDID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXR1cyA9IHVzZVNtb290aFN0YXR1cygpO1xuICAgIHJldHVybiAoXG4gICAgICA8TWFya2Rvd25UZXh0UHJpbWl0aXZlXG4gICAgICAgIGNvbXBvbmVudHM9e2NvbXBvbmVudHN9XG4gICAgICAgIHsuLi5yZXN0fVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXG4gICAgICAgICAgXCJhdWktbWQtcm9vdFwiLFxuICAgICAgICAgIHN0YXR1cy50eXBlID09PSBcInJ1bm5pbmdcIiAmJiBcImF1aS1tZC1ydW5uaW5nXCIsXG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICApfVxuICAgICAgLz5cbiAgICApO1xuICB9O1xuICBNYXJrZG93blRleHRJbXBsLmRpc3BsYXlOYW1lID0gXCJNYXJrZG93blRleHRcIjtcblxuICByZXR1cm4gbWVtbyh3aXRoU21vb3RoQ29udGV4dFByb3ZpZGVyKE1hcmtkb3duVGV4dEltcGwpLCAoKSA9PiB0cnVlKTtcbn07XG4iLCJpbXBvcnQgeyBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ2hlY2tJY29uLCBDb3B5SWNvbiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IElOVEVSTkFMLCB1c2VUaHJlYWRDb25maWcgfSBmcm9tIFwiQGFzc2lzdGFudC11aS9yZWFjdFwiO1xuXG5pbXBvcnQgeyBDb2RlSGVhZGVyUHJvcHMgfSBmcm9tIFwiLi4vb3ZlcnJpZGVzL3R5cGVzXCI7XG5pbXBvcnQgeyB1c2VDb3B5VG9DbGlwYm9hcmQgfSBmcm9tIFwiLi91c2VDb3B5VG9DbGlwYm9hcmRcIjtcblxuY29uc3QgeyBUb29sdGlwSWNvbkJ1dHRvbiB9ID0gSU5URVJOQUw7XG5cbmV4cG9ydCBjb25zdCBDb2RlSGVhZGVyOiBGQzxDb2RlSGVhZGVyUHJvcHM+ID0gKHsgbGFuZ3VhZ2UsIGNvZGUgfSkgPT4ge1xuICBjb25zdCB7XG4gICAgc3RyaW5nczoge1xuICAgICAgY29kZTogeyBoZWFkZXI6IHsgY29weTogeyB0b29sdGlwID0gXCJDb3B5XCIgfSA9IHt9IH0gPSB7fSB9ID0ge30sXG4gICAgfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG5cbiAgY29uc3QgeyBpc0NvcGllZCwgY29weVRvQ2xpcGJvYXJkIH0gPSB1c2VDb3B5VG9DbGlwYm9hcmQoKTtcbiAgY29uc3Qgb25Db3B5ID0gKCkgPT4ge1xuICAgIGlmICghY29kZSB8fCBpc0NvcGllZCkgcmV0dXJuO1xuICAgIGNvcHlUb0NsaXBib2FyZChjb2RlKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYXVpLWNvZGUtaGVhZGVyLXJvb3RcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImF1aS1jb2RlLWhlYWRlci1sYW5ndWFnZVwiPntsYW5ndWFnZX08L3NwYW4+XG4gICAgICA8VG9vbHRpcEljb25CdXR0b24gdG9vbHRpcD17dG9vbHRpcH0gb25DbGljaz17b25Db3B5fT5cbiAgICAgICAgeyFpc0NvcGllZCAmJiA8Q29weUljb24gLz59XG4gICAgICAgIHtpc0NvcGllZCAmJiA8Q2hlY2tJY29uIC8+fVxuICAgICAgPC9Ub29sdGlwSWNvbkJ1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVXNlQWN0aW9uQmFyQ29weVByb3BzIH0gZnJvbSBcIkBhc3Npc3RhbnQtdWkvcmVhY3RcIjtcblxuZXhwb3J0IHR5cGUgdXNlQ29weVRvQ2xpcGJvYXJkUHJvcHMgPSBVc2VBY3Rpb25CYXJDb3B5UHJvcHM7XG5cbmV4cG9ydCBjb25zdCB1c2VDb3B5VG9DbGlwYm9hcmQgPSAoe1xuICBjb3BpZWREdXJhdGlvbiA9IDMwMDAsXG59OiB1c2VDb3B5VG9DbGlwYm9hcmRQcm9wcyA9IHt9KSA9PiB7XG4gIGNvbnN0IFtpc0NvcGllZCwgc2V0SXNDb3BpZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIGNvbnN0IGNvcHlUb0NsaXBib2FyZCA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuXG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgc2V0SXNDb3BpZWQodHJ1ZSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldElzQ29waWVkKGZhbHNlKSwgY29waWVkRHVyYXRpb24pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7IGlzQ29waWVkLCBjb3B5VG9DbGlwYm9hcmQgfTtcbn07XG4iXSwibmFtZXMiOlsiSU5URVJOQUwiLCJ1c2VDb250ZW50UGFydFRleHQiLCJmb3J3YXJkUmVmIiwiUmVhY3RNYXJrZG93biIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwianN4IiwiUHJlQ29udGV4dCIsInVzZUlzTWFya2Rvd25Db2RlQmxvY2siLCJQcmVPdmVycmlkZSIsImNoaWxkcmVuIiwicmVzdCIsIlByb3ZpZGVyIiwidmFsdWUiLCJEZWZhdWx0UHJlIiwibm9kZSIsIkRlZmF1bHRDb2RlIiwiRGVmYXVsdENvZGVCbG9ja0NvbnRlbnQiLCJjb21wb25lbnRzIiwiUHJlIiwiQ29kZSIsImNvZGUiLCJEZWZhdWx0Q29kZUhlYWRlciIsInVzZUNhbGxiYWNrUmVmIiwidXNlTWVtbyIsIkZyYWdtZW50IiwianN4cyIsIkRlZmF1bHRDb2RlQmxvY2siLCJTeW50YXhIaWdobGlnaHRlciIsIkNvZGVIZWFkZXIiLCJsYW5ndWFnZSIsIlNIIiwiY2xhc3NOYW1lcyIsIndpdGhEZWZhdWx0UHJvcHMiLCJjbGFzc05hbWUiLCJkZWZhdWx0UHJvcHMiLCJjbGFzc05hbWVQcm9wIiwicHJvcHMiLCJDb2RlQmxvY2tPdmVycmlkZSIsIkZhbGxiYWNrU3ludGF4SGlnaGxpZ2h0ZXIiLCJGYWxsYmFja0NvZGVIZWFkZXIiLCJieV9sYW5ndWFnZSIsImNvZGVQcm9wcyIsInByZVByb3BzIiwiZ2V0UHJlUHJvcHMiLCJXcmFwcGVkUHJlIiwiZ2V0Q29kZVByb3BzIiwiV3JhcHBlZENvZGUiLCJleGVjIiwiQ29kZU92ZXJyaWRlIiwidXNlU21vb3RoIiwiTWFya2Rvd25UZXh0UHJpbWl0aXZlIiwidXNlckNvbXBvbmVudHMiLCJjb250YWluZXJQcm9wcyIsImNvbnRhaW5lckNvbXBvbmVudCIsIkNvbnRhaW5lciIsImZvcndhcmRlZFJlZiIsInNtb290aCIsInRleHQiLCJzdGF0dXMiLCJwcmUiLCJjb21wb25lbnRzUmVzdCIsInR5cGUiLCJyZWYiLCJkaXNwbGF5TmFtZSIsIm1lbW8iLCJDaGVja0ljb24iLCJDb3B5SWNvbiIsInVzZVRocmVhZENvbmZpZyIsInVzZVN0YXRlIiwidXNlQ29weVRvQ2xpcGJvYXJkIiwiY29waWVkRHVyYXRpb24iLCJpc0NvcGllZCIsInNldElzQ29waWVkIiwiY29weVRvQ2xpcGJvYXJkIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGhlbiIsInNldFRpbWVvdXQiLCJUb29sdGlwSWNvbkJ1dHRvbiIsInN0cmluZ3MiLCJoZWFkZXIiLCJjb3B5IiwidG9vbHRpcCIsIm9uQ29weSIsIm9uQ2xpY2siLCJ3aXRoU21vb3RoQ29udGV4dFByb3ZpZGVyIiwidXNlU21vb3RoU3RhdHVzIiwibWFrZU1hcmtkb3duVGV4dCIsIk1hcmtkb3duVGV4dEltcGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@assistant-ui/react-markdown/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@assistant-ui/react/dist/chunk-BJPOCE4O.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@assistant-ui/react/dist/chunk-BJPOCE4O.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __export: () => (/* binding */ __export)
/* harmony export */ });
/* __next_internal_client_entry_do_not_use__ __export auto */ var __defProp = Object.defineProperty;
var __export = (target, all)=>{
    for(var name in all)__defProp(target, name, {
        get: all[name],
        enumerable: true
    });
};
 //# sourceMappingURL=chunk-BJPOCE4O.mjs.map


/***/ }),

/***/ "(ssr)/./node_modules/@assistant-ui/react/dist/chunk-TWIMAOZR.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@assistant-ui/react/dist/chunk-TWIMAOZR.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PipeableTransformStream: () => (/* binding */ PipeableTransformStream),\n/* harmony export */   createEdgeRuntimeAPI: () => (/* binding */ createEdgeRuntimeAPI),\n/* harmony export */   getEdgeRuntimeResponse: () => (/* binding */ getEdgeRuntimeResponse),\n/* harmony export */   getEdgeRuntimeStream: () => (/* binding */ getEdgeRuntimeStream),\n/* harmony export */   mergeModelConfigs: () => (/* binding */ mergeModelConfigs),\n/* harmony export */   runResultStream: () => (/* binding */ runResultStream),\n/* harmony export */   streamPartEncoderStream: () => (/* binding */ streamPartEncoderStream),\n/* harmony export */   toCoreMessage: () => (/* binding */ toCoreMessage),\n/* harmony export */   toCoreMessages: () => (/* binding */ toCoreMessages),\n/* harmony export */   toLanguageModelMessages: () => (/* binding */ toLanguageModelMessages),\n/* harmony export */   toLanguageModelTools: () => (/* binding */ toLanguageModelTools),\n/* harmony export */   toolResultStream: () => (/* binding */ toolResultStream)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod-to-json-schema */ \"(ssr)/./node_modules/zod-to-json-schema/dist/esm/index.js\");\n/* harmony import */ var secure_json_parse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! secure-json-parse */ \"(ssr)/./node_modules/secure-json-parse/index.js\");\n/* __next_internal_client_entry_do_not_use__ mergeModelConfigs,toLanguageModelMessages,toLanguageModelTools,toolResultStream,runResultStream,toCoreMessages,toCoreMessage,PipeableTransformStream,streamPartEncoderStream,getEdgeRuntimeStream,getEdgeRuntimeResponse,createEdgeRuntimeAPI auto */ // src/runtimes/edge/converters/toLanguageModelMessages.ts\nvar assistantMessageSplitter = ()=>{\n    const stash = [];\n    let assistantMessage = {\n        role: \"assistant\",\n        content: []\n    };\n    let toolMessage = {\n        role: \"tool\",\n        content: []\n    };\n    return {\n        addTextContentPart: (part)=>{\n            if (toolMessage.content.length > 0) {\n                stash.push(assistantMessage);\n                stash.push(toolMessage);\n                assistantMessage = {\n                    role: \"assistant\",\n                    content: []\n                };\n                toolMessage = {\n                    role: \"tool\",\n                    content: []\n                };\n            }\n            assistantMessage.content.push(part);\n        },\n        addToolCallPart: (part)=>{\n            assistantMessage.content.push({\n                type: \"tool-call\",\n                toolCallId: part.toolCallId,\n                toolName: part.toolName,\n                args: part.args\n            });\n            toolMessage.content.push({\n                type: \"tool-result\",\n                toolCallId: part.toolCallId,\n                toolName: part.toolName,\n                result: part.result ?? \"<no result>\",\n                isError: part.isError ?? false\n            });\n        },\n        getMessages: ()=>{\n            if (toolMessage.content.length > 0) {\n                return [\n                    ...stash,\n                    assistantMessage,\n                    toolMessage\n                ];\n            }\n            return [\n                ...stash,\n                assistantMessage\n            ];\n        }\n    };\n};\nfunction toLanguageModelMessages(message) {\n    return message.flatMap((message2)=>{\n        const role = message2.role;\n        switch(role){\n            case \"system\":\n                {\n                    return [\n                        {\n                            role: \"system\",\n                            content: message2.content[0].text\n                        }\n                    ];\n                }\n            case \"user\":\n                {\n                    const msg = {\n                        role: \"user\",\n                        content: message2.content.map((part)=>{\n                            const type = part.type;\n                            switch(type){\n                                case \"text\":\n                                    {\n                                        return part;\n                                    }\n                                case \"image\":\n                                    {\n                                        return {\n                                            type: \"image\",\n                                            image: new URL(part.image)\n                                        };\n                                    }\n                                default:\n                                    {\n                                        const unhandledType = type;\n                                        throw new Error(`Unspported content part type: ${unhandledType}`);\n                                    }\n                            }\n                        })\n                    };\n                    return [\n                        msg\n                    ];\n                }\n            case \"assistant\":\n                {\n                    const splitter = assistantMessageSplitter();\n                    for (const part of message2.content){\n                        const type = part.type;\n                        switch(type){\n                            case \"text\":\n                                {\n                                    splitter.addTextContentPart(part);\n                                    break;\n                                }\n                            case \"tool-call\":\n                                {\n                                    splitter.addToolCallPart(part);\n                                    break;\n                                }\n                            default:\n                                {\n                                    const unhandledType = type;\n                                    throw new Error(`Unhandled content part type: ${unhandledType}`);\n                                }\n                        }\n                    }\n                    return splitter.getMessages();\n                }\n            default:\n                {\n                    const unhandledRole = role;\n                    throw new Error(`Unknown message role: ${unhandledRole}`);\n                }\n        }\n    });\n}\n// src/runtimes/edge/converters/toLanguageModelTools.ts\n\n\nvar toLanguageModelTools = (tools)=>{\n    return Object.entries(tools).map(([name, tool])=>({\n            type: \"function\",\n            name,\n            ...tool.description ? {\n                description: tool.description\n            } : void 0,\n            parameters: tool.parameters instanceof zod__WEBPACK_IMPORTED_MODULE_1__.z.ZodType ? (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(tool.parameters) : tool.parameters\n        }));\n};\n// src/runtimes/edge/converters/toCoreMessages.ts\nvar toCoreMessages = (message)=>{\n    return message.map(toCoreMessage);\n};\nvar toCoreMessage = (message)=>{\n    const role = message.role;\n    switch(role){\n        case \"assistant\":\n            return {\n                role,\n                content: message.content.map((part)=>{\n                    if (part.type === \"ui\") throw new Error(\"UI parts are not supported\");\n                    if (part.type === \"tool-call\") {\n                        const { argsText, ...rest } = part;\n                        return rest;\n                    }\n                    return part;\n                })\n            };\n        case \"user\":\n            return {\n                role,\n                content: [\n                    ...message.content.map((part)=>{\n                        if (part.type === \"ui\") throw new Error(\"UI parts are not supported\");\n                        return part;\n                    }),\n                    ...message.attachments.map((a)=>a.content).flat()\n                ]\n            };\n        case \"system\":\n            return {\n                role,\n                content: message.content\n            };\n        default:\n            {\n                const unsupportedRole = role;\n                throw new Error(`Unknown message role: ${unsupportedRole}`);\n            }\n    }\n};\n// src/runtimes/edge/streams/assistantEncoderStream.ts\nfunction assistantEncoderStream() {\n    const toolCalls = /* @__PURE__ */ new Set();\n    return new TransformStream({\n        transform (chunk, controller) {\n            const chunkType = chunk.type;\n            switch(chunkType){\n                case \"text-delta\":\n                    {\n                        controller.enqueue({\n                            type: \"0\" /* TextDelta */ ,\n                            value: chunk.textDelta\n                        });\n                        break;\n                    }\n                case \"tool-call-delta\":\n                    {\n                        if (!toolCalls.has(chunk.toolCallId)) {\n                            toolCalls.add(chunk.toolCallId);\n                            controller.enqueue({\n                                type: \"b\" /* ToolCallBegin */ ,\n                                value: {\n                                    toolCallId: chunk.toolCallId,\n                                    toolName: chunk.toolName\n                                }\n                            });\n                        }\n                        controller.enqueue({\n                            type: \"c\" /* ToolCallDelta */ ,\n                            value: {\n                                toolCallId: chunk.toolCallId,\n                                argsTextDelta: chunk.argsTextDelta\n                            }\n                        });\n                        break;\n                    }\n                // ignore\n                case \"tool-call\":\n                case \"response-metadata\":\n                    break;\n                case \"tool-result\":\n                    {\n                        controller.enqueue({\n                            type: \"a\" /* ToolCallResult */ ,\n                            value: {\n                                toolCallId: chunk.toolCallId,\n                                result: chunk.result\n                            }\n                        });\n                        break;\n                    }\n                case \"step-finish\":\n                    {\n                        const { type, ...rest } = chunk;\n                        controller.enqueue({\n                            type: \"e\" /* StepFinish */ ,\n                            value: rest\n                        });\n                        break;\n                    }\n                case \"finish\":\n                    {\n                        const { type, ...rest } = chunk;\n                        controller.enqueue({\n                            type: \"d\" /* Finish */ ,\n                            value: rest\n                        });\n                        break;\n                    }\n                case \"error\":\n                    {\n                        controller.enqueue({\n                            type: \"3\" /* Error */ ,\n                            value: chunk.error\n                        });\n                        break;\n                    }\n                default:\n                    {\n                        const unhandledType = chunkType;\n                        throw new Error(`Unhandled chunk type: ${unhandledType}`);\n                    }\n            }\n        }\n    });\n}\n// src/types/ModelConfigTypes.ts\n\nvar LanguageModelV1CallSettingsSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    maxTokens: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().int().positive().optional(),\n    temperature: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().optional(),\n    topP: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().optional(),\n    presencePenalty: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().optional(),\n    frequencyPenalty: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().optional(),\n    seed: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().int().optional(),\n    headers: zod__WEBPACK_IMPORTED_MODULE_1__.z.record(zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional()).optional()\n});\nvar LanguageModelConfigSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    apiKey: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    baseUrl: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    modelName: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional()\n});\nvar mergeModelConfigs = (configSet)=>{\n    const configs = Array.from(configSet).map((c)=>c.getModelConfig()).sort((a, b)=>(b.priority ?? 0) - (a.priority ?? 0));\n    return configs.reduce((acc, config)=>{\n        if (config.system) {\n            if (acc.system) {\n                acc.system += `\n\n${config.system}`;\n            } else {\n                acc.system = config.system;\n            }\n        }\n        if (config.tools) {\n            for (const [name, tool] of Object.entries(config.tools)){\n                if (acc.tools?.[name]) {\n                    throw new Error(`You tried to define a tool with the name ${name}, but it already exists.`);\n                }\n                if (!acc.tools) acc.tools = {};\n                acc.tools[name] = tool;\n            }\n        }\n        if (config.config) {\n            acc.config = {\n                ...acc.config,\n                ...config.config\n            };\n        }\n        if (config.callSettings) {\n            acc.callSettings = {\n                ...acc.callSettings,\n                ...config.callSettings\n            };\n        }\n        return acc;\n    }, {});\n};\n// src/runtimes/edge/EdgeRuntimeRequestOptions.ts\n\nvar LanguageModelV1FunctionToolSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"function\"),\n    name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n    description: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    parameters: zod__WEBPACK_IMPORTED_MODULE_1__.z.custom((val)=>typeof val === \"object\" && val !== null)\n});\nvar TextContentPartSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"text\"),\n    text: zod__WEBPACK_IMPORTED_MODULE_1__.z.string()\n});\nvar ImageContentPartSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"image\"),\n    image: zod__WEBPACK_IMPORTED_MODULE_1__.z.string()\n});\nvar CoreToolCallContentPartSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"tool-call\"),\n    toolCallId: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n    toolName: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n    args: zod__WEBPACK_IMPORTED_MODULE_1__.z.record(zod__WEBPACK_IMPORTED_MODULE_1__.z.unknown()),\n    result: zod__WEBPACK_IMPORTED_MODULE_1__.z.unknown().optional(),\n    isError: zod__WEBPACK_IMPORTED_MODULE_1__.z.boolean().optional()\n});\nvar CoreUserMessageSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    role: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"user\"),\n    content: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(zod__WEBPACK_IMPORTED_MODULE_1__.z.discriminatedUnion(\"type\", [\n        TextContentPartSchema,\n        ImageContentPartSchema\n    ])).min(1)\n});\nvar CoreAssistantMessageSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    role: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"assistant\"),\n    content: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(zod__WEBPACK_IMPORTED_MODULE_1__.z.discriminatedUnion(\"type\", [\n        TextContentPartSchema,\n        CoreToolCallContentPartSchema\n    ])).min(1)\n});\nvar CoreSystemMessageSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    role: zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"system\"),\n    content: zod__WEBPACK_IMPORTED_MODULE_1__.z.tuple([\n        TextContentPartSchema\n    ])\n});\nvar CoreMessageSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.discriminatedUnion(\"role\", [\n    CoreSystemMessageSchema,\n    CoreUserMessageSchema,\n    CoreAssistantMessageSchema\n]);\nvar EdgeRuntimeRequestOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    system: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional(),\n    messages: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(CoreMessageSchema).min(1),\n    tools: zod__WEBPACK_IMPORTED_MODULE_1__.z.array(LanguageModelV1FunctionToolSchema).optional()\n}).merge(LanguageModelV1CallSettingsSchema).merge(LanguageModelConfigSchema);\n// src/runtimes/edge/streams/toolResultStream.ts\n\n\nfunction toolResultStream(tools, abortSignal) {\n    const toolCallExecutions = /* @__PURE__ */ new Map();\n    return new TransformStream({\n        transform (chunk, controller) {\n            controller.enqueue(chunk);\n            const chunkType = chunk.type;\n            switch(chunkType){\n                case \"tool-call\":\n                    {\n                        const { toolCallId, toolCallType, toolName, args: argsText } = chunk;\n                        const tool = tools?.[toolName];\n                        if (!tool || !tool.execute) return;\n                        const args = secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(argsText);\n                        if (tool.parameters instanceof zod__WEBPACK_IMPORTED_MODULE_1__.z.ZodType) {\n                            const result = tool.parameters.safeParse(args);\n                            if (!result.success) {\n                                controller.enqueue({\n                                    type: \"tool-result\",\n                                    toolCallType,\n                                    toolCallId,\n                                    toolName,\n                                    result: \"Function parameter validation failed. \" + JSON.stringify(result.error.issues),\n                                    isError: true\n                                });\n                                return;\n                            } else {\n                                toolCallExecutions.set(toolCallId, (async ()=>{\n                                    if (!tool.execute) return;\n                                    try {\n                                        const result2 = await tool.execute(args, {\n                                            abortSignal\n                                        });\n                                        controller.enqueue({\n                                            type: \"tool-result\",\n                                            toolCallType,\n                                            toolCallId,\n                                            toolName,\n                                            result: result2\n                                        });\n                                    } catch (error) {\n                                        controller.enqueue({\n                                            type: \"tool-result\",\n                                            toolCallType,\n                                            toolCallId,\n                                            toolName,\n                                            result: \"Error: \" + error,\n                                            isError: true\n                                        });\n                                    } finally{\n                                        toolCallExecutions.delete(toolCallId);\n                                    }\n                                })());\n                            }\n                        }\n                        break;\n                    }\n                // ignore other parts\n                case \"text-delta\":\n                case \"tool-call-delta\":\n                case \"tool-result\":\n                case \"step-finish\":\n                case \"finish\":\n                case \"error\":\n                case \"response-metadata\":\n                    break;\n                default:\n                    {\n                        const unhandledType = chunkType;\n                        throw new Error(`Unhandled chunk type: ${unhandledType}`);\n                    }\n            }\n        },\n        async flush () {\n            await Promise.all(toolCallExecutions.values());\n        }\n    });\n}\n// src/runtimes/edge/partial-json/parse-partial-json.ts\n\n// src/runtimes/edge/partial-json/fix-json.ts\nfunction fixJson(input) {\n    const stack = [\n        \"ROOT\"\n    ];\n    let lastValidIndex = -1;\n    let literalStart = null;\n    function processValueStart(char, i, swapState) {\n        {\n            switch(char){\n                case '\"':\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_STRING\");\n                        break;\n                    }\n                case \"f\":\n                case \"t\":\n                case \"n\":\n                    {\n                        lastValidIndex = i;\n                        literalStart = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_LITERAL\");\n                        break;\n                    }\n                case \"-\":\n                    {\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"0\":\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"{\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_OBJECT_START\");\n                        break;\n                    }\n                case \"[\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_ARRAY_START\");\n                        break;\n                    }\n            }\n        }\n    }\n    function processAfterObjectValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n                    break;\n                }\n            case \"}\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    function processAfterArrayValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                    break;\n                }\n            case \"]\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    for(let i = 0; i < input.length; i++){\n        const char = input[i];\n        const currentState = stack[stack.length - 1];\n        switch(currentState){\n            case \"ROOT\":\n                processValueStart(char, i, \"FINISH\");\n                break;\n            case \"INSIDE_OBJECT_START\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n                {\n                    switch(char){\n                        case \":\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n                {\n                    processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    processAfterObjectValue(char, i);\n                    break;\n                }\n            case \"INSIDE_STRING\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"\\\\\":\n                            {\n                                stack.push(\"INSIDE_STRING_ESCAPE\");\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n                {\n                    switch(char){\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    switch(char){\n                        case \",\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n                {\n                    processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_STRING_ESCAPE\":\n                {\n                    stack.pop();\n                    lastValidIndex = i;\n                    break;\n                }\n            case \"INSIDE_NUMBER\":\n                {\n                    switch(char){\n                        case \"0\":\n                        case \"1\":\n                        case \"2\":\n                        case \"3\":\n                        case \"4\":\n                        case \"5\":\n                        case \"6\":\n                        case \"7\":\n                        case \"8\":\n                        case \"9\":\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"e\":\n                        case \"E\":\n                        case \"-\":\n                        case \".\":\n                            {\n                                break;\n                            }\n                        case \",\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                break;\n                            }\n                        default:\n                            {\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, i + 1);\n                    if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n                        stack.pop();\n                        if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                            processAfterObjectValue(char, i);\n                        } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                            processAfterArrayValue(char, i);\n                        }\n                    } else {\n                        lastValidIndex = i;\n                    }\n                    break;\n                }\n        }\n    }\n    let result = input.slice(0, lastValidIndex + 1);\n    for(let i = stack.length - 1; i >= 0; i--){\n        const state = stack[i];\n        switch(state){\n            case \"INSIDE_STRING\":\n                {\n                    result += '\"';\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n            case \"INSIDE_OBJECT_START\":\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    result += \"}\";\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    result += \"]\";\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, input.length);\n                    if (\"true\".startsWith(partialLiteral)) {\n                        result += \"true\".slice(partialLiteral.length);\n                    } else if (\"false\".startsWith(partialLiteral)) {\n                        result += \"false\".slice(partialLiteral.length);\n                    } else if (\"null\".startsWith(partialLiteral)) {\n                        result += \"null\".slice(partialLiteral.length);\n                    }\n                }\n        }\n    }\n    return result;\n}\n// src/runtimes/edge/partial-json/parse-partial-json.ts\nvar parsePartialJson = (json)=>{\n    try {\n        return secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(json);\n    } catch  {\n        try {\n            return secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(fixJson(json));\n        } catch  {\n            return void 0;\n        }\n    }\n};\n// src/runtimes/edge/streams/runResultStream.ts\nfunction runResultStream() {\n    let message = {\n        content: [],\n        status: {\n            type: \"running\"\n        }\n    };\n    return new TransformStream({\n        transform (chunk, controller) {\n            const chunkType = chunk.type;\n            switch(chunkType){\n                case \"text-delta\":\n                    {\n                        message = appendOrUpdateText(message, chunk.textDelta);\n                        controller.enqueue(message);\n                        break;\n                    }\n                case \"tool-call-delta\":\n                    {\n                        const { toolCallId, toolName, argsTextDelta } = chunk;\n                        message = appendOrUpdateToolCall(message, toolCallId, toolName, argsTextDelta);\n                        controller.enqueue(message);\n                        break;\n                    }\n                case \"tool-call\":\n                case \"response-metadata\":\n                    break;\n                case \"tool-result\":\n                    {\n                        message = appendOrUpdateToolResult(message, chunk.toolCallId, chunk.toolName, chunk.result);\n                        controller.enqueue(message);\n                        break;\n                    }\n                case \"step-finish\":\n                    {\n                        message = appendOrUpdateStepFinish(message, chunk);\n                        controller.enqueue(message);\n                        break;\n                    }\n                case \"finish\":\n                    {\n                        message = appendOrUpdateFinish(message, chunk);\n                        controller.enqueue(message);\n                        break;\n                    }\n                case \"error\":\n                    {\n                        if (chunk.error instanceof Error && chunk.error.name === \"AbortError\") {\n                            message = appendOrUpdateCancel(message);\n                            controller.enqueue(message);\n                            break;\n                        } else {\n                            throw chunk.error;\n                        }\n                    }\n                default:\n                    {\n                        const unhandledType = chunkType;\n                        throw new Error(`Unhandled chunk type: ${unhandledType}`);\n                    }\n            }\n        }\n    });\n}\nvar appendOrUpdateText = (message, textDelta)=>{\n    let contentParts = message.content ?? [];\n    let contentPart = message.content?.at(-1);\n    if (contentPart?.type !== \"text\") {\n        contentPart = {\n            type: \"text\",\n            text: textDelta\n        };\n    } else {\n        contentParts = contentParts.slice(0, -1);\n        contentPart = {\n            type: \"text\",\n            text: contentPart.text + textDelta\n        };\n    }\n    return {\n        ...message,\n        content: contentParts.concat([\n            contentPart\n        ])\n    };\n};\nvar appendOrUpdateToolCall = (message, toolCallId, toolName, argsTextDelta)=>{\n    let contentParts = message.content ?? [];\n    let contentPartIdx = contentParts.findIndex((c)=>c.type === \"tool-call\" && c.toolCallId === toolCallId);\n    let contentPart = contentPartIdx === -1 ? null : contentParts[contentPartIdx];\n    if (contentPart == null) {\n        contentPart = {\n            type: \"tool-call\",\n            toolCallId,\n            toolName,\n            argsText: argsTextDelta,\n            args: parsePartialJson(argsTextDelta)\n        };\n        contentParts = [\n            ...contentParts,\n            contentPart\n        ];\n    } else {\n        const argsText = contentPart.argsText + argsTextDelta;\n        contentPart = {\n            ...contentPart,\n            argsText,\n            args: parsePartialJson(argsText)\n        };\n        contentParts = [\n            ...contentParts.slice(0, contentPartIdx),\n            contentPart,\n            ...contentParts.slice(contentPartIdx + 1)\n        ];\n    }\n    return {\n        ...message,\n        content: contentParts\n    };\n};\nvar appendOrUpdateToolResult = (message, toolCallId, toolName, result)=>{\n    let found = false;\n    const newContentParts = message.content?.map((part)=>{\n        if (part.type !== \"tool-call\" || part.toolCallId !== toolCallId) return part;\n        found = true;\n        if (part.toolName !== toolName) throw new Error(`Tool call ${toolCallId} found with tool name ${part.toolName}, but expected ${toolName}`);\n        return {\n            ...part,\n            result\n        };\n    });\n    if (!found) throw new Error(`Received tool result for unknown tool call \"${toolName}\" / \"${toolCallId}\". This is likely an internal bug in assistant-ui.`);\n    return {\n        ...message,\n        content: newContentParts\n    };\n};\nvar appendOrUpdateStepFinish = (message, chunk)=>{\n    const { type, ...rest } = chunk;\n    const steps = [\n        ...message.metadata?.steps ?? [],\n        {\n            usage: rest.usage\n        }\n    ];\n    return {\n        ...message,\n        status: getStatus(chunk),\n        metadata: {\n            ...message.metadata,\n            roundtrips: steps,\n            steps\n        }\n    };\n};\nvar appendOrUpdateFinish = (message, chunk)=>{\n    const { type, ...rest } = chunk;\n    const steps = [\n        ...message.metadata?.steps ?? [],\n        {\n            logprobs: rest.logprobs,\n            usage: rest.usage\n        }\n    ];\n    return {\n        ...message,\n        status: getStatus(chunk),\n        metadata: {\n            ...message.metadata,\n            roundtrips: steps,\n            steps\n        }\n    };\n};\nvar getStatus = (chunk)=>{\n    if (chunk.finishReason === \"tool-calls\") {\n        return {\n            type: \"requires-action\",\n            reason: \"tool-calls\"\n        };\n    } else if (chunk.finishReason === \"stop\" || chunk.finishReason === \"unknown\") {\n        return {\n            type: \"complete\",\n            reason: chunk.finishReason\n        };\n    } else {\n        return {\n            type: \"incomplete\",\n            reason: chunk.finishReason\n        };\n    }\n};\nvar appendOrUpdateCancel = (message)=>{\n    return {\n        ...message,\n        status: {\n            type: \"incomplete\",\n            reason: \"cancelled\"\n        }\n    };\n};\n// src/runtimes/edge/streams/utils/PipeableTransformStream.ts\nvar PipeableTransformStream = class extends TransformStream {\n    constructor(transform){\n        super();\n        const readable = transform(super.readable);\n        Object.defineProperty(this, \"readable\", {\n            value: readable,\n            writable: false\n        });\n    }\n};\n// src/runtimes/edge/streams/utils/streamPartEncoderStream.ts\nfunction encodeStreamPart({ type, value }) {\n    return `${type}:${JSON.stringify(value)}\n`;\n}\nfunction streamPartEncoderStream() {\n    const encodeStream = new TransformStream({\n        transform (chunk, controller) {\n            controller.enqueue(encodeStreamPart(chunk));\n        }\n    });\n    return new PipeableTransformStream((readable)=>{\n        return readable.pipeThrough(encodeStream).pipeThrough(new TextEncoderStream());\n    });\n}\n// src/runtimes/edge/createEdgeRuntimeAPI.ts\nvar voidStream = ()=>{\n    return new WritableStream({\n        abort (reason) {\n            console.error(\"Server stream processing aborted:\", reason);\n        }\n    });\n};\nvar getEdgeRuntimeStream = async ({ abortSignal, requestData: unsafeRequest, options: { model: modelOrCreator, system: serverSystem, tools: serverTools = {}, toolChoice, onFinish, ...unsafeSettings } })=>{\n    const settings = LanguageModelV1CallSettingsSchema.parse(unsafeSettings);\n    const lmServerTools = toLanguageModelTools(serverTools);\n    const hasServerTools = Object.values(serverTools).some((v)=>!!v.execute);\n    const { system: clientSystem, tools: clientTools = [], messages, apiKey, baseUrl, modelName, ...callSettings } = EdgeRuntimeRequestOptionsSchema.parse(unsafeRequest);\n    const systemMessages = [];\n    if (serverSystem) systemMessages.push(serverSystem);\n    if (clientSystem) systemMessages.push(clientSystem);\n    const system = systemMessages.join(\"\\n\\n\");\n    for (const clientTool of clientTools){\n        if (serverTools?.[clientTool.name]) {\n            throw new Error(`Tool ${clientTool.name} was defined in both the client and server tools. This is not allowed.`);\n        }\n    }\n    const model = typeof modelOrCreator === \"function\" ? await modelOrCreator({\n        apiKey,\n        baseUrl,\n        modelName\n    }) : modelOrCreator;\n    let stream;\n    const streamResult = await streamMessage({\n        ...settings,\n        ...callSettings,\n        model,\n        abortSignal,\n        ...!!system ? {\n            system\n        } : void 0,\n        messages,\n        tools: lmServerTools.concat(clientTools),\n        ...toolChoice ? {\n            toolChoice\n        } : void 0\n    });\n    stream = streamResult.stream;\n    const canExecuteTools = hasServerTools && toolChoice?.type !== \"none\";\n    if (canExecuteTools) {\n        stream = stream.pipeThrough(toolResultStream(serverTools, abortSignal));\n    }\n    if (canExecuteTools || onFinish) {\n        const tees = stream.tee();\n        stream = tees[0];\n        let serverStream = tees[1];\n        if (onFinish) {\n            let lastChunk;\n            serverStream = serverStream.pipeThrough(runResultStream()).pipeThrough(new TransformStream({\n                transform (chunk) {\n                    lastChunk = chunk;\n                },\n                flush () {\n                    if (!lastChunk?.status || lastChunk.status.type === \"running\") return;\n                    const resultingMessages = [\n                        ...messages,\n                        toCoreMessage({\n                            role: \"assistant\",\n                            content: lastChunk.content\n                        })\n                    ];\n                    onFinish({\n                        messages: resultingMessages,\n                        metadata: {\n                            // TODO\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n                            roundtrips: lastChunk.metadata?.steps,\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n                            steps: lastChunk.metadata?.steps\n                        }\n                    });\n                }\n            }));\n        }\n        serverStream.pipeTo(voidStream()).catch((e)=>{\n            console.error(\"Server stream processing error:\", e);\n        });\n    }\n    return stream;\n};\nvar getEdgeRuntimeResponse = async (options)=>{\n    const stream = await getEdgeRuntimeStream(options);\n    return new Response(stream.pipeThrough(assistantEncoderStream()).pipeThrough(streamPartEncoderStream()), {\n        headers: {\n            \"Content-Type\": \"text/plain; charset=utf-8\"\n        }\n    });\n};\nvar createEdgeRuntimeAPI = (options)=>({\n        POST: async (request)=>getEdgeRuntimeResponse({\n                abortSignal: request.signal,\n                requestData: await request.json(),\n                options\n            })\n    });\nasync function streamMessage({ model, system, messages, tools, toolChoice, ...options }) {\n    return model.doStream({\n        inputFormat: \"messages\",\n        mode: {\n            type: \"regular\",\n            ...tools ? {\n                tools\n            } : void 0,\n            ...toolChoice ? {\n                toolChoice\n            } : void 0\n        },\n        prompt: convertToLanguageModelPrompt(system, messages),\n        ...options\n    });\n}\nfunction convertToLanguageModelPrompt(system, messages) {\n    const languageModelMessages = [];\n    if (system != null) {\n        languageModelMessages.push({\n            role: \"system\",\n            content: system\n        });\n    }\n    languageModelMessages.push(...toLanguageModelMessages(messages));\n    return languageModelMessages;\n}\n //# sourceMappingURL=chunk-TWIMAOZR.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFzc2lzdGFudC11aS9yZWFjdC9kaXN0L2NodW5rLVRXSU1BT1pSLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBY0EsSUFBTUEsMkJBQTJCO0lBQy9CLE1BQU1DLFFBQWtDLEVBQUM7SUFDekMsSUFBSUMsbUJBQW1CO1FBQ3JCQyxNQUFNO1FBQ05DLFNBQVMsRUFBQztJQUNaO0lBQ0EsSUFBSUMsY0FBYztRQUNoQkYsTUFBTTtRQUNOQyxTQUFTLEVBQUM7SUFDWjtJQUVBLE9BQU87UUFDTEUsb0JBQW9CLENBQUNDO1lBQ25CLElBQUlGLFlBQVlELE9BQUEsQ0FBUUksTUFBQSxHQUFTLEdBQUc7Z0JBQ2xDUCxNQUFNUSxJQUFBLENBQUtQO2dCQUNYRCxNQUFNUSxJQUFBLENBQUtKO2dCQUVYSCxtQkFBbUI7b0JBQ2pCQyxNQUFNO29CQUNOQyxTQUFTLEVBQUM7Z0JBSVo7Z0JBRUFDLGNBQWM7b0JBQ1pGLE1BQU07b0JBQ05DLFNBQVMsRUFBQztnQkFDWjtZQUNGO1lBRUFGLGlCQUFpQkUsT0FBQSxDQUFRSyxJQUFBLENBQUtGO1FBQ2hDO1FBQ0FHLGlCQUFpQixDQUFDSDtZQUNoQkwsaUJBQWlCRSxPQUFBLENBQVFLLElBQUEsQ0FBSztnQkFDNUJFLE1BQU07Z0JBQ05DLFlBQVlMLEtBQUtLLFVBQUE7Z0JBQ2pCQyxVQUFVTixLQUFLTSxRQUFBO2dCQUNmQyxNQUFNUCxLQUFLTyxJQUFBO1lBQ2I7WUFFQVQsWUFBWUQsT0FBQSxDQUFRSyxJQUFBLENBQUs7Z0JBQ3ZCRSxNQUFNO2dCQUNOQyxZQUFZTCxLQUFLSyxVQUFBO2dCQUNqQkMsVUFBVU4sS0FBS00sUUFBQTtnQkFDZkUsUUFBUVIsS0FBS1EsTUFBQSxJQUFVO2dCQUN2QkMsU0FBU1QsS0FBS1MsT0FBQSxJQUFXO1lBQzNCO1FBQ0Y7UUFDQUMsYUFBYTtZQUNYLElBQUlaLFlBQVlELE9BQUEsQ0FBUUksTUFBQSxHQUFTLEdBQUc7Z0JBQ2xDLE9B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LElBQU1ZLHlCQUF5QixPQUNwQzlCO0lBRUEsTUFBTWtCLFNBQVMsTUFBTXJCLHFCQUFxQkc7SUFDMUMsT0FBTyxJQUFJK0IsU0FDVGIsT0FDRzNCLFdBQUEsQ0FBWTVJLDBCQUNaNEksV0FBQSxDQUFZRiw0QkFDZjtRQUNFL0csU0FBUztZQUNQLGdCQUFnQjtRQUNsQjtJQUNGO0FBRUo7QUFFTyxJQUFNMEosdUJBQXVCLENBQUNoQyxVQUEwQztRQUM3RWlDLE1BQU0sT0FBT0MsVUFDWEosdUJBQXVCO2dCQUNyQjVHLGFBQWFnSCxRQUFRQyxNQUFBO2dCQUNyQnJDLGFBQWEsTUFBTW9DLFFBQVE1RSxJQUFBO2dCQUMzQjBDO1lBQ0Y7SUFDSjtBQVdBLGVBQWVvQixjQUFjLEVBQzNCbkIsS0FBQSxFQUNBdkcsTUFBQSxFQUNBb0IsUUFBQSxFQUNBbkYsS0FBQSxFQUNBMEssVUFBQSxFQUNBLEdBQUdMLFNBQ0w7SUFDRSxPQUFPQyxNQUFNbUMsUUFBQSxDQUFTO1FBQ3BCQyxhQUFhO1FBQ2JDLE1BQU07WUFDSmpPLE1BQU07WUFDTixHQUFJc0IsUUFBUTtnQkFBRUE7WUFBTSxJQUFJO1lBQ3hCLEdBQUkwSyxhQUFhO2dCQUFFQTtZQUFXLElBQUk7UUFDcEM7UUFDQWtDLFFBQVFDLDZCQUE2QjlJLFFBQVFvQjtRQUM3QyxHQUFJa0YsT0FBQTtJQUNOO0FBQ0Y7QUFFTyxTQUFTd0MsNkJBQ2Q5SSxNQUFBLEVBQ0FvQixRQUFBO0lBRUEsTUFBTTJILHdCQUErQyxFQUFDO0lBRXRELElBQUkvSSxVQUFVLE1BQU07UUFDbEIrSSxzQkFBc0J0TyxJQUFBLENBQUs7WUFBRU4sTUFBTTtZQUFVQyxTQUFTNEY7UUFBTztJQUMvRDtJQUNBK0ksc0JBQXNCdE8sSUFBQSxJQUFRUyx3QkFBd0JrRztJQUV0RCxPQUFPMkg7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9lZGdlL2NvbnZlcnRlcnMvdG9MYW5ndWFnZU1vZGVsTWVzc2FnZXMudHM/ZjgxZSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZWRnZS9jb252ZXJ0ZXJzL3RvTGFuZ3VhZ2VNb2RlbFRvb2xzLnRzPzdjMzQiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2VkZ2UvY29udmVydGVycy90b0NvcmVNZXNzYWdlcy50cz83MTgwIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9lZGdlL3N0cmVhbXMvYXNzaXN0YW50RW5jb2RlclN0cmVhbS50cz83YmJkIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy90eXBlcy9Nb2RlbENvbmZpZ1R5cGVzLnRzP2U3N2MiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2VkZ2UvRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9ucy50cz82ZTI3Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9lZGdlL3N0cmVhbXMvdG9vbFJlc3VsdFN0cmVhbS50cz81MjhlIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9lZGdlL3BhcnRpYWwtanNvbi9wYXJzZS1wYXJ0aWFsLWpzb24udHM/OTMyNiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZWRnZS9wYXJ0aWFsLWpzb24vZml4LWpzb24udHM/YTIwNiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZWRnZS9zdHJlYW1zL3J1blJlc3VsdFN0cmVhbS50cz9lODU0Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9lZGdlL3N0cmVhbXMvdXRpbHMvUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW0udHM/NmU2ZiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZWRnZS9zdHJlYW1zL3V0aWxzL3N0cmVhbVBhcnRFbmNvZGVyU3RyZWFtLnRzPzY4NWIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2VkZ2UvY3JlYXRlRWRnZVJ1bnRpbWVBUEkudHM/MjJhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjFJbWFnZVBhcnQsXG4gIExhbmd1YWdlTW9kZWxWMU1lc3NhZ2UsXG4gIExhbmd1YWdlTW9kZWxWMVRleHRQYXJ0LFxuICBMYW5ndWFnZU1vZGVsVjFUb29sQ2FsbFBhcnQsXG4gIExhbmd1YWdlTW9kZWxWMVRvb2xSZXN1bHRQYXJ0LFxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgQ29yZU1lc3NhZ2UsXG4gIFRocmVhZE1lc3NhZ2UsXG4gIFRleHRDb250ZW50UGFydCxcbiAgQ29yZVRvb2xDYWxsQ29udGVudFBhcnQsXG59IGZyb20gXCIuLi8uLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuXG5jb25zdCBhc3Npc3RhbnRNZXNzYWdlU3BsaXR0ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IHN0YXNoOiBMYW5ndWFnZU1vZGVsVjFNZXNzYWdlW10gPSBbXTtcbiAgbGV0IGFzc2lzdGFudE1lc3NhZ2UgPSB7XG4gICAgcm9sZTogXCJhc3Npc3RhbnRcIiBhcyBjb25zdCxcbiAgICBjb250ZW50OiBbXSBhcyAoTGFuZ3VhZ2VNb2RlbFYxVGV4dFBhcnQgfCBMYW5ndWFnZU1vZGVsVjFUb29sQ2FsbFBhcnQpW10sXG4gIH07XG4gIGxldCB0b29sTWVzc2FnZSA9IHtcbiAgICByb2xlOiBcInRvb2xcIiBhcyBjb25zdCxcbiAgICBjb250ZW50OiBbXSBhcyBMYW5ndWFnZU1vZGVsVjFUb29sUmVzdWx0UGFydFtdLFxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYWRkVGV4dENvbnRlbnRQYXJ0OiAocGFydDogVGV4dENvbnRlbnRQYXJ0KSA9PiB7XG4gICAgICBpZiAodG9vbE1lc3NhZ2UuY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHN0YXNoLnB1c2goYXNzaXN0YW50TWVzc2FnZSk7XG4gICAgICAgIHN0YXNoLnB1c2godG9vbE1lc3NhZ2UpO1xuXG4gICAgICAgIGFzc2lzdGFudE1lc3NhZ2UgPSB7XG4gICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIiBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50OiBbXSBhcyAoXG4gICAgICAgICAgICB8IExhbmd1YWdlTW9kZWxWMVRleHRQYXJ0XG4gICAgICAgICAgICB8IExhbmd1YWdlTW9kZWxWMVRvb2xDYWxsUGFydFxuICAgICAgICAgIClbXSxcbiAgICAgICAgfTtcblxuICAgICAgICB0b29sTWVzc2FnZSA9IHtcbiAgICAgICAgICByb2xlOiBcInRvb2xcIiBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50OiBbXSBhcyBMYW5ndWFnZU1vZGVsVjFUb29sUmVzdWx0UGFydFtdLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBhc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnQucHVzaChwYXJ0KTtcbiAgICB9LFxuICAgIGFkZFRvb2xDYWxsUGFydDogKHBhcnQ6IENvcmVUb29sQ2FsbENvbnRlbnRQYXJ0KSA9PiB7XG4gICAgICBhc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnQucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgIGFyZ3M6IHBhcnQuYXJncyxcbiAgICAgIH0pO1xuXG4gICAgICB0b29sTWVzc2FnZS5jb250ZW50LnB1c2goe1xuICAgICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCIsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgIHJlc3VsdDogcGFydC5yZXN1bHQgPz8gXCI8bm8gcmVzdWx0PlwiLFxuICAgICAgICBpc0Vycm9yOiBwYXJ0LmlzRXJyb3IgPz8gZmFsc2UsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldE1lc3NhZ2VzOiAoKSA9PiB7XG4gICAgICBpZiAodG9vbE1lc3NhZ2UuY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBbLi4uc3Rhc2gsIGFzc2lzdGFudE1lc3NhZ2UsIHRvb2xNZXNzYWdlXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFsuLi5zdGFzaCwgYXNzaXN0YW50TWVzc2FnZV07XG4gICAgfSxcbiAgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0xhbmd1YWdlTW9kZWxNZXNzYWdlcyhcbiAgbWVzc2FnZTogcmVhZG9ubHkgQ29yZU1lc3NhZ2VbXSB8IHJlYWRvbmx5IFRocmVhZE1lc3NhZ2VbXSxcbik6IExhbmd1YWdlTW9kZWxWMU1lc3NhZ2VbXSB7XG4gIHJldHVybiBtZXNzYWdlLmZsYXRNYXAoKG1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCByb2xlID0gbWVzc2FnZS5yb2xlO1xuICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgY2FzZSBcInN5c3RlbVwiOiB7XG4gICAgICAgIHJldHVybiBbeyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRbMF0udGV4dCB9XTtcbiAgICAgIH1cblxuICAgICAgY2FzZSBcInVzZXJcIjoge1xuICAgICAgICBjb25zdCBtc2c6IExhbmd1YWdlTW9kZWxWMU1lc3NhZ2UgPSB7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50Lm1hcChcbiAgICAgICAgICAgIChwYXJ0KTogTGFuZ3VhZ2VNb2RlbFYxVGV4dFBhcnQgfCBMYW5ndWFnZU1vZGVsVjFJbWFnZVBhcnQgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB0eXBlID0gcGFydC50eXBlO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjoge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJpbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogbmV3IFVSTChwYXJ0LmltYWdlKSxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogXCJ1aVwiID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYFVuc3Bwb3J0ZWQgY29udGVudCBwYXJ0IHR5cGU6ICR7dW5oYW5kbGVkVHlwZX1gLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFttc2ddO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiYXNzaXN0YW50XCI6IHtcbiAgICAgICAgY29uc3Qgc3BsaXR0ZXIgPSBhc3Npc3RhbnRNZXNzYWdlU3BsaXR0ZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgIHNwbGl0dGVyLmFkZFRleHRDb250ZW50UGFydChwYXJ0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsXCI6IHtcbiAgICAgICAgICAgICAgc3BsaXR0ZXIuYWRkVG9vbENhbGxQYXJ0KHBhcnQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogXCJ1aVwiID0gdHlwZTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgY29udGVudCBwYXJ0IHR5cGU6ICR7dW5oYW5kbGVkVHlwZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNwbGl0dGVyLmdldE1lc3NhZ2VzKCk7XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgdW5oYW5kbGVkUm9sZTogbmV2ZXIgPSByb2xlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbWVzc2FnZSByb2xlOiAke3VuaGFuZGxlZFJvbGV9YCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBKU09OU2NoZW1hNyB9IGZyb20gXCJqc29uLXNjaGVtYVwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB6b2RUb0pzb25TY2hlbWEgZnJvbSBcInpvZC10by1qc29uLXNjaGVtYVwiO1xuaW1wb3J0IHsgVG9vbCB9IGZyb20gXCIuLi8uLi8uLi90eXBlcy9Nb2RlbENvbmZpZ1R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCB0b0xhbmd1YWdlTW9kZWxUb29scyA9IChcbiAgdG9vbHM6IFJlY29yZDxzdHJpbmcsIFRvb2w8YW55LCBhbnk+Pixcbik6IExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbFtdID0+IHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRvb2xzKS5tYXAoKFtuYW1lLCB0b29sXSkgPT4gKHtcbiAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgbmFtZSxcbiAgICAuLi4odG9vbC5kZXNjcmlwdGlvbiA/IHsgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24gfSA6IHVuZGVmaW5lZCksXG4gICAgcGFyYW1ldGVyczogKHRvb2wucGFyYW1ldGVycyBpbnN0YW5jZW9mIHouWm9kVHlwZVxuICAgICAgPyB6b2RUb0pzb25TY2hlbWEodG9vbC5wYXJhbWV0ZXJzKVxuICAgICAgOiB0b29sLnBhcmFtZXRlcnMpIGFzIEpTT05TY2hlbWE3LFxuICB9KSk7XG59O1xuIiwiaW1wb3J0IHsgVGhyZWFkTWVzc2FnZSwgQ29yZU1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IHRvQ29yZU1lc3NhZ2VzID0gKG1lc3NhZ2U6IFRocmVhZE1lc3NhZ2VbXSk6IENvcmVNZXNzYWdlW10gPT4ge1xuICByZXR1cm4gbWVzc2FnZS5tYXAodG9Db3JlTWVzc2FnZSk7XG59O1xuXG5leHBvcnQgY29uc3QgdG9Db3JlTWVzc2FnZSA9IChtZXNzYWdlOiBUaHJlYWRNZXNzYWdlKTogQ29yZU1lc3NhZ2UgPT4ge1xuICBjb25zdCByb2xlID0gbWVzc2FnZS5yb2xlO1xuICBzd2l0Y2ggKHJvbGUpIHtcbiAgICBjYXNlIFwiYXNzaXN0YW50XCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ1aVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJVSSBwYXJ0cyBhcmUgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICBpZiAocGFydC50eXBlID09PSBcInRvb2wtY2FsbFwiKSB7XG4gICAgICAgICAgICBjb25zdCB7IGFyZ3NUZXh0LCAuLi5yZXN0IH0gPSBwYXJ0O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICB9KSxcbiAgICAgIH07XG5cbiAgICBjYXNlIFwidXNlclwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY29udGVudDogW1xuICAgICAgICAgIC4uLm1lc3NhZ2UuY29udGVudC5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwidWlcIilcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVUkgcGFydHMgYXJlIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAuLi5tZXNzYWdlLmF0dGFjaG1lbnRzLm1hcCgoYSkgPT4gYS5jb250ZW50KS5mbGF0KCksXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgY2FzZSBcInN5c3RlbVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgfTtcblxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IHVuc3VwcG9ydGVkUm9sZTogbmV2ZXIgPSByb2xlO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG1lc3NhZ2Ugcm9sZTogJHt1bnN1cHBvcnRlZFJvbGV9YCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHtcbiAgQXNzaXN0YW50U3RyZWFtQ2h1bmssXG4gIEFzc2lzdGFudFN0cmVhbUNodW5rVHlwZSxcbn0gZnJvbSBcIi4vQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlXCI7XG5pbXBvcnQgeyBTdHJlYW1QYXJ0IH0gZnJvbSBcIi4vdXRpbHMvU3RyZWFtUGFydFwiO1xuaW1wb3J0IHsgVG9vbFJlc3VsdFN0cmVhbVBhcnQgfSBmcm9tIFwiLi90b29sUmVzdWx0U3RyZWFtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3Npc3RhbnRFbmNvZGVyU3RyZWFtKCkge1xuICBjb25zdCB0b29sQ2FsbHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgVG9vbFJlc3VsdFN0cmVhbVBhcnQsXG4gICAgU3RyZWFtUGFydDxBc3Npc3RhbnRTdHJlYW1DaHVuaz5cbiAgPih7XG4gICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICBjb25zdCBjaHVua1R5cGUgPSBjaHVuay50eXBlO1xuICAgICAgc3dpdGNoIChjaHVua1R5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHQtZGVsdGFcIjoge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVGV4dERlbHRhLFxuICAgICAgICAgICAgdmFsdWU6IGNodW5rLnRleHREZWx0YSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidG9vbC1jYWxsLWRlbHRhXCI6IHtcbiAgICAgICAgICBpZiAoIXRvb2xDYWxscy5oYXMoY2h1bmsudG9vbENhbGxJZCkpIHtcbiAgICAgICAgICAgIHRvb2xDYWxscy5hZGQoY2h1bmsudG9vbENhbGxJZCk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICB0eXBlOiBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVG9vbENhbGxCZWdpbixcbiAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVG9vbENhbGxEZWx0YSxcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIGFyZ3NUZXh0RGVsdGE6IGNodW5rLmFyZ3NUZXh0RGVsdGEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWdub3JlXG4gICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjpcbiAgICAgICAgY2FzZSBcInJlc3BvbnNlLW1ldGFkYXRhXCI6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInRvb2wtcmVzdWx0XCI6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLlRvb2xDYWxsUmVzdWx0LFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgcmVzdWx0OiBjaHVuay5yZXN1bHQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBcInN0ZXAtZmluaXNoXCI6IHtcbiAgICAgICAgICBjb25zdCB7IHR5cGUsIC4uLnJlc3QgfSA9IGNodW5rO1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuU3RlcEZpbmlzaCxcbiAgICAgICAgICAgIHZhbHVlOiByZXN0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBcImZpbmlzaFwiOiB7XG4gICAgICAgICAgY29uc3QgeyB0eXBlLCAuLi5yZXN0IH0gPSBjaHVuaztcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLkZpbmlzaCxcbiAgICAgICAgICAgIHZhbHVlOiByZXN0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBcImVycm9yXCI6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLkVycm9yLFxuICAgICAgICAgICAgdmFsdWU6IGNodW5rLmVycm9yLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCB1bmhhbmRsZWRUeXBlOiBuZXZlciA9IGNodW5rVHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCBjaHVuayB0eXBlOiAke3VuaGFuZGxlZFR5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cbiIsImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgdHlwZSB7IEpTT05TY2hlbWE3IH0gZnJvbSBcImpzb24tc2NoZW1hXCI7XG5pbXBvcnQgeyBVbnN1YnNjcmliZSB9IGZyb20gXCIuL1Vuc3Vic2NyaWJlXCI7XG5cbmV4cG9ydCBjb25zdCBMYW5ndWFnZU1vZGVsVjFDYWxsU2V0dGluZ3NTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG1heFRva2Vuczogei5udW1iZXIoKS5pbnQoKS5wb3NpdGl2ZSgpLm9wdGlvbmFsKCksXG4gIHRlbXBlcmF0dXJlOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIHRvcFA6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgcHJlc2VuY2VQZW5hbHR5OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGZyZXF1ZW5jeVBlbmFsdHk6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgc2VlZDogei5udW1iZXIoKS5pbnQoKS5vcHRpb25hbCgpLFxuICBoZWFkZXJzOiB6LnJlY29yZCh6LnN0cmluZygpLm9wdGlvbmFsKCkpLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IHR5cGUgTGFuZ3VhZ2VNb2RlbFYxQ2FsbFNldHRpbmdzID0gei5pbmZlcjxcbiAgdHlwZW9mIExhbmd1YWdlTW9kZWxWMUNhbGxTZXR0aW5nc1NjaGVtYVxuPjtcblxuZXhwb3J0IGNvbnN0IExhbmd1YWdlTW9kZWxDb25maWdTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGFwaUtleTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBiYXNlVXJsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIG1vZGVsTmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCB0eXBlIExhbmd1YWdlTW9kZWxDb25maWcgPSB6LmluZmVyPHR5cGVvZiBMYW5ndWFnZU1vZGVsQ29uZmlnU2NoZW1hPjtcblxudHlwZSBUb29sRXhlY3V0ZUZ1bmN0aW9uPFRBcmdzLCBUUmVzdWx0PiA9IChcbiAgYXJnczogVEFyZ3MsXG4gIGNvbnRleHQ6IHtcbiAgICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWw7XG4gIH0sXG4pID0+IFRSZXN1bHQgfCBQcm9taXNlPFRSZXN1bHQ+O1xuXG5leHBvcnQgdHlwZSBUb29sPFxuICBUQXJncyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gUmVjb3JkPHN0cmluZyB8IG51bWJlciwgdW5rbm93bj4sXG4gIFRSZXN1bHQgPSB1bmtub3duLFxuPiA9IHtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHBhcmFtZXRlcnM6IHouWm9kU2NoZW1hPFRBcmdzPiB8IEpTT05TY2hlbWE3O1xuICBleGVjdXRlPzogVG9vbEV4ZWN1dGVGdW5jdGlvbjxUQXJncywgVFJlc3VsdD47XG59O1xuXG5leHBvcnQgdHlwZSBNb2RlbENvbmZpZyA9IHtcbiAgcHJpb3JpdHk/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHN5c3RlbT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgdG9vbHM/OiBSZWNvcmQ8c3RyaW5nLCBUb29sPGFueSwgYW55Pj4gfCB1bmRlZmluZWQ7XG4gIGNhbGxTZXR0aW5ncz86IExhbmd1YWdlTW9kZWxWMUNhbGxTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgY29uZmlnPzogTGFuZ3VhZ2VNb2RlbENvbmZpZyB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIE1vZGVsQ29uZmlnUHJvdmlkZXIgPSB7XG4gIGdldE1vZGVsQ29uZmlnOiAoKSA9PiBNb2RlbENvbmZpZztcbiAgc3Vic2NyaWJlPzogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBVbnN1YnNjcmliZTtcbn07XG5cbmV4cG9ydCBjb25zdCBtZXJnZU1vZGVsQ29uZmlncyA9IChcbiAgY29uZmlnU2V0OiBTZXQ8TW9kZWxDb25maWdQcm92aWRlcj4sXG4pOiBNb2RlbENvbmZpZyA9PiB7XG4gIGNvbnN0IGNvbmZpZ3MgPSBBcnJheS5mcm9tKGNvbmZpZ1NldClcbiAgICAubWFwKChjKSA9PiBjLmdldE1vZGVsQ29uZmlnKCkpXG4gICAgLnNvcnQoKGEsIGIpID0+IChiLnByaW9yaXR5ID8/IDApIC0gKGEucHJpb3JpdHkgPz8gMCkpO1xuXG4gIHJldHVybiBjb25maWdzLnJlZHVjZSgoYWNjLCBjb25maWcpID0+IHtcbiAgICBpZiAoY29uZmlnLnN5c3RlbSkge1xuICAgICAgaWYgKGFjYy5zeXN0ZW0pIHtcbiAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhlIHNlcGFyYXRvciBiZSBjb25maWd1cmFibGU/XG4gICAgICAgIGFjYy5zeXN0ZW0gKz0gYFxcblxcbiR7Y29uZmlnLnN5c3RlbX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWNjLnN5c3RlbSA9IGNvbmZpZy5zeXN0ZW07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb25maWcudG9vbHMpIHtcbiAgICAgIGZvciAoY29uc3QgW25hbWUsIHRvb2xdIG9mIE9iamVjdC5lbnRyaWVzKGNvbmZpZy50b29scykpIHtcbiAgICAgICAgaWYgKGFjYy50b29scz8uW25hbWVdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFlvdSB0cmllZCB0byBkZWZpbmUgYSB0b29sIHdpdGggdGhlIG5hbWUgJHtuYW1lfSwgYnV0IGl0IGFscmVhZHkgZXhpc3RzLmAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFjYy50b29scykgYWNjLnRvb2xzID0ge307XG4gICAgICAgIGFjYy50b29sc1tuYW1lXSA9IHRvb2w7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb25maWcuY29uZmlnKSB7XG4gICAgICBhY2MuY29uZmlnID0ge1xuICAgICAgICAuLi5hY2MuY29uZmlnLFxuICAgICAgICAuLi5jb25maWcuY29uZmlnLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5jYWxsU2V0dGluZ3MpIHtcbiAgICAgIGFjYy5jYWxsU2V0dGluZ3MgPSB7XG4gICAgICAgIC4uLmFjYy5jYWxsU2V0dGluZ3MsXG4gICAgICAgIC4uLmNvbmZpZy5jYWxsU2V0dGluZ3MsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSBhcyBNb2RlbENvbmZpZyk7XG59O1xuIiwiaW1wb3J0IHsgSlNPTlNjaGVtYTcgfSBmcm9tIFwianNvbi1zY2hlbWFcIjtcbmltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxDb25maWdTY2hlbWEsXG4gIExhbmd1YWdlTW9kZWxWMUNhbGxTZXR0aW5nc1NjaGVtYSxcbn0gZnJvbSBcIi4uLy4uL3R5cGVzL01vZGVsQ29uZmlnVHlwZXNcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmNvbnN0IExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKFwiZnVuY3Rpb25cIiksXG4gIG5hbWU6IHouc3RyaW5nKCksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHBhcmFtZXRlcnM6IHouY3VzdG9tPEpTT05TY2hlbWE3PihcbiAgICAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcIm9iamVjdFwiICYmIHZhbCAhPT0gbnVsbCxcbiAgKSxcbn0pO1xuXG5jb25zdCBUZXh0Q29udGVudFBhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbChcInRleHRcIiksXG4gIHRleHQ6IHouc3RyaW5nKCksXG59KTtcblxuY29uc3QgSW1hZ2VDb250ZW50UGFydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKFwiaW1hZ2VcIiksXG4gIGltYWdlOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IENvcmVUb29sQ2FsbENvbnRlbnRQYXJ0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoXCJ0b29sLWNhbGxcIiksXG4gIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICBhcmdzOiB6LnJlY29yZCh6LnVua25vd24oKSksXG4gIHJlc3VsdDogei51bmtub3duKCkub3B0aW9uYWwoKSxcbiAgaXNFcnJvcjogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbn0pO1xuLy8gYXJncyBpcyByZXF1aXJlZCBidXQgdW5rbm93bjtcblxuY29uc3QgQ29yZVVzZXJNZXNzYWdlU2NoZW1hID0gei5vYmplY3Qoe1xuICByb2xlOiB6LmxpdGVyYWwoXCJ1c2VyXCIpLFxuICBjb250ZW50OiB6XG4gICAgLmFycmF5KFxuICAgICAgei5kaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsIFtcbiAgICAgICAgVGV4dENvbnRlbnRQYXJ0U2NoZW1hLFxuICAgICAgICBJbWFnZUNvbnRlbnRQYXJ0U2NoZW1hLFxuICAgICAgXSksXG4gICAgKVxuICAgIC5taW4oMSksXG59KTtcblxuY29uc3QgQ29yZUFzc2lzdGFudE1lc3NhZ2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHJvbGU6IHoubGl0ZXJhbChcImFzc2lzdGFudFwiKSxcbiAgY29udGVudDogelxuICAgIC5hcnJheShcbiAgICAgIHouZGlzY3JpbWluYXRlZFVuaW9uKFwidHlwZVwiLCBbXG4gICAgICAgIFRleHRDb250ZW50UGFydFNjaGVtYSxcbiAgICAgICAgQ29yZVRvb2xDYWxsQ29udGVudFBhcnRTY2hlbWEsXG4gICAgICBdKSxcbiAgICApXG4gICAgLm1pbigxKSxcbn0pO1xuXG5jb25zdCBDb3JlU3lzdGVtTWVzc2FnZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcm9sZTogei5saXRlcmFsKFwic3lzdGVtXCIpLFxuICBjb250ZW50OiB6LnR1cGxlKFtUZXh0Q29udGVudFBhcnRTY2hlbWFdKSxcbn0pO1xuXG5jb25zdCBDb3JlTWVzc2FnZVNjaGVtYSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKFwicm9sZVwiLCBbXG4gIENvcmVTeXN0ZW1NZXNzYWdlU2NoZW1hLFxuICBDb3JlVXNlck1lc3NhZ2VTY2hlbWEsXG4gIENvcmVBc3Npc3RhbnRNZXNzYWdlU2NoZW1hLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBFZGdlUnVudGltZVJlcXVlc3RPcHRpb25zU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICBzeXN0ZW06IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBtZXNzYWdlczogei5hcnJheShDb3JlTWVzc2FnZVNjaGVtYSkubWluKDEpLFxuICAgIHRvb2xzOiB6LmFycmF5KExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbFNjaGVtYSkub3B0aW9uYWwoKSxcbiAgfSlcbiAgLm1lcmdlKExhbmd1YWdlTW9kZWxWMUNhbGxTZXR0aW5nc1NjaGVtYSlcbiAgLm1lcmdlKExhbmd1YWdlTW9kZWxDb25maWdTY2hlbWEpO1xuXG5leHBvcnQgdHlwZSBFZGdlUnVudGltZVJlcXVlc3RPcHRpb25zID0gei5pbmZlcjxcbiAgdHlwZW9mIEVkZ2VSdW50aW1lUmVxdWVzdE9wdGlvbnNTY2hlbWFcbj47XG4iLCJpbXBvcnQgeyBUb29sIH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzL01vZGVsQ29uZmlnVHlwZXNcIjtcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxWMVN0cmVhbVBhcnQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCBzanNvbiBmcm9tIFwic2VjdXJlLWpzb24tcGFyc2VcIjtcblxuZXhwb3J0IHR5cGUgVG9vbFJlc3VsdFN0cmVhbVBhcnQgPVxuICB8IExhbmd1YWdlTW9kZWxWMVN0cmVhbVBhcnRcbiAgfCB7XG4gICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCI7XG4gICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIjtcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgICByZXN1bHQ6IHVua25vd247XG4gICAgICBpc0Vycm9yPzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogXCJzdGVwLWZpbmlzaFwiO1xuICAgICAgZmluaXNoUmVhc29uOlxuICAgICAgICB8IFwic3RvcFwiXG4gICAgICAgIHwgXCJsZW5ndGhcIlxuICAgICAgICB8IFwiY29udGVudC1maWx0ZXJcIlxuICAgICAgICB8IFwidG9vbC1jYWxsc1wiXG4gICAgICAgIHwgXCJlcnJvclwiXG4gICAgICAgIHwgXCJvdGhlclwiXG4gICAgICAgIHwgXCJ1bmtub3duXCI7XG4gICAgICB1c2FnZToge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IG51bWJlcjtcbiAgICAgICAgY29tcGxldGlvblRva2VuczogbnVtYmVyO1xuICAgICAgfTtcbiAgICAgIGlzQ29udGludWVkOiBib29sZWFuO1xuICAgIH07XG5cbmV4cG9ydCBmdW5jdGlvbiB0b29sUmVzdWx0U3RyZWFtKFxuICB0b29sczogUmVjb3JkPHN0cmluZywgVG9vbD4gfCB1bmRlZmluZWQsXG4gIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbCxcbikge1xuICBjb25zdCB0b29sQ2FsbEV4ZWN1dGlvbnMgPSBuZXcgTWFwPHN0cmluZywgUHJvbWlzZTxhbnk+PigpO1xuXG4gIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtPFRvb2xSZXN1bHRTdHJlYW1QYXJ0LCBUb29sUmVzdWx0U3RyZWFtUGFydD4oe1xuICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgLy8gZm9yd2FyZCBldmVyeXRoaW5nXG4gICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuXG4gICAgICAvLyBoYW5kbGUgdG9vbCBjYWxsc1xuICAgICAgY29uc3QgY2h1bmtUeXBlID0gY2h1bmsudHlwZTtcbiAgICAgIHN3aXRjaCAoY2h1bmtUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjoge1xuICAgICAgICAgIGNvbnN0IHsgdG9vbENhbGxJZCwgdG9vbENhbGxUeXBlLCB0b29sTmFtZSwgYXJnczogYXJnc1RleHQgfSA9IGNodW5rO1xuICAgICAgICAgIGNvbnN0IHRvb2wgPSB0b29scz8uW3Rvb2xOYW1lXTtcbiAgICAgICAgICBpZiAoIXRvb2wgfHwgIXRvb2wuZXhlY3V0ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgY29uc3QgYXJncyA9IHNqc29uLnBhcnNlKGFyZ3NUZXh0KTtcbiAgICAgICAgICBpZiAodG9vbC5wYXJhbWV0ZXJzIGluc3RhbmNlb2Ygei5ab2RUeXBlKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0b29sLnBhcmFtZXRlcnMuc2FmZVBhcnNlKGFyZ3MpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICAgICAgICB0b29sQ2FsbFR5cGUsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICByZXN1bHQ6XG4gICAgICAgICAgICAgICAgICBcIkZ1bmN0aW9uIHBhcmFtZXRlciB2YWxpZGF0aW9uIGZhaWxlZC4gXCIgK1xuICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzdWx0LmVycm9yLmlzc3VlcyksXG4gICAgICAgICAgICAgICAgaXNFcnJvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRvb2xDYWxsRXhlY3V0aW9ucy5zZXQoXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKCF0b29sLmV4ZWN1dGUpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdG9vbC5leGVjdXRlKGFyZ3MsIHsgYWJvcnRTaWduYWwgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLXJlc3VsdFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogXCJFcnJvcjogXCIgKyBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICBpc0Vycm9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsRXhlY3V0aW9ucy5kZWxldGUodG9vbENhbGxJZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZ25vcmUgb3RoZXIgcGFydHNcbiAgICAgICAgY2FzZSBcInRleHQtZGVsdGFcIjpcbiAgICAgICAgY2FzZSBcInRvb2wtY2FsbC1kZWx0YVwiOlxuICAgICAgICBjYXNlIFwidG9vbC1yZXN1bHRcIjpcbiAgICAgICAgY2FzZSBcInN0ZXAtZmluaXNoXCI6XG4gICAgICAgIGNhc2UgXCJmaW5pc2hcIjpcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJyZXNwb25zZS1tZXRhZGF0YVwiOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCB1bmhhbmRsZWRUeXBlOiBuZXZlciA9IGNodW5rVHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCBjaHVuayB0eXBlOiAke3VuaGFuZGxlZFR5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXN5bmMgZmx1c2goKSB7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbCh0b29sQ2FsbEV4ZWN1dGlvbnMudmFsdWVzKCkpO1xuICAgIH0sXG4gIH0pO1xufVxuIiwiaW1wb3J0IHNqc29uIGZyb20gXCJzZWN1cmUtanNvbi1wYXJzZVwiO1xuaW1wb3J0IHsgZml4SnNvbiB9IGZyb20gXCIuL2ZpeC1qc29uXCI7XG5cbmV4cG9ydCBjb25zdCBwYXJzZVBhcnRpYWxKc29uID0gKGpzb246IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBzanNvbi5wYXJzZShqc29uKTtcbiAgfSBjYXRjaCB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBzanNvbi5wYXJzZShmaXhKc29uKGpzb24pKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59O1xuIiwiLy8gTElDRU5TRSBmb3IgdGhpcyBmaWxlIG9ubHlcblxuLy8gQ29weXJpZ2h0IDIwMjMgVmVyY2VsLCBJbmMuXG5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG50eXBlIFN0YXRlID1cbiAgfCBcIlJPT1RcIlxuICB8IFwiRklOSVNIXCJcbiAgfCBcIklOU0lERV9TVFJJTkdcIlxuICB8IFwiSU5TSURFX1NUUklOR19FU0NBUEVcIlxuICB8IFwiSU5TSURFX0xJVEVSQUxcIlxuICB8IFwiSU5TSURFX05VTUJFUlwiXG4gIHwgXCJJTlNJREVfT0JKRUNUX1NUQVJUXCJcbiAgfCBcIklOU0lERV9PQkpFQ1RfS0VZXCJcbiAgfCBcIklOU0lERV9PQkpFQ1RfQUZURVJfS0VZXCJcbiAgfCBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCJcbiAgfCBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIlxuICB8IFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiXG4gIHwgXCJJTlNJREVfQVJSQVlfU1RBUlRcIlxuICB8IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCJcbiAgfCBcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiO1xuXG4vLyBJbXBsZW1lbnRlZCBhcyBhIHNjYW5uZXIgd2l0aCBhZGRpdGlvbmFsIGZpeGluZ1xuLy8gdGhhdCBwZXJmb3JtcyBhIHNpbmdsZSBsaW5lYXIgdGltZSBzY2FuIHBhc3Mgb3ZlciB0aGUgcGFydGlhbCBKU09OLlxuLy9cbi8vIFRoZSBzdGF0ZXMgc2hvdWxkIGlkZWFsbHkgbWF0Y2ggcmVsZXZhbnQgc3RhdGVzIGZyb20gdGhlIEpTT04gc3BlYzpcbi8vIGh0dHBzOi8vd3d3Lmpzb24ub3JnL2pzb24tZW4uaHRtbFxuLy9cbi8vIFBsZWFzZSBub3RlIHRoYXQgaW52YWxpZCBKU09OIGlzIG5vdCBjb25zaWRlcmVkL2NvdmVyZWQsIGJlY2F1c2UgaXRcbi8vIGlzIGFzc3VtZWQgdGhhdCB0aGUgcmVzdWx0aW5nIEpTT04gd2lsbCBiZSBwcm9jZXNzZWQgYnkgYSBzdGFuZGFyZFxuLy8gSlNPTiBwYXJzZXIgdGhhdCB3aWxsIGRldGVjdCBhbnkgaW52YWxpZCBKU09OLlxuZXhwb3J0IGZ1bmN0aW9uIGZpeEpzb24oaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHN0YWNrOiBTdGF0ZVtdID0gW1wiUk9PVFwiXTtcbiAgbGV0IGxhc3RWYWxpZEluZGV4ID0gLTE7XG4gIGxldCBsaXRlcmFsU3RhcnQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXI6IHN0cmluZywgaTogbnVtYmVyLCBzd2FwU3RhdGU6IFN0YXRlKSB7XG4gICAge1xuICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9TVFJJTkdcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICBjYXNlIFwidFwiOlxuICAgICAgICBjYXNlIFwiblwiOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIGxpdGVyYWxTdGFydCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfTElURVJBTFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgXCItXCI6IHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgY2FzZSBcIjlcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlIFwie1wiOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9TVEFSVFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgXCJbXCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfU1RBUlRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyOiBzdHJpbmcsIGk6IG51bWJlcikge1xuICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXI6IHN0cmluZywgaTogbnVtYmVyKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBpbnB1dFtpXSE7XG4gICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgY2FzZSBcIlJPT1RcIjpcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJGSU5JU0hcIik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9TVEFSVFwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9LRVlcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfS0VZXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfS0VZXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSBcIjpcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIik7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfU1RSSU5HXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgXCJcXFxcXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HX0VTQ0FQRVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9TVEFSVFwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiSU5TSURFX1NUUklOR19FU0NBUEVcIjoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiSU5TSURFX05VTUJFUlwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgIGNhc2UgXCI5XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgXCJlXCI6XG4gICAgICAgICAgY2FzZSBcIkVcIjpcbiAgICAgICAgICBjYXNlIFwiLVwiOlxuICAgICAgICAgIGNhc2UgXCIuXCI6IHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIikge1xuICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9MSVRFUkFMXCI6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0ISwgaSArIDEpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhXCJmYWxzZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmXG4gICAgICAgICAgIVwidHJ1ZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmXG4gICAgICAgICAgIVwibnVsbFwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpXG4gICAgICAgICkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIikge1xuICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIikge1xuICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlc3VsdCA9IGlucHV0LnNsaWNlKDAsIGxhc3RWYWxpZEluZGV4ICsgMSk7XG5cbiAgZm9yIChsZXQgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBzdGFja1tpXTtcblxuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJJTlNJREVfU1RSSU5HXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9ICdcIic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9LRVlcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX1NUQVJUXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9IFwifVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9TVEFSVFwiOlxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHJlc3VsdCArPSBcIl1cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgXCJJTlNJREVfTElURVJBTFwiOiB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxMaXRlcmFsID0gaW5wdXQuc3Vic3RyaW5nKGxpdGVyYWxTdGFydCEsIGlucHV0Lmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKFwidHJ1ZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IFwidHJ1ZVwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJmYWxzZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IFwiZmFsc2VcIi5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKFwibnVsbFwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IFwibnVsbFwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IHsgQ2hhdE1vZGVsUnVuUmVzdWx0IH0gZnJvbSBcIi4uLy4uL2xvY2FsL0NoYXRNb2RlbEFkYXB0ZXJcIjtcbmltcG9ydCB7IHBhcnNlUGFydGlhbEpzb24gfSBmcm9tIFwiLi4vcGFydGlhbC1qc29uL3BhcnNlLXBhcnRpYWwtanNvblwiO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYxU3RyZWFtUGFydCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBUb29sUmVzdWx0U3RyZWFtUGFydCB9IGZyb20gXCIuL3Rvb2xSZXN1bHRTdHJlYW1cIjtcbmltcG9ydCB7IE1lc3NhZ2VTdGF0dXMsIFRvb2xDYWxsQ29udGVudFBhcnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJ1blJlc3VsdFN0cmVhbSgpIHtcbiAgbGV0IG1lc3NhZ2U6IENoYXRNb2RlbFJ1blJlc3VsdCA9IHtcbiAgICBjb250ZW50OiBbXSxcbiAgICBzdGF0dXM6IHsgdHlwZTogXCJydW5uaW5nXCIgfSxcbiAgfTtcblxuICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbTxUb29sUmVzdWx0U3RyZWFtUGFydCwgQ2hhdE1vZGVsUnVuUmVzdWx0Pih7XG4gICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICBjb25zdCBjaHVua1R5cGUgPSBjaHVuay50eXBlO1xuICAgICAgc3dpdGNoIChjaHVua1R5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHQtZGVsdGFcIjoge1xuICAgICAgICAgIG1lc3NhZ2UgPSBhcHBlbmRPclVwZGF0ZVRleHQobWVzc2FnZSwgY2h1bmsudGV4dERlbHRhKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlIFwidG9vbC1jYWxsLWRlbHRhXCI6IHtcbiAgICAgICAgICBjb25zdCB7IHRvb2xDYWxsSWQsIHRvb2xOYW1lLCBhcmdzVGV4dERlbHRhIH0gPSBjaHVuaztcblxuICAgICAgICAgIG1lc3NhZ2UgPSBhcHBlbmRPclVwZGF0ZVRvb2xDYWxsKFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgIGFyZ3NUZXh0RGVsdGEsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlIFwidG9vbC1jYWxsXCI6XG4gICAgICAgIGNhc2UgXCJyZXNwb25zZS1tZXRhZGF0YVwiOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJ0b29sLXJlc3VsdFwiOiB7XG4gICAgICAgICAgbWVzc2FnZSA9IGFwcGVuZE9yVXBkYXRlVG9vbFJlc3VsdChcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICBjaHVuay5yZXN1bHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN0ZXAtZmluaXNoXCI6IHtcbiAgICAgICAgICBtZXNzYWdlID0gYXBwZW5kT3JVcGRhdGVTdGVwRmluaXNoKG1lc3NhZ2UsIGNodW5rKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZpbmlzaFwiOiB7XG4gICAgICAgICAgbWVzc2FnZSA9IGFwcGVuZE9yVXBkYXRlRmluaXNoKG1lc3NhZ2UsIGNodW5rKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImVycm9yXCI6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjaHVuay5lcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgICAgICBjaHVuay5lcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGFwcGVuZE9yVXBkYXRlQ2FuY2VsKG1lc3NhZ2UpO1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNodW5rLmVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogbmV2ZXIgPSBjaHVua1R5cGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgY2h1bmsgdHlwZTogJHt1bmhhbmRsZWRUeXBlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59XG5cbmNvbnN0IGFwcGVuZE9yVXBkYXRlVGV4dCA9IChtZXNzYWdlOiBDaGF0TW9kZWxSdW5SZXN1bHQsIHRleHREZWx0YTogc3RyaW5nKSA9PiB7XG4gIGxldCBjb250ZW50UGFydHMgPSBtZXNzYWdlLmNvbnRlbnQgPz8gW107XG4gIGxldCBjb250ZW50UGFydCA9IG1lc3NhZ2UuY29udGVudD8uYXQoLTEpO1xuICBpZiAoY29udGVudFBhcnQ/LnR5cGUgIT09IFwidGV4dFwiKSB7XG4gICAgY29udGVudFBhcnQgPSB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiB0ZXh0RGVsdGEgfTtcbiAgfSBlbHNlIHtcbiAgICBjb250ZW50UGFydHMgPSBjb250ZW50UGFydHMuc2xpY2UoMCwgLTEpO1xuICAgIGNvbnRlbnRQYXJ0ID0geyB0eXBlOiBcInRleHRcIiwgdGV4dDogY29udGVudFBhcnQudGV4dCArIHRleHREZWx0YSB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4ubWVzc2FnZSxcbiAgICBjb250ZW50OiBjb250ZW50UGFydHMuY29uY2F0KFtjb250ZW50UGFydF0pLFxuICB9O1xufTtcblxuY29uc3QgYXBwZW5kT3JVcGRhdGVUb29sQ2FsbCA9IChcbiAgbWVzc2FnZTogQ2hhdE1vZGVsUnVuUmVzdWx0LFxuICB0b29sQ2FsbElkOiBzdHJpbmcsXG4gIHRvb2xOYW1lOiBzdHJpbmcsXG4gIGFyZ3NUZXh0RGVsdGE6IHN0cmluZyxcbik6IENoYXRNb2RlbFJ1blJlc3VsdCA9PiB7XG4gIGxldCBjb250ZW50UGFydHMgPSBtZXNzYWdlLmNvbnRlbnQgPz8gW107XG4gIGxldCBjb250ZW50UGFydElkeCA9IGNvbnRlbnRQYXJ0cy5maW5kSW5kZXgoXG4gICAgKGMpID0+IGMudHlwZSA9PT0gXCJ0b29sLWNhbGxcIiAmJiBjLnRvb2xDYWxsSWQgPT09IHRvb2xDYWxsSWQsXG4gICk7XG4gIGxldCBjb250ZW50UGFydCA9XG4gICAgY29udGVudFBhcnRJZHggPT09IC0xXG4gICAgICA/IG51bGxcbiAgICAgIDogKGNvbnRlbnRQYXJ0c1tjb250ZW50UGFydElkeF0gYXMgVG9vbENhbGxDb250ZW50UGFydCk7XG5cbiAgaWYgKGNvbnRlbnRQYXJ0ID09IG51bGwpIHtcbiAgICBjb250ZW50UGFydCA9IHtcbiAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICB0b29sQ2FsbElkLFxuICAgICAgdG9vbE5hbWUsXG4gICAgICBhcmdzVGV4dDogYXJnc1RleHREZWx0YSxcbiAgICAgIGFyZ3M6IHBhcnNlUGFydGlhbEpzb24oYXJnc1RleHREZWx0YSksXG4gICAgfTtcbiAgICBjb250ZW50UGFydHMgPSBbLi4uY29udGVudFBhcnRzLCBjb250ZW50UGFydF07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYXJnc1RleHQgPSBjb250ZW50UGFydC5hcmdzVGV4dCArIGFyZ3NUZXh0RGVsdGE7XG4gICAgY29udGVudFBhcnQgPSB7XG4gICAgICAuLi5jb250ZW50UGFydCxcbiAgICAgIGFyZ3NUZXh0LFxuICAgICAgYXJnczogcGFyc2VQYXJ0aWFsSnNvbihhcmdzVGV4dCksXG4gICAgfTtcbiAgICBjb250ZW50UGFydHMgPSBbXG4gICAgICAuLi5jb250ZW50UGFydHMuc2xpY2UoMCwgY29udGVudFBhcnRJZHgpLFxuICAgICAgY29udGVudFBhcnQsXG4gICAgICAuLi5jb250ZW50UGFydHMuc2xpY2UoY29udGVudFBhcnRJZHggKyAxKSxcbiAgICBdO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5tZXNzYWdlLFxuICAgIGNvbnRlbnQ6IGNvbnRlbnRQYXJ0cyxcbiAgfTtcbn07XG5cbmNvbnN0IGFwcGVuZE9yVXBkYXRlVG9vbFJlc3VsdCA9IChcbiAgbWVzc2FnZTogQ2hhdE1vZGVsUnVuUmVzdWx0LFxuICB0b29sQ2FsbElkOiBzdHJpbmcsXG4gIHRvb2xOYW1lOiBzdHJpbmcsXG4gIHJlc3VsdDogYW55LFxuKSA9PiB7XG4gIGxldCBmb3VuZCA9IGZhbHNlO1xuICBjb25zdCBuZXdDb250ZW50UGFydHMgPSBtZXNzYWdlLmNvbnRlbnQ/Lm1hcCgocGFydCkgPT4ge1xuICAgIGlmIChwYXJ0LnR5cGUgIT09IFwidG9vbC1jYWxsXCIgfHwgcGFydC50b29sQ2FsbElkICE9PSB0b29sQ2FsbElkKVxuICAgICAgcmV0dXJuIHBhcnQ7XG4gICAgZm91bmQgPSB0cnVlO1xuXG4gICAgaWYgKHBhcnQudG9vbE5hbWUgIT09IHRvb2xOYW1lKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVG9vbCBjYWxsICR7dG9vbENhbGxJZH0gZm91bmQgd2l0aCB0b29sIG5hbWUgJHtwYXJ0LnRvb2xOYW1lfSwgYnV0IGV4cGVjdGVkICR7dG9vbE5hbWV9YCxcbiAgICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ucGFydCxcbiAgICAgIHJlc3VsdCxcbiAgICB9O1xuICB9KTtcbiAgaWYgKCFmb3VuZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgdG9vbCByZXN1bHQgZm9yIHVua25vd24gdG9vbCBjYWxsIFwiJHt0b29sTmFtZX1cIiAvIFwiJHt0b29sQ2FsbElkfVwiLiBUaGlzIGlzIGxpa2VseSBhbiBpbnRlcm5hbCBidWcgaW4gYXNzaXN0YW50LXVpLmAsXG4gICAgKTtcblxuICByZXR1cm4ge1xuICAgIC4uLm1lc3NhZ2UsXG4gICAgY29udGVudDogbmV3Q29udGVudFBhcnRzISxcbiAgfTtcbn07XG5cbmNvbnN0IGFwcGVuZE9yVXBkYXRlU3RlcEZpbmlzaCA9IChcbiAgbWVzc2FnZTogQ2hhdE1vZGVsUnVuUmVzdWx0LFxuICBjaHVuazogVG9vbFJlc3VsdFN0cmVhbVBhcnQgJiB7IHR5cGU6IFwic3RlcC1maW5pc2hcIiB9LFxuKTogQ2hhdE1vZGVsUnVuUmVzdWx0ID0+IHtcbiAgY29uc3QgeyB0eXBlLCAuLi5yZXN0IH0gPSBjaHVuaztcbiAgY29uc3Qgc3RlcHMgPSBbXG4gICAgLi4uKG1lc3NhZ2UubWV0YWRhdGE/LnN0ZXBzID8/IFtdKSxcbiAgICB7XG4gICAgICB1c2FnZTogcmVzdC51c2FnZSxcbiAgICB9LFxuICBdO1xuICByZXR1cm4ge1xuICAgIC4uLm1lc3NhZ2UsXG4gICAgc3RhdHVzOiBnZXRTdGF0dXMoY2h1bmspLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAuLi5tZXNzYWdlLm1ldGFkYXRhLFxuICAgICAgcm91bmR0cmlwczogc3RlcHMsXG4gICAgICBzdGVwcyxcbiAgICB9LFxuICB9O1xufTtcblxuY29uc3QgYXBwZW5kT3JVcGRhdGVGaW5pc2ggPSAoXG4gIG1lc3NhZ2U6IENoYXRNb2RlbFJ1blJlc3VsdCxcbiAgY2h1bms6IExhbmd1YWdlTW9kZWxWMVN0cmVhbVBhcnQgJiB7IHR5cGU6IFwiZmluaXNoXCIgfSxcbik6IENoYXRNb2RlbFJ1blJlc3VsdCA9PiB7XG4gIGNvbnN0IHsgdHlwZSwgLi4ucmVzdCB9ID0gY2h1bms7XG5cbiAgY29uc3Qgc3RlcHMgPSBbXG4gICAgLi4uKG1lc3NhZ2UubWV0YWRhdGE/LnN0ZXBzID8/IFtdKSxcbiAgICB7XG4gICAgICBsb2dwcm9iczogcmVzdC5sb2dwcm9icyxcbiAgICAgIHVzYWdlOiByZXN0LnVzYWdlLFxuICAgIH0sXG4gIF07XG4gIHJldHVybiB7XG4gICAgLi4ubWVzc2FnZSxcbiAgICBzdGF0dXM6IGdldFN0YXR1cyhjaHVuayksXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgIC4uLm1lc3NhZ2UubWV0YWRhdGEsXG4gICAgICByb3VuZHRyaXBzOiBzdGVwcyxcbiAgICAgIHN0ZXBzLFxuICAgIH0sXG4gIH07XG59O1xuXG5jb25zdCBnZXRTdGF0dXMgPSAoXG4gIGNodW5rOlxuICAgIHwgKExhbmd1YWdlTW9kZWxWMVN0cmVhbVBhcnQgJiB7IHR5cGU6IFwiZmluaXNoXCIgfSlcbiAgICB8IChUb29sUmVzdWx0U3RyZWFtUGFydCAmIHsgdHlwZTogXCJzdGVwLWZpbmlzaFwiIH0pLFxuKTogTWVzc2FnZVN0YXR1cyA9PiB7XG4gIGlmIChjaHVuay5maW5pc2hSZWFzb24gPT09IFwidG9vbC1jYWxsc1wiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwicmVxdWlyZXMtYWN0aW9uXCIsXG4gICAgICByZWFzb246IFwidG9vbC1jYWxsc1wiLFxuICAgIH07XG4gIH0gZWxzZSBpZiAoXG4gICAgY2h1bmsuZmluaXNoUmVhc29uID09PSBcInN0b3BcIiB8fFxuICAgIGNodW5rLmZpbmlzaFJlYXNvbiA9PT0gXCJ1bmtub3duXCJcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiY29tcGxldGVcIixcbiAgICAgIHJlYXNvbjogY2h1bmsuZmluaXNoUmVhc29uLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgcmVhc29uOiBjaHVuay5maW5pc2hSZWFzb24sXG4gICAgfTtcbiAgfVxufTtcblxuY29uc3QgYXBwZW5kT3JVcGRhdGVDYW5jZWwgPSAoXG4gIG1lc3NhZ2U6IENoYXRNb2RlbFJ1blJlc3VsdCxcbik6IENoYXRNb2RlbFJ1blJlc3VsdCA9PiB7XG4gIHJldHVybiB7XG4gICAgLi4ubWVzc2FnZSxcbiAgICBzdGF0dXM6IHtcbiAgICAgIHR5cGU6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgcmVhc29uOiBcImNhbmNlbGxlZFwiLFxuICAgIH0sXG4gIH07XG59O1xuIiwiZXhwb3J0IGNsYXNzIFBpcGVhYmxlVHJhbnNmb3JtU3RyZWFtPEksIE8+IGV4dGVuZHMgVHJhbnNmb3JtU3RyZWFtPEksIE8+IHtcbiAgY29uc3RydWN0b3IodHJhbnNmb3JtOiAocmVhZGFibGU6IFJlYWRhYmxlU3RyZWFtPEk+KSA9PiBSZWFkYWJsZVN0cmVhbTxPPikge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgcmVhZGFibGUgPSB0cmFuc2Zvcm0oc3VwZXIucmVhZGFibGUgYXMgYW55KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkYWJsZVwiLCB7XG4gICAgICB2YWx1ZTogcmVhZGFibGUsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBpcGVhYmxlVHJhbnNmb3JtU3RyZWFtIH0gZnJvbSBcIi4vUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW1cIjtcbmltcG9ydCB7IFN0cmVhbVBhcnQgfSBmcm9tIFwiLi9TdHJlYW1QYXJ0XCI7XG5cbmZ1bmN0aW9uIGVuY29kZVN0cmVhbVBhcnQ8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+Pih7XG4gIHR5cGUsXG4gIHZhbHVlLFxufTogU3RyZWFtUGFydDxUPik6IHN0cmluZyB7XG4gIHJldHVybiBgJHt0eXBlIGFzIHN0cmluZ306JHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9XFxuYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmVhbVBhcnRFbmNvZGVyU3RyZWFtPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oKSB7XG4gIGNvbnN0IGVuY29kZVN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW08U3RyZWFtUGFydDxUPiwgc3RyaW5nPih7XG4gICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICBjb250cm9sbGVyLmVucXVldWUoZW5jb2RlU3RyZWFtUGFydDxUPihjaHVuaykpO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBuZXcgUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW0oKHJlYWRhYmxlKSA9PiB7XG4gICAgcmV0dXJuIHJlYWRhYmxlXG4gICAgICAucGlwZVRocm91Z2goZW5jb2RlU3RyZWFtKVxuICAgICAgLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjEsXG4gIExhbmd1YWdlTW9kZWxWMVRvb2xDaG9pY2UsXG4gIExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbCxcbiAgTGFuZ3VhZ2VNb2RlbFYxUHJvbXB0LFxuICBMYW5ndWFnZU1vZGVsVjFDYWxsT3B0aW9ucyxcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7XG4gIENvcmVNZXNzYWdlLFxuICBUaHJlYWRNZXNzYWdlLFxuICBUaHJlYWRTdGVwLFxufSBmcm9tIFwiLi4vLi4vdHlwZXMvQXNzaXN0YW50VHlwZXNcIjtcbmltcG9ydCB7IGFzc2lzdGFudEVuY29kZXJTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1zL2Fzc2lzdGFudEVuY29kZXJTdHJlYW1cIjtcbmltcG9ydCB7IEVkZ2VSdW50aW1lUmVxdWVzdE9wdGlvbnNTY2hlbWEgfSBmcm9tIFwiLi9FZGdlUnVudGltZVJlcXVlc3RPcHRpb25zXCI7XG5pbXBvcnQgeyB0b0xhbmd1YWdlTW9kZWxNZXNzYWdlcyB9IGZyb20gXCIuL2NvbnZlcnRlcnMvdG9MYW5ndWFnZU1vZGVsTWVzc2FnZXNcIjtcbmltcG9ydCB7IFRvb2wgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IHRvTGFuZ3VhZ2VNb2RlbFRvb2xzIH0gZnJvbSBcIi4vY29udmVydGVycy90b0xhbmd1YWdlTW9kZWxUb29sc1wiO1xuaW1wb3J0IHtcbiAgdG9vbFJlc3VsdFN0cmVhbSxcbiAgVG9vbFJlc3VsdFN0cmVhbVBhcnQsXG59IGZyb20gXCIuL3N0cmVhbXMvdG9vbFJlc3VsdFN0cmVhbVwiO1xuaW1wb3J0IHsgcnVuUmVzdWx0U3RyZWFtIH0gZnJvbSBcIi4vc3RyZWFtcy9ydW5SZXN1bHRTdHJlYW1cIjtcbmltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxDb25maWcsXG4gIExhbmd1YWdlTW9kZWxWMUNhbGxTZXR0aW5ncyxcbiAgTGFuZ3VhZ2VNb2RlbFYxQ2FsbFNldHRpbmdzU2NoZW1hLFxufSBmcm9tIFwiLi4vLi4vdHlwZXMvTW9kZWxDb25maWdUeXBlc1wiO1xuaW1wb3J0IHsgQ2hhdE1vZGVsUnVuUmVzdWx0IH0gZnJvbSBcIi4uL2xvY2FsXCI7XG5pbXBvcnQgeyB0b0NvcmVNZXNzYWdlIH0gZnJvbSBcIi4vY29udmVydGVycy90b0NvcmVNZXNzYWdlc1wiO1xuaW1wb3J0IHsgc3RyZWFtUGFydEVuY29kZXJTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1zL3V0aWxzL3N0cmVhbVBhcnRFbmNvZGVyU3RyZWFtXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG50eXBlIEZpbmlzaFJlc3VsdCA9IHtcbiAgbWVzc2FnZXM6IENvcmVNZXNzYWdlW107XG4gIG1ldGFkYXRhOiB7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGBzdGVwc2AgaW5zdGVhZC4gVGhpcyBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuNi5cbiAgICAgKi9cbiAgICByb3VuZHRyaXBzOiBUaHJlYWRTdGVwW107XG4gICAgc3RlcHM6IFRocmVhZFN0ZXBbXTtcbiAgfTtcbn07XG5cbnR5cGUgTGFuZ3VhZ2VNb2RlbENyZWF0b3IgPSAoXG4gIGNvbmZpZzogTGFuZ3VhZ2VNb2RlbENvbmZpZyxcbikgPT4gUHJvbWlzZTxMYW5ndWFnZU1vZGVsVjE+IHwgTGFuZ3VhZ2VNb2RlbFYxO1xuXG5leHBvcnQgdHlwZSBDcmVhdGVFZGdlUnVudGltZUFQSU9wdGlvbnMgPSBMYW5ndWFnZU1vZGVsVjFDYWxsU2V0dGluZ3MgJiB7XG4gIG1vZGVsOiBMYW5ndWFnZU1vZGVsVjEgfCBMYW5ndWFnZU1vZGVsQ3JlYXRvcjtcbiAgc3lzdGVtPzogc3RyaW5nO1xuICB0b29scz86IFJlY29yZDxzdHJpbmcsIFRvb2w8YW55LCBhbnk+PjtcbiAgdG9vbENob2ljZT86IExhbmd1YWdlTW9kZWxWMVRvb2xDaG9pY2U7XG4gIG9uRmluaXNoPzogKHJlc3VsdDogRmluaXNoUmVzdWx0KSA9PiB2b2lkO1xufTtcblxuY29uc3Qgdm9pZFN0cmVhbSA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBXcml0YWJsZVN0cmVhbSh7XG4gICAgYWJvcnQocmVhc29uKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiU2VydmVyIHN0cmVhbSBwcm9jZXNzaW5nIGFib3J0ZWQ6XCIsIHJlYXNvbik7XG4gICAgfSxcbiAgfSk7XG59O1xuXG50eXBlIEdldEVkZ2VSdW50aW1lU3RyZWFtT3B0aW9ucyA9IHtcbiAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsO1xuICByZXF1ZXN0RGF0YTogei5pbmZlcjx0eXBlb2YgRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9uc1NjaGVtYT47XG4gIG9wdGlvbnM6IENyZWF0ZUVkZ2VSdW50aW1lQVBJT3B0aW9ucztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFZGdlUnVudGltZVN0cmVhbSA9IGFzeW5jICh7XG4gIGFib3J0U2lnbmFsLFxuICByZXF1ZXN0RGF0YTogdW5zYWZlUmVxdWVzdCxcbiAgb3B0aW9uczoge1xuICAgIG1vZGVsOiBtb2RlbE9yQ3JlYXRvcixcbiAgICBzeXN0ZW06IHNlcnZlclN5c3RlbSxcbiAgICB0b29sczogc2VydmVyVG9vbHMgPSB7fSxcbiAgICB0b29sQ2hvaWNlLFxuICAgIG9uRmluaXNoLFxuICAgIC4uLnVuc2FmZVNldHRpbmdzXG4gIH0sXG59OiBHZXRFZGdlUnVudGltZVN0cmVhbU9wdGlvbnMpID0+IHtcbiAgY29uc3Qgc2V0dGluZ3MgPSBMYW5ndWFnZU1vZGVsVjFDYWxsU2V0dGluZ3NTY2hlbWEucGFyc2UodW5zYWZlU2V0dGluZ3MpO1xuICBjb25zdCBsbVNlcnZlclRvb2xzID0gdG9MYW5ndWFnZU1vZGVsVG9vbHMoc2VydmVyVG9vbHMpO1xuICBjb25zdCBoYXNTZXJ2ZXJUb29scyA9IE9iamVjdC52YWx1ZXMoc2VydmVyVG9vbHMpLnNvbWUoKHYpID0+ICEhdi5leGVjdXRlKTtcblxuICBjb25zdCB7XG4gICAgc3lzdGVtOiBjbGllbnRTeXN0ZW0sXG4gICAgdG9vbHM6IGNsaWVudFRvb2xzID0gW10sXG4gICAgbWVzc2FnZXMsXG4gICAgYXBpS2V5LFxuICAgIGJhc2VVcmwsXG4gICAgbW9kZWxOYW1lLFxuICAgIC4uLmNhbGxTZXR0aW5nc1xuICB9ID0gRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9uc1NjaGVtYS5wYXJzZSh1bnNhZmVSZXF1ZXN0KTtcblxuICBjb25zdCBzeXN0ZW1NZXNzYWdlcyA9IFtdO1xuICBpZiAoc2VydmVyU3lzdGVtKSBzeXN0ZW1NZXNzYWdlcy5wdXNoKHNlcnZlclN5c3RlbSk7XG4gIGlmIChjbGllbnRTeXN0ZW0pIHN5c3RlbU1lc3NhZ2VzLnB1c2goY2xpZW50U3lzdGVtKTtcbiAgY29uc3Qgc3lzdGVtID0gc3lzdGVtTWVzc2FnZXMuam9pbihcIlxcblxcblwiKTtcblxuICBmb3IgKGNvbnN0IGNsaWVudFRvb2wgb2YgY2xpZW50VG9vbHMpIHtcbiAgICBpZiAoc2VydmVyVG9vbHM/LltjbGllbnRUb29sLm5hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBUb29sICR7Y2xpZW50VG9vbC5uYW1lfSB3YXMgZGVmaW5lZCBpbiBib3RoIHRoZSBjbGllbnQgYW5kIHNlcnZlciB0b29scy4gVGhpcyBpcyBub3QgYWxsb3dlZC5gLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBtb2RlbCA9XG4gICAgdHlwZW9mIG1vZGVsT3JDcmVhdG9yID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gYXdhaXQgbW9kZWxPckNyZWF0b3IoeyBhcGlLZXksIGJhc2VVcmwsIG1vZGVsTmFtZSB9KVxuICAgICAgOiBtb2RlbE9yQ3JlYXRvcjtcblxuICBsZXQgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxUb29sUmVzdWx0U3RyZWFtUGFydD47XG4gIGNvbnN0IHN0cmVhbVJlc3VsdCA9IGF3YWl0IHN0cmVhbU1lc3NhZ2Uoe1xuICAgIC4uLihzZXR0aW5ncyBhcyBQYXJ0aWFsPFN0cmVhbU1lc3NhZ2VPcHRpb25zPiksXG4gICAgLi4uY2FsbFNldHRpbmdzLFxuXG4gICAgbW9kZWwsXG4gICAgYWJvcnRTaWduYWwsXG5cbiAgICAuLi4oISFzeXN0ZW0gPyB7IHN5c3RlbSB9IDogdW5kZWZpbmVkKSxcbiAgICBtZXNzYWdlcyxcbiAgICB0b29sczogbG1TZXJ2ZXJUb29scy5jb25jYXQoY2xpZW50VG9vbHMgYXMgTGFuZ3VhZ2VNb2RlbFYxRnVuY3Rpb25Ub29sW10pLFxuICAgIC4uLih0b29sQ2hvaWNlID8geyB0b29sQ2hvaWNlIH0gOiB1bmRlZmluZWQpLFxuICB9KTtcbiAgc3RyZWFtID0gc3RyZWFtUmVzdWx0LnN0cmVhbTtcblxuICAvLyBhZGQgdG9vbCByZXN1bHRzIGlmIHdlIGhhdmUgc2VydmVyIHRvb2xzXG4gIGNvbnN0IGNhbkV4ZWN1dGVUb29scyA9IGhhc1NlcnZlclRvb2xzICYmIHRvb2xDaG9pY2U/LnR5cGUgIT09IFwibm9uZVwiO1xuICBpZiAoY2FuRXhlY3V0ZVRvb2xzKSB7XG4gICAgc3RyZWFtID0gc3RyZWFtLnBpcGVUaHJvdWdoKHRvb2xSZXN1bHRTdHJlYW0oc2VydmVyVG9vbHMsIGFib3J0U2lnbmFsKSk7XG4gIH1cblxuICBpZiAoY2FuRXhlY3V0ZVRvb2xzIHx8IG9uRmluaXNoKSB7XG4gICAgLy8gdGVlIHRoZSBzdHJlYW0gdG8gcHJvY2VzcyBzZXJ2ZXIgdG9vbHMgYW5kIG9uRmluaXNoIGFzYXBcbiAgICBjb25zdCB0ZWVzID0gc3RyZWFtLnRlZSgpO1xuICAgIHN0cmVhbSA9IHRlZXNbMF07XG4gICAgbGV0IHNlcnZlclN0cmVhbSA9IHRlZXNbMV07XG5cbiAgICBpZiAob25GaW5pc2gpIHtcbiAgICAgIGxldCBsYXN0Q2h1bms6IENoYXRNb2RlbFJ1blJlc3VsdDtcbiAgICAgIHNlcnZlclN0cmVhbSA9IHNlcnZlclN0cmVhbS5waXBlVGhyb3VnaChydW5SZXN1bHRTdHJlYW0oKSkucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgIHRyYW5zZm9ybShjaHVuaykge1xuICAgICAgICAgICAgbGFzdENodW5rID0gY2h1bms7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmbHVzaCgpIHtcbiAgICAgICAgICAgIGlmICghbGFzdENodW5rPy5zdGF0dXMgfHwgbGFzdENodW5rLnN0YXR1cy50eXBlID09PSBcInJ1bm5pbmdcIilcbiAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRpbmdNZXNzYWdlcyA9IFtcbiAgICAgICAgICAgICAgLi4ubWVzc2FnZXMsXG4gICAgICAgICAgICAgIHRvQ29yZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICAgICAgY29udGVudDogbGFzdENodW5rLmNvbnRlbnQsXG4gICAgICAgICAgICAgIH0gYXMgVGhyZWFkTWVzc2FnZSksXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgb25GaW5pc2goe1xuICAgICAgICAgICAgICBtZXNzYWdlczogcmVzdWx0aW5nTWVzc2FnZXMsXG4gICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0ZWQtb3B0aW9uYWwtY2hhaW5cbiAgICAgICAgICAgICAgICByb3VuZHRyaXBzOiBsYXN0Q2h1bmsubWV0YWRhdGE/LnN0ZXBzISxcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGVkLW9wdGlvbmFsLWNoYWluXG4gICAgICAgICAgICAgICAgc3RlcHM6IGxhc3RDaHVuay5tZXRhZGF0YT8uc3RlcHMhLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGRyYWluIHRoZSBzZXJ2ZXIgc3RyZWFtXG4gICAgc2VydmVyU3RyZWFtLnBpcGVUbyh2b2lkU3RyZWFtKCkpLmNhdGNoKChlKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiU2VydmVyIHN0cmVhbSBwcm9jZXNzaW5nIGVycm9yOlwiLCBlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzdHJlYW07XG59O1xuXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgZ2V0RWRnZVJ1bnRpbWVSZXNwb25zZSB7XG4gIGV4cG9ydCB0eXBlIHsgR2V0RWRnZVJ1bnRpbWVTdHJlYW1PcHRpb25zIGFzIE9wdGlvbnMgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldEVkZ2VSdW50aW1lUmVzcG9uc2UgPSBhc3luYyAoXG4gIG9wdGlvbnM6IGdldEVkZ2VSdW50aW1lUmVzcG9uc2UuT3B0aW9ucyxcbikgPT4ge1xuICBjb25zdCBzdHJlYW0gPSBhd2FpdCBnZXRFZGdlUnVudGltZVN0cmVhbShvcHRpb25zKTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICBzdHJlYW1cbiAgICAgIC5waXBlVGhyb3VnaChhc3Npc3RhbnRFbmNvZGVyU3RyZWFtKCkpXG4gICAgICAucGlwZVRocm91Z2goc3RyZWFtUGFydEVuY29kZXJTdHJlYW0oKSksXG4gICAge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFZGdlUnVudGltZUFQSSA9IChvcHRpb25zOiBDcmVhdGVFZGdlUnVudGltZUFQSU9wdGlvbnMpID0+ICh7XG4gIFBPU1Q6IGFzeW5jIChyZXF1ZXN0OiBSZXF1ZXN0KSA9PlxuICAgIGdldEVkZ2VSdW50aW1lUmVzcG9uc2Uoe1xuICAgICAgYWJvcnRTaWduYWw6IHJlcXVlc3Quc2lnbmFsLFxuICAgICAgcmVxdWVzdERhdGE6IGF3YWl0IHJlcXVlc3QuanNvbigpLFxuICAgICAgb3B0aW9ucyxcbiAgICB9KSxcbn0pO1xuXG50eXBlIFN0cmVhbU1lc3NhZ2VPcHRpb25zID0gTGFuZ3VhZ2VNb2RlbFYxQ2FsbFNldHRpbmdzICYge1xuICBtb2RlbDogTGFuZ3VhZ2VNb2RlbFYxO1xuICBzeXN0ZW0/OiBzdHJpbmc7XG4gIG1lc3NhZ2VzOiBDb3JlTWVzc2FnZVtdO1xuICB0b29scz86IExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbFtdO1xuICB0b29sQ2hvaWNlPzogTGFuZ3VhZ2VNb2RlbFYxVG9vbENob2ljZTtcbiAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gc3RyZWFtTWVzc2FnZSh7XG4gIG1vZGVsLFxuICBzeXN0ZW0sXG4gIG1lc3NhZ2VzLFxuICB0b29scyxcbiAgdG9vbENob2ljZSxcbiAgLi4ub3B0aW9uc1xufTogU3RyZWFtTWVzc2FnZU9wdGlvbnMpIHtcbiAgcmV0dXJuIG1vZGVsLmRvU3RyZWFtKHtcbiAgICBpbnB1dEZvcm1hdDogXCJtZXNzYWdlc1wiLFxuICAgIG1vZGU6IHtcbiAgICAgIHR5cGU6IFwicmVndWxhclwiLFxuICAgICAgLi4uKHRvb2xzID8geyB0b29scyB9IDogdW5kZWZpbmVkKSxcbiAgICAgIC4uLih0b29sQ2hvaWNlID8geyB0b29sQ2hvaWNlIH0gOiB1bmRlZmluZWQpLFxuICAgIH0sXG4gICAgcHJvbXB0OiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHN5c3RlbSwgbWVzc2FnZXMpLFxuICAgIC4uLihvcHRpb25zIGFzIFBhcnRpYWw8TGFuZ3VhZ2VNb2RlbFYxQ2FsbE9wdGlvbnM+KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KFxuICBzeXN0ZW06IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgbWVzc2FnZXM6IENvcmVNZXNzYWdlW10sXG4pOiBMYW5ndWFnZU1vZGVsVjFQcm9tcHQge1xuICBjb25zdCBsYW5ndWFnZU1vZGVsTWVzc2FnZXM6IExhbmd1YWdlTW9kZWxWMVByb21wdCA9IFtdO1xuXG4gIGlmIChzeXN0ZW0gIT0gbnVsbCkge1xuICAgIGxhbmd1YWdlTW9kZWxNZXNzYWdlcy5wdXNoKHsgcm9sZTogXCJzeXN0ZW1cIiwgY29udGVudDogc3lzdGVtIH0pO1xuICB9XG4gIGxhbmd1YWdlTW9kZWxNZXNzYWdlcy5wdXNoKC4uLnRvTGFuZ3VhZ2VNb2RlbE1lc3NhZ2VzKG1lc3NhZ2VzKSk7XG5cbiAgcmV0dXJuIGxhbmd1YWdlTW9kZWxNZXNzYWdlcztcbn1cbiJdLCJuYW1lcyI6WyJhc3Npc3RhbnRNZXNzYWdlU3BsaXR0ZXIiLCJzdGFzaCIsImFzc2lzdGFudE1lc3NhZ2UiLCJyb2xlIiwiY29udGVudCIsInRvb2xNZXNzYWdlIiwiYWRkVGV4dENvbnRlbnRQYXJ0IiwicGFydCIsImxlbmd0aCIsInB1c2giLCJhZGRUb29sQ2FsbFBhcnQiLCJ0eXBlIiwidG9vbENhbGxJZCIsInRvb2xOYW1lIiwiYXJncyIsInJlc3VsdCIsImlzRXJyb3IiLCJnZXRNZXNzYWdlcyIsInRvTGFuZ3VhZ2VNb2RlbE1lc3NhZ2VzIiwibWVzc2FnZSIsImZsYXRNYXAiLCJ0ZXh0IiwibXNnIiwibWFwIiwiaW1hZ2UiLCJVUkwiLCJ1bmhhbmRsZWRUeXBlIiwiRXJyb3IiLCJzcGxpdHRlciIsInVuaGFuZGxlZFJvbGUiLCJ6Iiwiem9kVG9Kc29uU2NoZW1hIiwidG9MYW5ndWFnZU1vZGVsVG9vbHMiLCJ0b29scyIsIk9iamVjdCIsImVudHJpZXMiLCJuYW1lIiwidG9vbCIsImRlc2NyaXB0aW9uIiwicGFyYW1ldGVycyIsIlpvZFR5cGUiLCJ0b0NvcmVNZXNzYWdlcyIsInRvQ29yZU1lc3NhZ2UiLCJhcmdzVGV4dCIsInJlc3QiLCJhdHRhY2htZW50cyIsImEiLCJmbGF0IiwidW5zdXBwb3J0ZWRSb2xlIiwiYXNzaXN0YW50RW5jb2RlclN0cmVhbSIsInRvb2xDYWxscyIsIlNldCIsIlRyYW5zZm9ybVN0cmVhbSIsInRyYW5zZm9ybSIsImNodW5rIiwiY29udHJvbGxlciIsImNodW5rVHlwZSIsImVucXVldWUiLCJ2YWx1ZSIsInRleHREZWx0YSIsImhhcyIsImFkZCIsImFyZ3NUZXh0RGVsdGEiLCJlcnJvciIsIkxhbmd1YWdlTW9kZWxWMUNhbGxTZXR0aW5nc1NjaGVtYSIsIm9iamVjdCIsIm1heFRva2VucyIsIm51bWJlciIsImludCIsInBvc2l0aXZlIiwib3B0aW9uYWwiLCJ0ZW1wZXJhdHVyZSIsInRvcFAiLCJwcmVzZW5jZVBlbmFsdHkiLCJmcmVxdWVuY3lQZW5hbHR5Iiwic2VlZCIsImhlYWRlcnMiLCJyZWNvcmQiLCJzdHJpbmciLCJMYW5ndWFnZU1vZGVsQ29uZmlnU2NoZW1hIiwiYXBpS2V5IiwiYmFzZVVybCIsIm1vZGVsTmFtZSIsIm1lcmdlTW9kZWxDb25maWdzIiwiY29uZmlnU2V0IiwiY29uZmlncyIsIkFycmF5IiwiZnJvbSIsImMiLCJnZXRNb2RlbENvbmZpZyIsInNvcnQiLCJiIiwicHJpb3JpdHkiLCJyZWR1Y2UiLCJhY2MiLCJjb25maWciLCJzeXN0ZW0iLCJjYWxsU2V0dGluZ3MiLCJMYW5ndWFnZU1vZGVsVjFGdW5jdGlvblRvb2xTY2hlbWEiLCJsaXRlcmFsIiwiY3VzdG9tIiwidmFsIiwiVGV4dENvbnRlbnRQYXJ0U2NoZW1hIiwiSW1hZ2VDb250ZW50UGFydFNjaGVtYSIsIkNvcmVUb29sQ2FsbENvbnRlbnRQYXJ0U2NoZW1hIiwidW5rbm93biIsImJvb2xlYW4iLCJDb3JlVXNlck1lc3NhZ2VTY2hlbWEiLCJhcnJheSIsImRpc2NyaW1pbmF0ZWRVbmlvbiIsIm1pbiIsIkNvcmVBc3Npc3RhbnRNZXNzYWdlU2NoZW1hIiwiQ29yZVN5c3RlbU1lc3NhZ2VTY2hlbWEiLCJ0dXBsZSIsIkNvcmVNZXNzYWdlU2NoZW1hIiwiRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9uc1NjaGVtYSIsIm1lc3NhZ2VzIiwibWVyZ2UiLCJzanNvbiIsInRvb2xSZXN1bHRTdHJlYW0iLCJhYm9ydFNpZ25hbCIsInRvb2xDYWxsRXhlY3V0aW9ucyIsIk1hcCIsInRvb2xDYWxsVHlwZSIsImV4ZWN1dGUiLCJwYXJzZSIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiLCJKU09OIiwic3RyaW5naWZ5IiwiaXNzdWVzIiwic2V0IiwiZGVsZXRlIiwiZmx1c2giLCJQcm9taXNlIiwiYWxsIiwidmFsdWVzIiwiZml4SnNvbiIsImlucHV0Iiwic3RhY2siLCJsYXN0VmFsaWRJbmRleCIsImxpdGVyYWxTdGFydCIsInByb2Nlc3NWYWx1ZVN0YXJ0IiwiY2hhciIsImkiLCJzd2FwU3RhdGUiLCJwb3AiLCJwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZSIsInByb2Nlc3NBZnRlckFycmF5VmFsdWUiLCJjdXJyZW50U3RhdGUiLCJwYXJ0aWFsTGl0ZXJhbCIsInN1YnN0cmluZyIsInN0YXJ0c1dpdGgiLCJzbGljZSIsInN0YXRlIiwicGFyc2VQYXJ0aWFsSnNvbiIsImpzb24iLCJydW5SZXN1bHRTdHJlYW0iLCJzdGF0dXMiLCJhcHBlbmRPclVwZGF0ZVRleHQiLCJhcHBlbmRPclVwZGF0ZVRvb2xDYWxsIiwiYXBwZW5kT3JVcGRhdGVUb29sUmVzdWx0IiwiYXBwZW5kT3JVcGRhdGVTdGVwRmluaXNoIiwiYXBwZW5kT3JVcGRhdGVGaW5pc2giLCJhcHBlbmRPclVwZGF0ZUNhbmNlbCIsImNvbnRlbnRQYXJ0cyIsImNvbnRlbnRQYXJ0IiwiYXQiLCJjb25jYXQiLCJjb250ZW50UGFydElkeCIsImZpbmRJbmRleCIsImZvdW5kIiwibmV3Q29udGVudFBhcnRzIiwic3RlcHMiLCJtZXRhZGF0YSIsInVzYWdlIiwiZ2V0U3RhdHVzIiwicm91bmR0cmlwcyIsImxvZ3Byb2JzIiwiZmluaXNoUmVhc29uIiwicmVhc29uIiwiUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW0iLCJjb25zdHJ1Y3RvciIsInJlYWRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJ3cml0YWJsZSIsImVuY29kZVN0cmVhbVBhcnQiLCJzdHJlYW1QYXJ0RW5jb2RlclN0cmVhbSIsImVuY29kZVN0cmVhbSIsInBpcGVUaHJvdWdoIiwiVGV4dEVuY29kZXJTdHJlYW0iLCJ2b2lkU3RyZWFtIiwiV3JpdGFibGVTdHJlYW0iLCJhYm9ydCIsImNvbnNvbGUiLCJnZXRFZGdlUnVudGltZVN0cmVhbSIsInJlcXVlc3REYXRhIiwidW5zYWZlUmVxdWVzdCIsIm9wdGlvbnMiLCJtb2RlbCIsIm1vZGVsT3JDcmVhdG9yIiwic2VydmVyU3lzdGVtIiwic2VydmVyVG9vbHMiLCJ0b29sQ2hvaWNlIiwib25GaW5pc2giLCJ1bnNhZmVTZXR0aW5ncyIsInNldHRpbmdzIiwibG1TZXJ2ZXJUb29scyIsImhhc1NlcnZlclRvb2xzIiwic29tZSIsInYiLCJjbGllbnRTeXN0ZW0iLCJjbGllbnRUb29scyIsInN5c3RlbU1lc3NhZ2VzIiwiam9pbiIsImNsaWVudFRvb2wiLCJzdHJlYW0iLCJzdHJlYW1SZXN1bHQiLCJzdHJlYW1NZXNzYWdlIiwiY2FuRXhlY3V0ZVRvb2xzIiwidGVlcyIsInRlZSIsInNlcnZlclN0cmVhbSIsImxhc3RDaHVuayIsInJlc3VsdGluZ01lc3NhZ2VzIiwicGlwZVRvIiwiY2F0Y2giLCJlIiwiZ2V0RWRnZVJ1bnRpbWVSZXNwb25zZSIsIlJlc3BvbnNlIiwiY3JlYXRlRWRnZVJ1bnRpbWVBUEkiLCJQT1NUIiwicmVxdWVzdCIsInNpZ25hbCIsImRvU3RyZWFtIiwiaW5wdXRGb3JtYXQiLCJtb2RlIiwicHJvbXB0IiwiY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCIsImxhbmd1YWdlTW9kZWxNZXNzYWdlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@assistant-ui/react/dist/chunk-TWIMAOZR.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@assistant-ui/react/dist/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@assistant-ui/react/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionBarPrimitive: () => (/* binding */ actionBar_exports),\n/* harmony export */   AssistantActionBar: () => (/* binding */ assistant_action_bar_default),\n/* harmony export */   AssistantMessage: () => (/* binding */ assistant_message_default),\n/* harmony export */   AssistantModal: () => (/* binding */ assistant_modal_default),\n/* harmony export */   AssistantModalPrimitive: () => (/* binding */ assistantModal_exports),\n/* harmony export */   AssistantRuntimeProvider: () => (/* binding */ AssistantRuntimeProvider),\n/* harmony export */   AttachmentPrimitive: () => (/* binding */ attachment_exports),\n/* harmony export */   AttachmentUI: () => (/* binding */ attachment_default),\n/* harmony export */   BranchPicker: () => (/* binding */ branch_picker_default),\n/* harmony export */   BranchPickerPrimitive: () => (/* binding */ branchPicker_exports),\n/* harmony export */   Composer: () => (/* binding */ composer_default),\n/* harmony export */   ComposerAttachment: () => (/* binding */ attachment_default),\n/* harmony export */   ComposerPrimitive: () => (/* binding */ composer_exports),\n/* harmony export */   CompositeAttachmentAdapter: () => (/* binding */ CompositeAttachmentAdapter),\n/* harmony export */   ContentPart: () => (/* binding */ content_part_default),\n/* harmony export */   ContentPartPrimitive: () => (/* binding */ contentPart_exports),\n/* harmony export */   EdgeChatAdapter: () => (/* binding */ EdgeChatAdapter),\n/* harmony export */   EditComposer: () => (/* binding */ edit_composer_default),\n/* harmony export */   INTERNAL: () => (/* binding */ internal_exports),\n/* harmony export */   MessagePrimitive: () => (/* binding */ message_exports),\n/* harmony export */   SimpleImageAttachmentAdapter: () => (/* binding */ SimpleImageAttachmentAdapter),\n/* harmony export */   SimpleTextAttachmentAdapter: () => (/* binding */ SimpleTextAttachmentAdapter),\n/* harmony export */   TextContentPartProvider: () => (/* binding */ TextContentPartProvider),\n/* harmony export */   Thread: () => (/* binding */ thread_default),\n/* harmony export */   ThreadConfigProvider: () => (/* binding */ ThreadConfigProvider),\n/* harmony export */   ThreadPrimitive: () => (/* binding */ thread_exports),\n/* harmony export */   ThreadWelcome: () => (/* binding */ thread_welcome_default),\n/* harmony export */   UserActionBar: () => (/* binding */ user_action_bar_default),\n/* harmony export */   UserMessage: () => (/* binding */ user_message_default),\n/* harmony export */   UserMessageAttachment: () => (/* binding */ attachment_default),\n/* harmony export */   WebSpeechSynthesisAdapter: () => (/* binding */ WebSpeechSynthesisAdapter),\n/* harmony export */   fromCoreMessage: () => (/* binding */ fromCoreMessage),\n/* harmony export */   fromCoreMessages: () => (/* binding */ fromCoreMessages),\n/* harmony export */   fromLanguageModelMessages: () => (/* binding */ fromLanguageModelMessages),\n/* harmony export */   fromLanguageModelTools: () => (/* binding */ fromLanguageModelTools),\n/* harmony export */   getExternalStoreMessage: () => (/* binding */ getExternalStoreMessage),\n/* harmony export */   makeAssistantTool: () => (/* binding */ makeAssistantTool),\n/* harmony export */   makeAssistantToolUI: () => (/* binding */ makeAssistantToolUI),\n/* harmony export */   streamUtils: () => (/* binding */ streamUtils),\n/* harmony export */   subscribeToMainThread: () => (/* binding */ subscribeToMainThread),\n/* harmony export */   toCoreMessage: () => (/* reexport safe */ _chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toCoreMessage),\n/* harmony export */   toCoreMessages: () => (/* reexport safe */ _chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toCoreMessages),\n/* harmony export */   toLanguageModelMessages: () => (/* reexport safe */ _chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toLanguageModelMessages),\n/* harmony export */   toLanguageModelTools: () => (/* reexport safe */ _chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toLanguageModelTools),\n/* harmony export */   useActionBarCopy: () => (/* binding */ useActionBarCopy),\n/* harmony export */   useActionBarEdit: () => (/* binding */ useActionBarEdit),\n/* harmony export */   useActionBarFeedbackNegative: () => (/* binding */ useActionBarFeedbackNegative),\n/* harmony export */   useActionBarFeedbackPositive: () => (/* binding */ useActionBarFeedbackPositive),\n/* harmony export */   useActionBarReload: () => (/* binding */ useActionBarReload),\n/* harmony export */   useActionBarSpeak: () => (/* binding */ useActionBarSpeak),\n/* harmony export */   useActionBarStopSpeaking: () => (/* binding */ useActionBarStopSpeaking),\n/* harmony export */   useAppendMessage: () => (/* binding */ useAppendMessage),\n/* harmony export */   useAssistantActions: () => (/* binding */ useAssistantActions),\n/* harmony export */   useAssistantActionsStore: () => (/* binding */ useAssistantActionsStore),\n/* harmony export */   useAssistantContext: () => (/* binding */ useAssistantContext),\n/* harmony export */   useAssistantInstructions: () => (/* binding */ useAssistantInstructions),\n/* harmony export */   useAssistantRuntime: () => (/* binding */ useAssistantRuntime),\n/* harmony export */   useAssistantRuntimeStore: () => (/* binding */ useAssistantRuntimeStore),\n/* harmony export */   useAssistantTool: () => (/* binding */ useAssistantTool),\n/* harmony export */   useAssistantToolUI: () => (/* binding */ useAssistantToolUI),\n/* harmony export */   useBranchPickerCount: () => (/* binding */ useBranchPickerCount),\n/* harmony export */   useBranchPickerNext: () => (/* binding */ useBranchPickerNext),\n/* harmony export */   useBranchPickerNumber: () => (/* binding */ useBranchPickerNumber),\n/* harmony export */   useBranchPickerPrevious: () => (/* binding */ useBranchPickerPrevious),\n/* harmony export */   useComposer: () => (/* binding */ useComposer),\n/* harmony export */   useComposerAddAttachment: () => (/* binding */ useComposerAddAttachment),\n/* harmony export */   useComposerCancel: () => (/* binding */ useComposerCancel),\n/* harmony export */   useComposerContext: () => (/* binding */ useComposerContext),\n/* harmony export */   useComposerIf: () => (/* binding */ useComposerIf),\n/* harmony export */   useComposerRuntime: () => (/* binding */ useComposerRuntime),\n/* harmony export */   useComposerSend: () => (/* binding */ useComposerSend),\n/* harmony export */   useComposerStore: () => (/* binding */ useComposerStore),\n/* harmony export */   useContentPart: () => (/* binding */ useContentPart),\n/* harmony export */   useContentPartContext: () => (/* binding */ useContentPartContext),\n/* harmony export */   useContentPartDisplay: () => (/* binding */ useContentPartDisplay),\n/* harmony export */   useContentPartImage: () => (/* binding */ useContentPartImage),\n/* harmony export */   useContentPartRuntime: () => (/* binding */ useContentPartRuntime),\n/* harmony export */   useContentPartStore: () => (/* binding */ useContentPartStore),\n/* harmony export */   useContentPartText: () => (/* binding */ useContentPartText),\n/* harmony export */   useDangerousInBrowserRuntime: () => (/* binding */ useDangerousInBrowserRuntime),\n/* harmony export */   useEdgeRuntime: () => (/* binding */ useEdgeRuntime),\n/* harmony export */   useEditComposer: () => (/* binding */ useEditComposer),\n/* harmony export */   useEditComposerStore: () => (/* binding */ useEditComposerStore),\n/* harmony export */   useExternalMessageConverter: () => (/* binding */ useExternalMessageConverter),\n/* harmony export */   useExternalStoreRuntime: () => (/* binding */ useExternalStoreRuntime),\n/* harmony export */   useLocalRuntime: () => (/* binding */ useLocalRuntime),\n/* harmony export */   useMessage: () => (/* binding */ useMessage),\n/* harmony export */   useMessageContext: () => (/* binding */ useMessageContext),\n/* harmony export */   useMessageIf: () => (/* binding */ useMessageIf),\n/* harmony export */   useMessageRuntime: () => (/* binding */ useMessageRuntime),\n/* harmony export */   useMessageStore: () => (/* binding */ useMessageStore),\n/* harmony export */   useMessageUtils: () => (/* binding */ useMessageUtils),\n/* harmony export */   useMessageUtilsStore: () => (/* binding */ useMessageUtilsStore),\n/* harmony export */   useSwitchToNewThread: () => (/* binding */ useSwitchToNewThread),\n/* harmony export */   useThread: () => (/* binding */ useThread),\n/* harmony export */   useThreadActions: () => (/* binding */ useThreadActions),\n/* harmony export */   useThreadActionsStore: () => (/* binding */ useThreadActionsStore),\n/* harmony export */   useThreadComposer: () => (/* binding */ useThreadComposer),\n/* harmony export */   useThreadComposerStore: () => (/* binding */ useThreadComposerStore),\n/* harmony export */   useThreadConfig: () => (/* binding */ useThreadConfig),\n/* harmony export */   useThreadContext: () => (/* binding */ useThreadContext),\n/* harmony export */   useThreadEmpty: () => (/* binding */ useThreadEmpty),\n/* harmony export */   useThreadIf: () => (/* binding */ useThreadIf),\n/* harmony export */   useThreadMessages: () => (/* binding */ useThreadMessages),\n/* harmony export */   useThreadMessagesStore: () => (/* binding */ useThreadMessagesStore),\n/* harmony export */   useThreadModelConfig: () => (/* binding */ useThreadModelConfig),\n/* harmony export */   useThreadRuntime: () => (/* binding */ useThreadRuntime),\n/* harmony export */   useThreadRuntimeStore: () => (/* binding */ useThreadRuntimeStore),\n/* harmony export */   useThreadScrollToBottom: () => (/* binding */ useThreadScrollToBottom),\n/* harmony export */   useThreadStore: () => (/* binding */ useThreadStore),\n/* harmony export */   useThreadSuggestion: () => (/* binding */ useThreadSuggestion),\n/* harmony export */   useThreadViewport: () => (/* binding */ useThreadViewport),\n/* harmony export */   useThreadViewportStore: () => (/* binding */ useThreadViewportStore),\n/* harmony export */   useToolUIs: () => (/* binding */ useToolUIs),\n/* harmony export */   useToolUIsStore: () => (/* binding */ useToolUIsStore)\n/* harmony export */ });\n/* harmony import */ var _chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-TWIMAOZR.mjs */ \"(ssr)/./node_modules/@assistant-ui/react/dist/chunk-TWIMAOZR.mjs\");\n/* harmony import */ var _chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-BJPOCE4O.mjs */ \"(ssr)/./node_modules/@assistant-ui/react/dist/chunk-BJPOCE4O.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ \"(ssr)/./node_modules/zustand/esm/index.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-primitive */ \"(ssr)/./node_modules/@radix-ui/react-primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/primitive */ \"(ssr)/./node_modules/@radix-ui/primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_escape_keydown__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @radix-ui/react-use-escape-keydown */ \"(ssr)/./node_modules/@radix-ui/react-use-escape-keydown/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @radix-ui/react-popover */ \"(ssr)/./node_modules/@radix-ui/react-popover/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @radix-ui/react-compose-refs */ \"(ssr)/./node_modules/@radix-ui/react-compose-refs/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @radix-ui/react-use-callback-ref */ \"(ssr)/./node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var react_textarea_autosize__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-textarea-autosize */ \"(ssr)/./node_modules/react-textarea-autosize/dist/react-textarea-autosize.development.esm.js\");\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! nanoid/non-secure */ \"(ssr)/./node_modules/nanoid/non-secure/index.js\");\n/* harmony import */ var _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @radix-ui/react-tooltip */ \"(ssr)/./node_modules/@radix-ui/react-tooltip/dist/index.mjs\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! classnames */ \"(ssr)/./node_modules/classnames/index.js\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon,ThumbsDownIcon,ThumbsUpIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon,ThumbsDownIcon,ThumbsUpIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon,ThumbsDownIcon,ThumbsUpIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/audio-lines.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon,ThumbsDownIcon,ThumbsUpIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-stop.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon,ThumbsDownIcon,ThumbsUpIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon,ThumbsDownIcon,ThumbsUpIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/thumbs-up.js\");\n/* harmony import */ var _barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=AudioLinesIcon,CheckIcon,CopyIcon,RefreshCwIcon,StopCircleIcon,ThumbsDownIcon,ThumbsUpIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/thumbs-down.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeftIcon_ChevronRightIcon_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeftIcon,ChevronRightIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeftIcon_ChevronRightIcon_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeftIcon,ChevronRightIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @radix-ui/react-avatar */ \"(ssr)/./node_modules/@radix-ui/react-avatar/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_BotIcon_ChevronDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! __barrel_optimize__?names=BotIcon,ChevronDownIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var _barrel_optimize_names_BotIcon_ChevronDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! __barrel_optimize__?names=BotIcon,ChevronDownIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDownIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-down.js\");\n/* harmony import */ var _barrel_optimize_names_PaperclipIcon_SendHorizontalIcon_lucide_react__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=PaperclipIcon,SendHorizontalIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_PaperclipIcon_SendHorizontalIcon_lucide_react__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! __barrel_optimize__?names=PaperclipIcon,SendHorizontalIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/send-horizontal.js\");\n/* harmony import */ var _barrel_optimize_names_CircleXIcon_FileIcon_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=CircleXIcon,FileIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file.js\");\n/* harmony import */ var _barrel_optimize_names_CircleXIcon_FileIcon_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=CircleXIcon,FileIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-x.js\");\n/* harmony import */ var _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @radix-ui/react-dialog */ \"(ssr)/./node_modules/@radix-ui/react-dialog/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_PencilIcon_lucide_react__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! __barrel_optimize__?names=PencilIcon!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pencil.js\");\n/* __next_internal_client_entry_do_not_use__ ActionBarPrimitive,AssistantActionBar,AssistantMessage,AssistantModal,AssistantModalPrimitive,AssistantRuntimeProvider,AttachmentPrimitive,AttachmentUI,BranchPicker,BranchPickerPrimitive,Composer,ComposerAttachment,ComposerPrimitive,CompositeAttachmentAdapter,ContentPart,ContentPartPrimitive,EdgeChatAdapter,EditComposer,INTERNAL,MessagePrimitive,SimpleImageAttachmentAdapter,SimpleTextAttachmentAdapter,TextContentPartProvider,Thread,ThreadConfigProvider,ThreadPrimitive,ThreadWelcome,UserActionBar,UserMessage,UserMessageAttachment,WebSpeechSynthesisAdapter,fromCoreMessage,fromCoreMessages,fromLanguageModelMessages,fromLanguageModelTools,getExternalStoreMessage,makeAssistantTool,makeAssistantToolUI,streamUtils,subscribeToMainThread,toCoreMessage,toCoreMessages,toLanguageModelMessages,toLanguageModelTools,useActionBarCopy,useActionBarEdit,useActionBarFeedbackNegative,useActionBarFeedbackPositive,useActionBarReload,useActionBarSpeak,useActionBarStopSpeaking,useAppendMessage,useAssistantActions,useAssistantActionsStore,useAssistantContext,useAssistantInstructions,useAssistantRuntime,useAssistantRuntimeStore,useAssistantTool,useAssistantToolUI,useBranchPickerCount,useBranchPickerNext,useBranchPickerNumber,useBranchPickerPrevious,useComposer,useComposerAddAttachment,useComposerCancel,useComposerContext,useComposerIf,useComposerRuntime,useComposerSend,useComposerStore,useContentPart,useContentPartContext,useContentPartDisplay,useContentPartImage,useContentPartRuntime,useContentPartStore,useContentPartText,useDangerousInBrowserRuntime,useEdgeRuntime,useEditComposer,useEditComposerStore,useExternalMessageConverter,useExternalStoreRuntime,useLocalRuntime,useMessage,useMessageContext,useMessageIf,useMessageRuntime,useMessageStore,useMessageUtils,useMessageUtilsStore,useSwitchToNewThread,useThread,useThreadActions,useThreadActionsStore,useThreadComposer,useThreadComposerStore,useThreadConfig,useThreadContext,useThreadEmpty,useThreadIf,useThreadMessages,useThreadMessagesStore,useThreadModelConfig,useThreadRuntime,useThreadRuntimeStore,useThreadScrollToBottom,useThreadStore,useThreadSuggestion,useThreadViewport,useThreadViewportStore,useToolUIs,useToolUIsStore auto */ \n\n// src/context/providers/AssistantRuntimeProvider.tsx\n\n// src/context/react/AssistantContext.ts\n\n// src/context/react/utils/createContextHook.ts\n\nfunction createContextHook(context, providerName) {\n    function useContextHook(options) {\n        const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(context);\n        if (!options?.optional && !contextValue) {\n            throw new Error(`This component must be used within ${providerName}.`);\n        }\n        return contextValue;\n    }\n    return useContextHook;\n}\n// src/context/react/utils/createContextStoreHook.ts\nfunction createContextStoreHook(contextHook, contextKey) {\n    function useStoreStoreHook(options) {\n        const context = contextHook(options);\n        if (!context) return null;\n        return context[contextKey];\n    }\n    function useStoreHook(param) {\n        let optional = false;\n        let selector;\n        if (typeof param === \"function\") {\n            selector = param;\n        } else if (param && typeof param === \"object\") {\n            optional = !!param.optional;\n            selector = param.selector;\n        }\n        const store = useStoreStoreHook({\n            optional\n        });\n        if (!store) return null;\n        return selector ? store(selector) : store();\n    }\n    return {\n        [contextKey]: useStoreHook,\n        [`${contextKey}Store`]: useStoreStoreHook\n    };\n}\n// src/context/react/AssistantContext.ts\nvar AssistantContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar useAssistantContext = createContextHook(AssistantContext, \"AssistantRuntimeProvider\");\nfunction useAssistantRuntime(options) {\n    const context = useAssistantContext(options);\n    if (!context) return null;\n    return context.useAssistantRuntime();\n}\nvar actions = createContextStoreHook(useAssistantContext, \"useAssistantActions\");\nvar useAssistantActionsStore = actions.useAssistantActionsStore;\nvar useAssistantActions = actions.useAssistantActions;\nvar useAssistantRuntimeStore = useAssistantActionsStore;\nvar { useToolUIs, useToolUIsStore } = createContextStoreHook(useAssistantContext, \"useToolUIs\");\n// src/context/stores/AssistantToolUIs.ts\n\nvar makeAssistantToolUIsStore = ()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)((set)=>{\n        const renderers = /* @__PURE__ */ new Map();\n        return Object.freeze({\n            getToolUI: (name)=>{\n                const arr = renderers.get(name);\n                const last = arr?.at(-1);\n                if (last) return last;\n                return null;\n            },\n            setToolUI: (name, render)=>{\n                let arr = renderers.get(name);\n                if (!arr) {\n                    arr = [];\n                    renderers.set(name, arr);\n                }\n                arr.push(render);\n                set({});\n                return ()=>{\n                    const index = arr.indexOf(render);\n                    if (index !== -1) {\n                        arr.splice(index, 1);\n                    }\n                    if (index === arr.length) {\n                        set({});\n                    }\n                };\n            }\n        });\n    });\n// src/context/providers/ThreadRuntimeProvider.tsx\n\n// src/context/react/ThreadContext.ts\n\nvar ThreadContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar useThreadContext = createContextHook(ThreadContext, \"AssistantRuntimeProvider\");\nfunction useThreadRuntime(options) {\n    const context = useThreadContext(options);\n    if (!context) return null;\n    return context.useThreadRuntime();\n}\nvar actions2 = createContextStoreHook(useThreadContext, \"useThreadActions\");\nvar useThreadActionsStore = actions2.useThreadActionsStore;\nvar useThreadActions = actions2.useThreadActions;\nvar useThreadRuntimeStore = useThreadActionsStore;\nvar { useThread, useThreadStore } = createContextStoreHook(useThreadContext, \"useThread\");\nvar messages = createContextStoreHook(useThreadContext, \"useThreadMessages\");\nvar useThreadMessages = messages.useThreadMessages;\nvar useThreadMessagesStore = messages.useThreadMessagesStore;\nvar { useComposer: useThreadComposer, useComposerStore: useThreadComposerStore } = createContextStoreHook(useThreadContext, \"useComposer\");\nvar { useViewport: useThreadViewport, useViewportStore: useThreadViewportStore } = createContextStoreHook(useThreadContext, \"useViewport\");\nfunction useThreadModelConfig(options) {\n    const [, rerender] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const runtime = useThreadRuntime(options);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return runtime?.unstable_on(\"model-config-update\", ()=>rerender({}));\n    }, [\n        runtime\n    ]);\n    if (!runtime) return null;\n    return runtime?.getModelConfig();\n}\n// src/context/stores/ThreadViewport.tsx\n\nvar makeThreadViewportStore = ()=>{\n    const scrollToBottomListeners = /* @__PURE__ */ new Set();\n    return (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>({\n            isAtBottom: true,\n            scrollToBottom: ()=>{\n                for (const listener of scrollToBottomListeners){\n                    listener();\n                }\n            },\n            onScrollToBottom: (callback)=>{\n                scrollToBottomListeners.add(callback);\n                return ()=>{\n                    scrollToBottomListeners.delete(callback);\n                };\n            }\n        }));\n};\n// src/context/ReadonlyStore.ts\nvar writableStore = (store)=>{\n    return store;\n};\n// src/context/providers/ThreadRuntimeProvider.tsx\n\n\nvar useThreadRuntimeStore2 = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        writableStore(store).setState(runtime, true);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar useThreadStore2 = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime.getState()));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const updateState = ()=>writableStore(store).setState(runtime.getState(), true);\n        updateState();\n        return runtime.subscribe(updateState);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar useThreadMessagesStore2 = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime.messages));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const updateState = ()=>writableStore(store).setState(runtime.messages, true);\n        updateState();\n        return runtime.subscribe(updateState);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar useThreadComposerStore2 = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime.getState()));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const updateState = ()=>writableStore(store).setState(runtime.getState(), true);\n        updateState();\n        return runtime.subscribe(updateState);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar ThreadRuntimeProvider = ({ children, runtime })=>{\n    const useThreadRuntime2 = useThreadRuntimeStore2(runtime);\n    const useThread2 = useThreadStore2(runtime);\n    const useThreadMessages2 = useThreadMessagesStore2(runtime);\n    const useThreadComposer2 = useThreadComposerStore2(runtime.composer);\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        const useViewport = makeThreadViewportStore();\n        return {\n            useThread: useThread2,\n            useThreadRuntime: useThreadRuntime2,\n            useThreadMessages: useThreadMessages2,\n            useThreadActions: useThreadRuntime2,\n            useComposer: useThreadComposer2,\n            useViewport\n        };\n    }, [\n        useThread2,\n        useThreadRuntime2,\n        useThreadMessages2,\n        useThreadComposer2\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/context/providers/AssistantRuntimeProvider.tsx\n\n\nvar useAssistantRuntimeStore2 = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        writableStore(store).setState(runtime, true);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar useAssistantToolUIsStore = ()=>{\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>makeAssistantToolUIsStore(), []);\n};\nvar AssistantRuntimeProviderImpl = ({ children, runtime })=>{\n    const useAssistantRuntime2 = useAssistantRuntimeStore2(runtime);\n    const useToolUIs2 = useAssistantToolUIsStore();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return {\n            useToolUIs: useToolUIs2,\n            useAssistantRuntime: useAssistantRuntime2,\n            useAssistantActions: useAssistantRuntime2\n        };\n    }, [\n        useAssistantRuntime2,\n        useToolUIs2\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantContext.Provider, {\n        value: context,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadRuntimeProvider, {\n            runtime: runtime.thread,\n            children\n        })\n    });\n};\nvar AssistantRuntimeProvider = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(AssistantRuntimeProviderImpl);\n// src/context/providers/TextContentPartProvider.tsx\n\n\n// src/context/react/ContentPartContext.ts\n\nvar ContentPartContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar useContentPartContext = createContextHook(ContentPartContext, \"a component passed to <MessagePrimitive.Content components={...}>\");\nfunction useContentPartRuntime(options) {\n    const context = useContentPartContext(options);\n    if (!context) return null;\n    return context.useContentPartRuntime();\n}\nvar { useContentPart, useContentPartStore } = createContextStoreHook(useContentPartContext, \"useContentPart\");\n// src/api/ContentPartRuntime.ts\nvar ContentPartRuntimeImpl = class {\n    constructor(contentBinding, messageApi, threadApi){\n        this.contentBinding = contentBinding;\n        this.messageApi = messageApi;\n        this.threadApi = threadApi;\n    }\n    get path() {\n        return this.contentBinding.path;\n    }\n    getState() {\n        return this.contentBinding.getState();\n    }\n    addToolResult(result) {\n        const message = this.messageApi.getState();\n        if (!message) throw new Error(\"Message is not available\");\n        const state = this.contentBinding.getState();\n        if (!state) throw new Error(\"Content part is not available\");\n        if (state.type !== \"tool-call\") throw new Error(\"Tried to add tool result to non-tool content part\");\n        const toolName = state.toolName;\n        const toolCallId = state.toolCallId;\n        this.threadApi.getState().addToolResult({\n            messageId: message.id,\n            toolName,\n            toolCallId,\n            result\n        });\n    }\n    subscribe(callback) {\n        return this.contentBinding.subscribe(callback);\n    }\n};\n// src/context/providers/TextContentPartProvider.tsx\n\nvar COMPLETE_STATUS = {\n    type: \"complete\"\n};\nvar RUNNING_STATUS = {\n    type: \"running\"\n};\nvar TextContentPartProvider = ({ children, text, isRunning })=>{\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        const useContentPartRuntime2 = (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(// TODO\n        ()=>new ContentPartRuntimeImpl(null, null, null));\n        const useContentPart2 = (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>({\n                status: isRunning ? RUNNING_STATUS : COMPLETE_STATUS,\n                part: {\n                    type: \"text\",\n                    text\n                },\n                type: \"text\",\n                text\n            }));\n        return {\n            useContentPartRuntime: useContentPartRuntime2,\n            useContentPart: useContentPart2\n        };\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const state = context.useContentPart.getState();\n        const textUpdated = state.text !== text;\n        const targetStatus = isRunning ? RUNNING_STATUS : COMPLETE_STATUS;\n        const statusUpdated = state.status !== targetStatus;\n        if (!textUpdated && !statusUpdated) return;\n        writableStore(context.useContentPart).setState({\n            type: \"text\",\n            text,\n            part: {\n                type: \"text\",\n                text\n            },\n            status: targetStatus\n        }, true);\n    }, [\n        context,\n        isRunning,\n        text\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ContentPartContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/context/react/MessageContext.ts\n\nvar MessageContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar useMessageContext = createContextHook(MessageContext, \"a component passed to <ThreadPrimitive.Messages components={...} />\");\nfunction useMessageRuntime(options) {\n    const context = useMessageContext(options);\n    if (!context) return null;\n    return context.useMessageRuntime();\n}\nvar { useMessage, useMessageStore } = createContextStoreHook(useMessageContext, \"useMessage\");\nvar { useMessageUtils, useMessageUtilsStore } = createContextStoreHook(useMessageContext, \"useMessageUtils\");\nvar { useEditComposer, useEditComposerStore } = createContextStoreHook(useMessageContext, \"useEditComposer\");\n// src/context/react/ComposerContext.ts\n\nvar useComposerContext = ()=>{\n    const { useComposer: useThreadComposer2 } = useThreadContext();\n    const { useEditComposer: useEditComposer2 } = useMessageContext({\n        optional: true\n    }) ?? {};\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            useComposer: useEditComposer2 ?? useThreadComposer2,\n            type: useEditComposer2 ? \"edit\" : \"new\"\n        }), [\n        useEditComposer2,\n        useThreadComposer2\n    ]);\n};\nvar { useComposer, useComposerStore } = createContextStoreHook(useComposerContext, \"useComposer\");\nfunction useComposerRuntime(options) {\n    const messageRuntime = useMessageRuntime({\n        optional: true\n    });\n    const threadRuntime = useThreadRuntime(options);\n    return messageRuntime ? messageRuntime.composer : threadRuntime?.composer ?? null;\n}\n// src/hooks/useAppendMessage.tsx\n\nvar useAppendMessage = ()=>{\n    const threadRuntime = useThreadRuntime();\n    const append = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((message)=>{\n        threadRuntime.append(message);\n    }, [\n        threadRuntime\n    ]);\n    return append;\n};\n// src/hooks/useSwitchToNewThread.tsx\n\nvar useSwitchToNewThread = ()=>{\n    const assistantRuntime = useAssistantRuntime();\n    const switchToNewThread = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        assistantRuntime.switchToNewThread();\n    }, [\n        assistantRuntime\n    ]);\n    return switchToNewThread;\n};\n// src/model-config/useAssistantTool.tsx\n\nvar useAssistantTool = (tool)=>{\n    const assistantRuntime = useAssistantRuntime();\n    const toolUIsStore = useToolUIsStore();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const { toolName, render, ...rest } = tool;\n        const config = {\n            tools: {\n                [tool.toolName]: rest\n            }\n        };\n        const unsub1 = assistantRuntime.registerModelConfigProvider({\n            getModelConfig: ()=>config\n        });\n        const unsub2 = render ? toolUIsStore.getState().setToolUI(toolName, render) : void 0;\n        return ()=>{\n            unsub1();\n            unsub2?.();\n        };\n    }, [\n        assistantRuntime,\n        toolUIsStore,\n        tool\n    ]);\n};\n// src/model-config/makeAssistantTool.tsx\nvar makeAssistantTool = (tool)=>{\n    const Tool = ()=>{\n        useAssistantTool(tool);\n        return null;\n    };\n    Tool.unstable_tool = tool;\n    return Tool;\n};\n// src/model-config/useAssistantToolUI.tsx\n\nvar useAssistantToolUI = (tool)=>{\n    const toolUIsStore = useToolUIsStore();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!tool) return;\n        const { toolName, render } = tool;\n        return toolUIsStore.getState().setToolUI(toolName, render);\n    }, [\n        toolUIsStore,\n        tool\n    ]);\n};\n// src/model-config/makeAssistantToolUI.tsx\nvar makeAssistantToolUI = (tool)=>{\n    const ToolUI = ()=>{\n        useAssistantToolUI(tool);\n        return null;\n    };\n    ToolUI.unstable_tool = tool;\n    return ToolUI;\n};\n// src/model-config/useAssistantInstructions.tsx\n\nvar useAssistantInstructions = (instruction)=>{\n    const assistantRuntime = useAssistantRuntime();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const config = {\n            system: instruction\n        };\n        return assistantRuntime.registerModelConfigProvider({\n            getModelConfig: ()=>config\n        });\n    }, [\n        assistantRuntime,\n        instruction\n    ]);\n};\n// src/primitive-hooks/actionBar/useActionBarCopy.tsx\n\nvar useActionBarCopy = ({ copiedDuration = 3e3 } = {})=>{\n    const messageRuntime = useMessageRuntime();\n    const composerRuntime = useComposerRuntime();\n    const setIsCopied = useMessageUtils((s)=>s.setIsCopied);\n    const hasCopyableContent = useMessage((message)=>{\n        return (message.role !== \"assistant\" || message.status.type !== \"running\") && message.content.some((c)=>c.type === \"text\" && c.text.length > 0);\n    });\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const { isEditing, text: composerValue } = composerRuntime.getState();\n        const valueToCopy = isEditing ? composerValue : messageRuntime.unstable_getCopyText();\n        navigator.clipboard.writeText(valueToCopy).then(()=>{\n            setIsCopied(true);\n            setTimeout(()=>setIsCopied(false), copiedDuration);\n        });\n    }, [\n        messageRuntime,\n        setIsCopied,\n        composerRuntime,\n        copiedDuration\n    ]);\n    if (!hasCopyableContent) return null;\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarEdit.tsx\n\nvar useActionBarEdit = ()=>{\n    const messageRuntime = useMessageRuntime();\n    const disabled = useEditComposer((c)=>c.isEditing);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        messageRuntime.composer.beginEdit();\n    }, [\n        messageRuntime\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarReload.tsx\n\n// src/utils/combined/useCombinedStore.ts\n\n// src/utils/combined/createCombinedStore.ts\n\nvar createCombinedStore = (stores)=>{\n    const subscribe = (callback)=>{\n        const unsubscribes = stores.map((store)=>store.subscribe(callback));\n        return ()=>{\n            for (const unsub of unsubscribes){\n                unsub();\n            }\n        };\n    };\n    return (selector)=>{\n        const getSnapshot = ()=>selector(...stores.map((store)=>store.getState()));\n        return (0,react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore)(subscribe, getSnapshot, getSnapshot);\n    };\n};\n// src/utils/combined/useCombinedStore.ts\nvar useCombinedStore = (stores, selector)=>{\n    const useCombined = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>createCombinedStore(stores), stores);\n    return useCombined(selector);\n};\n// src/primitive-hooks/actionBar/useActionBarReload.tsx\nvar useActionBarReload = ()=>{\n    const messageRuntime = useMessageRuntime();\n    const threadRuntime = useThreadRuntime();\n    const disabled = useCombinedStore([\n        threadRuntime,\n        messageRuntime\n    ], (t, m)=>t.isRunning || t.isDisabled || m.role !== \"assistant\");\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        messageRuntime.reload();\n    }, [\n        messageRuntime\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarSpeak.tsx\n\nvar useActionBarSpeak = ()=>{\n    const messageRunime = useMessageRuntime();\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        messageRunime.speak();\n    }, [\n        messageRunime\n    ]);\n    const hasSpeakableContent = useMessage((m)=>{\n        return (m.role !== \"assistant\" || m.status.type !== \"running\") && m.content.some((c)=>c.type === \"text\" && c.text.length > 0);\n    });\n    if (!hasSpeakableContent) return null;\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarStopSpeaking.tsx\n\nvar useActionBarStopSpeaking = ()=>{\n    const messageRuntime = useMessageRuntime();\n    const isSpeaking = useMessage((u)=>u.speech != null);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        messageRuntime.stopSpeaking();\n    }, [\n        messageRuntime\n    ]);\n    if (!isSpeaking) return null;\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarFeedbackPositive.tsx\n\nvar useActionBarFeedbackPositive = ()=>{\n    const messageRuntime = useMessageRuntime();\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        messageRuntime.submitFeedback({\n            type: \"positive\"\n        });\n    }, [\n        messageRuntime\n    ]);\n    return callback;\n};\n// src/primitive-hooks/actionBar/useActionBarFeedbackNegative.tsx\n\nvar useActionBarFeedbackNegative = ()=>{\n    const messageRuntime = useMessageRuntime();\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        messageRuntime.submitFeedback({\n            type: \"negative\"\n        });\n    }, [\n        messageRuntime\n    ]);\n    return callback;\n};\n// src/primitive-hooks/branchPicker/useBranchPickerCount.tsx\nvar useBranchPickerCount = ()=>{\n    const branchCount = useMessage((s)=>s.branchCount);\n    return branchCount;\n};\n// src/primitive-hooks/branchPicker/useBranchPickerNext.tsx\n\nvar useBranchPickerNext = ()=>{\n    const messageRuntime = useMessageRuntime();\n    const disabled = useMessage((m)=>m.branchNumber >= m.branchCount);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        messageRuntime.switchToBranch({\n            position: \"next\"\n        });\n    }, [\n        messageRuntime\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/branchPicker/useBranchPickerNumber.tsx\nvar useBranchPickerNumber = ()=>{\n    const branchNumber = useMessage((s)=>s.branchNumber);\n    return branchNumber;\n};\n// src/primitive-hooks/branchPicker/useBranchPickerPrevious.tsx\n\nvar useBranchPickerPrevious = ()=>{\n    const messageRuntime = useMessageRuntime();\n    const disabled = useMessage((m)=>m.branchNumber <= 1);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        messageRuntime.switchToBranch({\n            position: \"previous\"\n        });\n    }, [\n        messageRuntime\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/composer/useComposerCancel.tsx\n\nvar useComposerCancel = ()=>{\n    const composerRuntime = useComposerRuntime();\n    const disabled = useComposer((c)=>!c.canCancel);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        composerRuntime.cancel();\n    }, [\n        composerRuntime\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/composer/useComposerIf.tsx\nvar useComposerIf = (props)=>{\n    return useComposer((composer)=>{\n        if (props.editing === true && !composer.isEditing) return false;\n        if (props.editing === false && composer.isEditing) return false;\n        return true;\n    });\n};\n// src/primitive-hooks/composer/useComposerSend.tsx\n\nvar useComposerSend = ()=>{\n    const composerRuntime = useComposerRuntime();\n    const threadRuntime = useThreadRuntime();\n    const disabled = useCombinedStore([\n        threadRuntime,\n        composerRuntime\n    ], (t, c)=>t.isRunning || !c.isEditing || c.isEmpty);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!composerRuntime.getState().isEditing) return;\n        composerRuntime.send();\n    }, [\n        threadRuntime\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/composer/useComposerAddAttachment.tsx\n\nvar useComposerAddAttachment = ()=>{\n    const disabled = useComposer((c)=>!c.isEditing);\n    const composerRuntime = useComposerRuntime();\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n        const attachmentAccept = composerRuntime.getAttachmentAccept();\n        if (attachmentAccept !== \"*\") {\n            input.accept = attachmentAccept;\n        }\n        input.onchange = (e)=>{\n            const file = e.target.files?.[0];\n            if (!file) return;\n            composerRuntime.addAttachment(file);\n        };\n        input.click();\n    }, [\n        composerRuntime\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitive-hooks/contentPart/useContentPartDisplay.tsx\nvar useContentPartDisplay = ()=>{\n    const display = useContentPart((c)=>{\n        if (c.type !== \"ui\") throw new Error(\"This component can only be used inside ui content parts.\");\n        return c;\n    });\n    return display;\n};\n// src/primitive-hooks/contentPart/useContentPartImage.tsx\nvar useContentPartImage = ()=>{\n    const image = useContentPart((c)=>{\n        if (c.type !== \"image\") throw new Error(\"ContentPartImage can only be used inside image content parts.\");\n        return c;\n    });\n    return image;\n};\n// src/primitive-hooks/contentPart/useContentPartText.tsx\nvar useContentPartText = ()=>{\n    const text = useContentPart((c)=>{\n        if (c.type !== \"text\") throw new Error(\"ContentPartText can only be used inside text content parts.\");\n        return c;\n    });\n    return text;\n};\n// src/primitive-hooks/message/useMessageIf.tsx\nvar useMessageIf = (props)=>{\n    const messageRuntime = useMessageRuntime();\n    const messageUtilsStore = useMessageUtilsStore();\n    return useCombinedStore([\n        messageRuntime,\n        messageUtilsStore\n    ], ({ role, attachments, content, branchCount, isLast, speech, submittedFeedback }, { isCopied, isHovering })=>{\n        if (props.hasBranches === true && branchCount < 2) return false;\n        if (props.user && role !== \"user\") return false;\n        if (props.assistant && role !== \"assistant\") return false;\n        if (props.system && role !== \"system\") return false;\n        if (props.lastOrHover === true && !isHovering && !isLast) return false;\n        if (props.copied === true && !isCopied) return false;\n        if (props.copied === false && isCopied) return false;\n        if (props.speaking === true && speech == null) return false;\n        if (props.speaking === false && speech != null) return false;\n        if (props.hasAttachments === true && (role !== \"user\" || !attachments.length)) return false;\n        if (props.hasAttachments === false && role === \"user\" && !!attachments.length) return false;\n        if (props.hasContent === true && content.length === 0) return false;\n        if (props.hasContent === false && content.length > 0) return false;\n        if (props.submittedFeedback !== void 0 && (submittedFeedback?.type ?? null) !== props.submittedFeedback) return false;\n        return true;\n    });\n};\n// src/primitive-hooks/thread/useThreadIf.tsx\nvar useThreadIf = (props)=>{\n    return useThread((thread)=>{\n        if (props.empty === true && thread.messages.length !== 0) return false;\n        if (props.empty === false && thread.messages.length === 0) return false;\n        if (props.running === true && !thread.isRunning) return false;\n        if (props.running === false && thread.isRunning) return false;\n        if (props.disabled === true && thread.isDisabled) return false;\n        if (props.disabled === false && thread.isDisabled) return false;\n        return true;\n    });\n};\n// src/primitive-hooks/thread/useThreadEmpty.tsx\nvar useThreadEmpty = ()=>{\n    return useThreadIf({\n        empty: true\n    });\n};\n// src/primitive-hooks/thread/useThreadScrollToBottom.tsx\n\nvar useThreadScrollToBottom = ()=>{\n    const isAtBottom = useThreadViewport((s)=>s.isAtBottom);\n    const threadViewportStore = useThreadViewportStore();\n    const handleScrollToBottom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        threadViewportStore.getState().scrollToBottom();\n    }, [\n        threadViewportStore\n    ]);\n    if (isAtBottom) return null;\n    return handleScrollToBottom;\n};\n// src/primitive-hooks/thread/useThreadSuggestion.tsx\n\nvar useThreadSuggestion = ({ prompt, autoSend })=>{\n    const threadRuntime = useThreadRuntime();\n    const disabled = useThread((t)=>t.isDisabled);\n    const callback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (autoSend && !threadRuntime.getState().isRunning) {\n            threadRuntime.append(prompt);\n            threadRuntime.composer.setText(\"\");\n        } else {\n            threadRuntime.composer.setText(prompt);\n        }\n    }, [\n        threadRuntime,\n        autoSend,\n        prompt\n    ]);\n    if (disabled) return null;\n    return callback;\n};\n// src/primitives/actionBar/index.ts\nvar actionBar_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(actionBar_exports, {\n    Copy: ()=>ActionBarPrimitiveCopy,\n    Edit: ()=>ActionBarPrimitiveEdit,\n    FeedbackNegative: ()=>ActionBarPrimitiveFeedbackNegative,\n    FeedbackPositive: ()=>ActionBarPrimitiveFeedbackPositive,\n    Reload: ()=>ActionBarPrimitiveReload,\n    Root: ()=>ActionBarPrimitiveRoot,\n    Speak: ()=>ActionBarPrimitiveSpeak,\n    StopSpeaking: ()=>ActionBarPrimitiveStopSpeaking\n});\n// src/primitives/actionBar/ActionBarRoot.tsx\n\n\n// src/primitives/actionBar/useActionBarFloatStatus.tsx\nvar useActionBarFloatStatus = ({ hideWhenRunning, autohide, autohideFloat })=>{\n    const threadRuntime = useThreadRuntime();\n    const messageRuntime = useMessageRuntime();\n    const messageUtilsStore = useMessageUtilsStore();\n    return useCombinedStore([\n        threadRuntime,\n        messageRuntime,\n        messageUtilsStore\n    ], (t, m, mu)=>{\n        if (hideWhenRunning && t.isRunning) return \"hidden\" /* Hidden */ ;\n        const autohideEnabled = autohide === \"always\" || autohide === \"not-last\" && !m.isLast;\n        if (!autohideEnabled) return \"normal\" /* Normal */ ;\n        if (!mu.isHovering) return \"hidden\" /* Hidden */ ;\n        if (autohideFloat === \"always\" || autohideFloat === \"single-branch\" && m.branchCount <= 1) return \"floating\" /* Floating */ ;\n        return \"normal\" /* Normal */ ;\n    });\n};\n// src/primitives/actionBar/ActionBarRoot.tsx\n\nvar ActionBarPrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ hideWhenRunning, autohide, autohideFloat, ...rest }, ref)=>{\n    const hideAndfloatStatus = useActionBarFloatStatus({\n        hideWhenRunning,\n        autohide,\n        autohideFloat\n    });\n    if (hideAndfloatStatus === \"hidden\" /* Hidden */ ) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.div, {\n        ...hideAndfloatStatus === \"floating\" /* Floating */  ? {\n            \"data-floating\": \"true\"\n        } : null,\n        ...rest,\n        ref\n    });\n});\nActionBarPrimitiveRoot.displayName = \"ActionBarPrimitive.Root\";\n// src/primitives/actionBar/ActionBarCopy.tsx\n\n\n\n\nvar ActionBarPrimitiveCopy = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ copiedDuration, onClick, disabled, ...props }, forwardedRef)=>{\n    const isCopied = useMessageUtils((u)=>u.isCopied);\n    const callback = useActionBarCopy({\n        copiedDuration\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.button, {\n        type: \"button\",\n        ...isCopied ? {\n            \"data-copied\": \"true\"\n        } : {},\n        ...props,\n        ref: forwardedRef,\n        disabled: disabled || !callback,\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(onClick, ()=>{\n            callback?.();\n        })\n    });\n});\nActionBarPrimitiveCopy.displayName = \"ActionBarPrimitive.Copy\";\n// src/utils/createActionButton.tsx\n\n\n\n\nvar createActionButton = (displayName, useActionButton, forwardProps = [])=>{\n    const ActionButton = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, forwardedRef)=>{\n        const forwardedProps = {};\n        const primitiveProps = {};\n        Object.keys(props).forEach((key)=>{\n            if (forwardProps.includes(key)) {\n                forwardedProps[key] = props[key];\n            } else {\n                primitiveProps[key] = props[key];\n            }\n        });\n        const callback = useActionButton(forwardedProps);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.button, {\n            type: \"button\",\n            ...primitiveProps,\n            ref: forwardedRef,\n            disabled: primitiveProps.disabled || !callback,\n            onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(primitiveProps.onClick, ()=>{\n                callback?.();\n            })\n        });\n    });\n    ActionButton.displayName = displayName;\n    return ActionButton;\n};\n// src/primitives/actionBar/ActionBarReload.tsx\nvar ActionBarPrimitiveReload = createActionButton(\"ActionBarPrimitive.Reload\", useActionBarReload);\n// src/primitives/actionBar/ActionBarEdit.tsx\nvar ActionBarPrimitiveEdit = createActionButton(\"ActionBarPrimitive.Edit\", useActionBarEdit);\n// src/primitives/actionBar/ActionBarSpeak.tsx\nvar ActionBarPrimitiveSpeak = createActionButton(\"ActionBarPrimitive.Speak\", useActionBarSpeak);\n// src/primitives/actionBar/ActionBarStopSpeaking.tsx\n\n\n\n\n\nvar ActionBarPrimitiveStopSpeaking = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const callback = useActionBarStopSpeaking();\n    (0,_radix_ui_react_use_escape_keydown__WEBPACK_IMPORTED_MODULE_6__.useEscapeKeydown)((e)=>{\n        if (callback) {\n            e.preventDefault();\n            callback();\n        }\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.button, {\n        type: \"button\",\n        disabled: !callback,\n        ...props,\n        ref,\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(props.onClick, ()=>{\n            callback?.();\n        })\n    });\n});\nActionBarPrimitiveStopSpeaking.displayName = \"ActionBarPrimitive.StopSpeaking\";\n// src/primitives/actionBar/ActionBarFeedbackPositive.tsx\n\n\n\n\nvar ActionBarPrimitiveFeedbackPositive = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ onClick, disabled, ...props }, forwardedRef)=>{\n    const isSubmitted = useMessage((u)=>u.submittedFeedback?.type === \"positive\");\n    const callback = useActionBarFeedbackPositive();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.button, {\n        type: \"button\",\n        ...isSubmitted ? {\n            \"data-submitted\": \"true\"\n        } : {},\n        ...props,\n        ref: forwardedRef,\n        disabled: disabled || !callback,\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(onClick, ()=>{\n            callback?.();\n        })\n    });\n});\nActionBarPrimitiveFeedbackPositive.displayName = \"ActionBarPrimitive.FeedbackPositive\";\n// src/primitives/actionBar/ActionBarFeedbackNegative.tsx\n\n\n\n\nvar ActionBarPrimitiveFeedbackNegative = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ onClick, disabled, ...props }, forwardedRef)=>{\n    const isSubmitted = useMessage((u)=>u.submittedFeedback?.type === \"negative\");\n    const callback = useActionBarFeedbackNegative();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.button, {\n        type: \"button\",\n        ...isSubmitted ? {\n            \"data-submitted\": \"true\"\n        } : {},\n        ...props,\n        ref: forwardedRef,\n        disabled: disabled || !callback,\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(onClick, ()=>{\n            callback?.();\n        })\n    });\n});\nActionBarPrimitiveFeedbackNegative.displayName = \"ActionBarPrimitive.FeedbackNegative\";\n// src/primitives/assistantModal/index.ts\nvar assistantModal_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(assistantModal_exports, {\n    Anchor: ()=>AssistantModalPrimitiveAnchor,\n    Content: ()=>AssistantModalPrimitiveContent,\n    Root: ()=>AssistantModalPrimitiveRoot,\n    Trigger: ()=>AssistantModalPrimitiveTrigger\n});\n// src/primitives/assistantModal/AssistantModalRoot.tsx\n\n\n\n// src/primitives/assistantModal/scope.tsx\n\nvar usePopoverScope = _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_7__.createPopoverScope();\n// src/primitives/assistantModal/AssistantModalRoot.tsx\n\nvar useAssistantModalOpenState = ({ defaultOpen = false, unstable_openOnRunStart = true })=>{\n    const state = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultOpen);\n    const [, setOpen] = state;\n    const threadRuntime = useThreadRuntime();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!unstable_openOnRunStart) return void 0;\n        return threadRuntime.unstable_on(\"run-start\", ()=>{\n            setOpen(true);\n        });\n    }, [\n        unstable_openOnRunStart\n    ]);\n    return state;\n};\nvar AssistantModalPrimitiveRoot = ({ __scopeAssistantModal, defaultOpen, unstable_openOnRunStart, open, onOpenChange, ...rest })=>{\n    const scope = usePopoverScope(__scopeAssistantModal);\n    const [modalOpen, setOpen] = useAssistantModalOpenState({\n        defaultOpen,\n        unstable_openOnRunStart\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_7__.Root, {\n        ...scope,\n        open: open === void 0 ? modalOpen : open,\n        onOpenChange: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(onOpenChange, setOpen),\n        ...rest\n    });\n};\nAssistantModalPrimitiveRoot.displayName = \"AssistantModalPrimitive.Root\";\n// src/primitives/assistantModal/AssistantModalTrigger.tsx\n\n\n\nvar AssistantModalPrimitiveTrigger = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ __scopeAssistantModal, ...rest }, ref)=>{\n    const scope = usePopoverScope(__scopeAssistantModal);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_7__.Trigger, {\n        ...scope,\n        ...rest,\n        ref\n    });\n});\nAssistantModalPrimitiveTrigger.displayName = \"AssistantModalPrimitive.Trigger\";\n// src/primitives/assistantModal/AssistantModalContent.tsx\n\n\n\n\nvar AssistantModalPrimitiveContent = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ __scopeAssistantModal, side, align, onInteractOutside, dissmissOnInteractOutside = false, ...props }, forwardedRef)=>{\n    const scope = usePopoverScope(__scopeAssistantModal);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_7__.Portal, {\n        ...scope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_7__.Content, {\n            ...scope,\n            ...props,\n            ref: forwardedRef,\n            side: side ?? \"top\",\n            align: align ?? \"end\",\n            onInteractOutside: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(onInteractOutside, dissmissOnInteractOutside ? void 0 : (e)=>e.preventDefault())\n        })\n    });\n});\nAssistantModalPrimitiveContent.displayName = \"AssistantModalPrimitive.Content\";\n// src/primitives/assistantModal/AssistantModalAnchor.tsx\n\n\n\nvar AssistantModalPrimitiveAnchor = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ __scopeAssistantModal, ...rest }, ref)=>{\n    const scope = usePopoverScope(__scopeAssistantModal);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_7__.Anchor, {\n        ...scope,\n        ...rest,\n        ref\n    });\n});\nAssistantModalPrimitiveAnchor.displayName = \"AssistantModalPrimitive.Anchor\";\n// src/primitives/attachment/index.ts\nvar attachment_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(attachment_exports, {\n    Name: ()=>AttachmentPrimitiveName,\n    Remove: ()=>AttachmentPrimitiveRemove,\n    Root: ()=>AttachmentPrimitiveRoot,\n    unstable_Thumb: ()=>AttachmentPrimitiveThumb\n});\n// src/primitives/attachment/AttachmentRoot.tsx\n\n\n\nvar AttachmentPrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.div, {\n        ...props,\n        ref\n    });\n});\nAttachmentPrimitiveRoot.displayName = \"AttachmentPrimitive.Root\";\n// src/primitives/attachment/AttachmentThumb.tsx\n\n// src/context/react/AttachmentContext.ts\n\nvar AttachmentContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction useAttachmentContext(options) {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AttachmentContext);\n    if (!options?.optional && !context) throw new Error(\"This component must be used within a ComposerPrimitive.Attachments or MessagePrimitive.Attachments component.\");\n    return context;\n}\nfunction useThreadComposerAttachmentContext(options) {\n    const context = useAttachmentContext(options);\n    if (!context) return null;\n    if (context.source !== \"thread-composer\") throw new Error(\"This component must be used within a thread's ComposerPrimitive.Attachments component.\");\n    return context;\n}\nfunction useEditComposerAttachmentContext(options) {\n    const context = useAttachmentContext(options);\n    if (!context) return null;\n    if (context.source !== \"edit-composer\") throw new Error(\"This component must be used within a messages's ComposerPrimitive.Attachments component.\");\n    return context;\n}\nfunction useMessageAttachmentContext(options) {\n    const context = useAttachmentContext(options);\n    if (!context) return null;\n    if (context.source !== \"message\") throw new Error(\"This component must be used within a MessagePrimitive.Attachments component.\");\n    return context;\n}\nfunction useAttachmentRuntime(options) {\n    const attachmentRuntime = useAttachmentContext(options);\n    if (!attachmentRuntime) return null;\n    return attachmentRuntime.useAttachmentRuntime();\n}\nvar { useAttachment } = createContextStoreHook(useAttachmentContext, \"useAttachment\");\nvar { useAttachment: useThreadComposerAttachment } = createContextStoreHook(useThreadComposerAttachmentContext, \"useAttachment\");\nvar { useAttachment: useEditComposerAttachment } = createContextStoreHook(useEditComposerAttachmentContext, \"useAttachment\");\nvar { useAttachment: useMessageAttachment } = createContextStoreHook(useMessageAttachmentContext, \"useAttachment\");\n// src/primitives/attachment/AttachmentThumb.tsx\n\n\nvar AttachmentPrimitiveThumb = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const ext = useAttachment((a)=>a.name.split(\".\").pop());\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.div, {\n        ...props,\n        ref,\n        children: [\n            \".\",\n            ext\n        ]\n    });\n});\nAttachmentPrimitiveThumb.displayName = \"AttachmentPrimitive.Thumb\";\n// src/primitives/attachment/AttachmentName.tsx\n\nvar AttachmentPrimitiveName = ()=>{\n    const name = useAttachment((a)=>a.name);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: name\n    });\n};\nAttachmentPrimitiveName.displayName = \"AttachmentPrimitive.Name\";\n// src/primitive-hooks/attachment/useAttachmentRemove.ts\n\nvar useAttachmentRemove = ()=>{\n    const attachmentRuntime = useAttachmentRuntime();\n    const handleRemoveAttachment = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        attachmentRuntime.remove();\n    }, [\n        attachmentRuntime\n    ]);\n    return handleRemoveAttachment;\n};\n// src/primitives/attachment/AttachmentRemove.tsx\nvar AttachmentPrimitiveRemove = createActionButton(\"AttachmentPrimitive.Remove\", useAttachmentRemove);\n// src/primitives/branchPicker/index.ts\nvar branchPicker_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(branchPicker_exports, {\n    Count: ()=>BranchPickerPrimitiveCount,\n    Next: ()=>BranchPickerPrimitiveNext,\n    Number: ()=>BranchPickerPrimitiveNumber,\n    Previous: ()=>BranchPickerPrimitivePrevious,\n    Root: ()=>BranchPickerPrimitiveRoot\n});\n// src/primitives/branchPicker/BranchPickerNext.tsx\nvar BranchPickerPrimitiveNext = createActionButton(\"BranchPickerPrimitive.Next\", useBranchPickerNext);\n// src/primitives/branchPicker/BranchPickerPrevious.tsx\nvar BranchPickerPrimitivePrevious = createActionButton(\"BranchPickerPrimitive.Previous\", useBranchPickerPrevious);\n// src/primitives/branchPicker/BranchPickerCount.tsx\n\nvar BranchPickerPrimitiveCount = ()=>{\n    const branchCount = useBranchPickerCount();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: branchCount\n    });\n};\nBranchPickerPrimitiveCount.displayName = \"BranchPickerPrimitive.Count\";\n// src/primitives/branchPicker/BranchPickerNumber.tsx\n\nvar BranchPickerPrimitiveNumber = ()=>{\n    const branchNumber = useBranchPickerNumber();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: branchNumber\n    });\n};\nBranchPickerPrimitiveNumber.displayName = \"BranchPickerPrimitive.Number\";\n// src/primitives/branchPicker/BranchPickerRoot.tsx\n\n\n// src/primitives/message/index.ts\nvar message_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(message_exports, {\n    Attachments: ()=>MessagePrimitiveAttachments,\n    Content: ()=>MessagePrimitiveContent,\n    If: ()=>MessagePrimitiveIf,\n    InProgress: ()=>MessagePrimitiveInProgress,\n    Root: ()=>MessagePrimitiveRoot\n});\n// src/primitives/message/MessageRoot.tsx\n\n\n// src/utils/hooks/useManagedRef.ts\n\nvar useManagedRef = (callback)=>{\n    const cleanupRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((el)=>{\n        if (cleanupRef.current) {\n            cleanupRef.current();\n        }\n        if (el) {\n            cleanupRef.current = callback(el);\n        }\n    }, [\n        callback\n    ]);\n    return ref;\n};\n// src/primitives/message/MessageRoot.tsx\n\n\nvar useIsHoveringRef = ()=>{\n    const messageUtilsStore = useMessageUtilsStore();\n    const callbackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((el)=>{\n        const setIsHovering = messageUtilsStore.getState().setIsHovering;\n        const handleMouseEnter = ()=>{\n            setIsHovering(true);\n        };\n        const handleMouseLeave = ()=>{\n            setIsHovering(false);\n        };\n        el.addEventListener(\"mouseenter\", handleMouseEnter);\n        el.addEventListener(\"mouseleave\", handleMouseLeave);\n        return ()=>{\n            el.removeEventListener(\"mouseenter\", handleMouseEnter);\n            el.removeEventListener(\"mouseleave\", handleMouseLeave);\n            setIsHovering(false);\n        };\n    }, [\n        messageUtilsStore\n    ]);\n    return useManagedRef(callbackRef);\n};\nvar MessagePrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, forwardRef36)=>{\n    const isHoveringRef = useIsHoveringRef();\n    const ref = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_8__.useComposedRefs)(forwardRef36, isHoveringRef);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.div, {\n        ...props,\n        ref\n    });\n});\nMessagePrimitiveRoot.displayName = \"MessagePrimitive.Root\";\n// src/primitives/message/MessageIf.tsx\nvar MessagePrimitiveIf = ({ children, ...query })=>{\n    const result = useMessageIf(query);\n    return result ? children : null;\n};\nMessagePrimitiveIf.displayName = \"MessagePrimitive.If\";\n// src/primitives/message/MessageContent.tsx\n\n// src/context/providers/ContentPartRuntimeProvider.tsx\n\n\n\nvar useContentPartRuntimeStore = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        writableStore(store).setState(runtime, true);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar useContentPartStore2 = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime.getState()));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const updateState = ()=>writableStore(store).setState(runtime.getState(), true);\n        updateState();\n        return runtime.subscribe(updateState);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar ContentPartRuntimeProvider = ({ runtime, children })=>{\n    const useContentPartRuntime2 = useContentPartRuntimeStore(runtime);\n    const useContentPart2 = useContentPartStore2(runtime);\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        return {\n            useContentPartRuntime: useContentPartRuntime2,\n            useContentPart: useContentPart2\n        };\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ContentPartContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/primitives/contentPart/ContentPartText.tsx\n\n// src/utils/smooth/useSmooth.tsx\n\n\n// src/utils/smooth/SmoothContext.tsx\n\n\n\nvar SmoothContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar makeSmoothContext = (initialState)=>{\n    const useSmoothStatus2 = (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>initialState);\n    return {\n        useSmoothStatus: useSmoothStatus2\n    };\n};\nvar SmoothContextProvider = ({ children })=>{\n    const outer = useSmoothContext({\n        optional: true\n    });\n    const contentPartStore = useContentPartStore();\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>makeSmoothContext(contentPartStore.getState().status));\n    if (outer) return children;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SmoothContext.Provider, {\n        value: context,\n        children\n    });\n};\nvar withSmoothContextProvider = (Component)=>{\n    const Wrapped = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SmoothContextProvider, {\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {\n                ...props,\n                ref\n            })\n        });\n    });\n    Wrapped.displayName = Component.displayName;\n    return Wrapped;\n};\nfunction useSmoothContext(options) {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SmoothContext);\n    if (!options?.optional && !context) throw new Error(\"This component must be used within a SmoothContextProvider.\");\n    return context;\n}\nvar { useSmoothStatus, useSmoothStatusStore } = createContextStoreHook(useSmoothContext, \"useSmoothStatus\");\n// src/utils/smooth/useSmooth.tsx\nvar TextStreamAnimator = class {\n    constructor(currentText, setText){\n        this.animationFrameId = null;\n        this.lastUpdateTime = Date.now();\n        this.targetText = \"\";\n        this.animate = ()=>{\n            const currentTime = Date.now();\n            const deltaTime = currentTime - this.lastUpdateTime;\n            let timeToConsume = deltaTime;\n            const remainingChars = this.targetText.length - this.currentText.length;\n            const baseTimePerChar = Math.min(5, 250 / remainingChars);\n            let charsToAdd = 0;\n            while(timeToConsume >= baseTimePerChar && charsToAdd < remainingChars){\n                charsToAdd++;\n                timeToConsume -= baseTimePerChar;\n            }\n            if (charsToAdd !== remainingChars) {\n                this.animationFrameId = requestAnimationFrame(this.animate);\n            } else {\n                this.animationFrameId = null;\n            }\n            if (charsToAdd === 0) return;\n            this.currentText = this.targetText.slice(0, this.currentText.length + charsToAdd);\n            this.lastUpdateTime = currentTime - timeToConsume;\n            this.setText(this.currentText);\n        };\n        this.currentText = currentText;\n        this.setText = setText;\n    }\n    start() {\n        if (this.animationFrameId !== null) return;\n        this.lastUpdateTime = Date.now();\n        this.animate();\n    }\n    stop() {\n        if (this.animationFrameId !== null) {\n            cancelAnimationFrame(this.animationFrameId);\n            this.animationFrameId = null;\n        }\n    }\n};\nvar SMOOTH_STATUS = Object.freeze({\n    type: \"running\"\n});\nvar useSmooth = (state, smooth = false)=>{\n    const { text } = state;\n    const id = useMessage({\n        optional: true,\n        selector: (m)=>m.id\n    });\n    const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(id);\n    const [displayedText, setDisplayedText] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(text);\n    const smoothStatusStore = useSmoothStatusStore({\n        optional: true\n    });\n    const setText = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_9__.useCallbackRef)((text2)=>{\n        setDisplayedText(text2);\n        if (smoothStatusStore) {\n            writableStore(smoothStatusStore).setState(text2 !== state.text ? SMOOTH_STATUS : state.status);\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (smoothStatusStore) {\n            writableStore(smoothStatusStore).setState(text !== state.text ? SMOOTH_STATUS : state.status);\n        }\n    }, [\n        smoothStatusStore,\n        text,\n        displayedText,\n        state.status,\n        state.text\n    ]);\n    const [animatorRef] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new TextStreamAnimator(text, setText));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!smooth) {\n            animatorRef.stop();\n            return;\n        }\n        if (idRef.current !== id || !text.startsWith(animatorRef.targetText)) {\n            idRef.current = id;\n            setText(text);\n            animatorRef.currentText = text;\n            animatorRef.targetText = text;\n            animatorRef.stop();\n            return;\n        }\n        animatorRef.targetText = text;\n        animatorRef.start();\n    }, [\n        setText,\n        animatorRef,\n        id,\n        smooth,\n        text\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            animatorRef.stop();\n        };\n    }, [\n        animatorRef\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>smooth ? {\n            type: \"text\",\n            text: displayedText,\n            part: {\n                type: \"text\",\n                text: displayedText\n            },\n            status: text === displayedText ? state.status : SMOOTH_STATUS\n        } : state, [\n        smooth,\n        displayedText,\n        state,\n        text\n    ]);\n};\n// src/primitives/contentPart/ContentPartText.tsx\n\nvar ContentPartPrimitiveText = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ smooth = true, component: Component = \"span\", ...rest }, forwardedRef)=>{\n    const { text, status } = useSmooth(useContentPartText(), smooth);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {\n        \"data-status\": status.type,\n        ...rest,\n        ref: forwardedRef,\n        children: text\n    });\n});\nContentPartPrimitiveText.displayName = \"ContentPartPrimitive.Text\";\n// src/primitives/contentPart/ContentPartImage.tsx\n\n\n\nvar ContentPartPrimitiveImage = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, forwardedRef)=>{\n    const { image } = useContentPartImage();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.img, {\n        src: image,\n        ...props,\n        ref: forwardedRef\n    });\n});\nContentPartPrimitiveImage.displayName = \"ContentPartPrimitive.Image\";\n// src/primitives/contentPart/ContentPartDisplay.tsx\nvar ContentPartPrimitiveDisplay = ()=>{\n    const { display } = useContentPartDisplay();\n    return display ?? null;\n};\nContentPartPrimitiveDisplay.displayName = \"ContentPartPrimitive.Display\";\n// src/primitives/contentPart/ContentPartInProgress.tsx\nvar ContentPartPrimitiveInProgress = ({ children })=>{\n    const isInProgress = useContentPart((c)=>c.status.type === \"running\");\n    return isInProgress ? children : null;\n};\nContentPartPrimitiveInProgress.displayName = \"ContentPartPrimitive.InProgress\";\n// src/utils/getThreadMessageText.tsx\nvar getThreadMessageText = (message)=>{\n    const textParts = message.content.filter((part)=>part.type === \"text\");\n    return textParts.map((part)=>part.text).join(\"\\n\\n\");\n};\n// src/api/AttachmentRuntime.ts\nvar AttachmentRuntimeImpl = class {\n    constructor(_core){\n        this._core = _core;\n    }\n    get path() {\n        return this._core.path;\n    }\n    getState() {\n        return this._core.getState();\n    }\n    subscribe(callback) {\n        return this._core.subscribe(callback);\n    }\n};\nvar ComposerAttachmentRuntime = class extends AttachmentRuntimeImpl {\n    constructor(core, _composerApi){\n        super(core);\n        this._composerApi = _composerApi;\n    }\n    remove() {\n        const core = this._composerApi.getState();\n        if (!core) throw new Error(\"Composer is not available\");\n        return core.removeAttachment(this.getState().id);\n    }\n};\nvar ThreadComposerAttachmentRuntimeImpl = class extends ComposerAttachmentRuntime {\n    get source() {\n        return \"thread-composer\";\n    }\n};\nvar EditComposerAttachmentRuntimeImpl = class extends ComposerAttachmentRuntime {\n    get source() {\n        return \"edit-composer\";\n    }\n};\nvar MessageAttachmentRuntimeImpl = class extends AttachmentRuntimeImpl {\n    get source() {\n        return \"message\";\n    }\n    constructor(core){\n        super(core);\n    }\n    remove() {\n        throw new Error(\"Message attachments cannot be removed\");\n    }\n};\n// src/api/subscribable/BaseSubject.ts\nvar BaseSubject = class {\n    get isConnected() {\n        return !!this._connection;\n    }\n    notifySubscribers() {\n        for (const callback of this._subscriptions)callback();\n    }\n    _updateConnection() {\n        if (this._subscriptions.size > 0) {\n            if (this._connection) return;\n            this._connection = this._connect();\n        } else {\n            this._connection?.();\n            this._connection = void 0;\n        }\n    }\n    subscribe(callback) {\n        this._subscriptions.add(callback);\n        this._updateConnection();\n        return ()=>{\n            this._subscriptions.delete(callback);\n            this._updateConnection();\n        };\n    }\n    constructor(){\n        this._subscriptions = /* @__PURE__ */ new Set();\n    }\n};\n// src/api/subscribable/SKIP_UPDATE.ts\nvar SKIP_UPDATE = Symbol(\"skip-update\");\n// src/api/subscribable/LazyMemoizeSubject.ts\nvar LazyMemoizeSubject = class extends BaseSubject {\n    constructor(binding){\n        super();\n        this._previousStateDirty = true;\n        this.getState = ()=>{\n            if (!this.isConnected || this._previousStateDirty) {\n                const newState = this.binding.getState();\n                if (newState !== SKIP_UPDATE) {\n                    this._previousState = newState;\n                }\n                this._previousStateDirty = false;\n            }\n            if (this._previousState === void 0) throw new Error(\"Entry not available in the store\");\n            return this._previousState;\n        };\n        this.binding = binding;\n    }\n    get path() {\n        return this.binding.path;\n    }\n    _connect() {\n        const callback = ()=>{\n            this._previousStateDirty = true;\n            this.notifySubscribers();\n        };\n        return this.binding.subscribe(callback);\n    }\n};\n// src/api/subscribable/shallowEqual.ts\nfunction shallowEqual(objA, objB) {\n    if (objA === void 0 && objB === void 0) return true;\n    if (objA === void 0) return false;\n    if (objB === void 0) return false;\n    for (const key of Object.keys(objA)){\n        const valueA = objA[key];\n        const valueB = objB[key];\n        if (!Object.is(valueA, valueB)) return false;\n    }\n    return true;\n}\n// src/api/subscribable/ShallowMemoizeSubject.ts\nvar ShallowMemoizeSubject = class extends BaseSubject {\n    constructor(binding){\n        super();\n        this.getState = ()=>{\n            if (!this.isConnected) this._syncState();\n            return this._previousState;\n        };\n        this.binding = binding;\n        const state = binding.getState();\n        if (state === SKIP_UPDATE) throw new Error(\"Entry not available in the store\");\n        this._previousState = state;\n    }\n    get path() {\n        return this.binding.path;\n    }\n    _syncState() {\n        const state = this.binding.getState();\n        if (state === SKIP_UPDATE) return false;\n        if (shallowEqual(state, this._previousState)) return false;\n        this._previousState = state;\n        return true;\n    }\n    _connect() {\n        const callback = ()=>{\n            if (this._syncState()) {\n                this.notifySubscribers();\n            }\n        };\n        return this.binding.subscribe(callback);\n    }\n};\n// src/api/ComposerRuntime.ts\nvar METHOD_NOT_SUPPORTED = ()=>{\n    throw new Error(\"Composer is not available\");\n};\nvar EMPTY_ARRAY = Object.freeze([]);\nvar getThreadComposerState = (runtime)=>{\n    return Object.freeze({\n        type: \"thread\",\n        isEditing: runtime?.isEditing ?? false,\n        canCancel: runtime?.canCancel ?? false,\n        isEmpty: runtime?.isEmpty ?? true,\n        text: runtime?.text ?? \"\",\n        attachments: runtime?.attachments ?? EMPTY_ARRAY,\n        value: runtime?.text ?? \"\",\n        setValue: runtime?.setText.bind(runtime) ?? METHOD_NOT_SUPPORTED,\n        setText: runtime?.setText.bind(runtime) ?? METHOD_NOT_SUPPORTED,\n        // edit: beginEdit,\n        send: runtime?.send.bind(runtime) ?? METHOD_NOT_SUPPORTED,\n        cancel: runtime?.cancel.bind(runtime) ?? METHOD_NOT_SUPPORTED,\n        reset: runtime?.reset.bind(runtime) ?? METHOD_NOT_SUPPORTED,\n        addAttachment: runtime?.addAttachment.bind(runtime) ?? METHOD_NOT_SUPPORTED,\n        removeAttachment: runtime?.removeAttachment.bind(runtime) ?? METHOD_NOT_SUPPORTED\n    });\n};\nvar getEditComposerState = (runtime, beginEdit)=>{\n    return Object.freeze({\n        type: \"edit\",\n        isEditing: runtime?.isEditing ?? false,\n        canCancel: runtime?.canCancel ?? false,\n        isEmpty: runtime?.isEmpty ?? true,\n        text: runtime?.text ?? \"\",\n        attachments: runtime?.attachments ?? EMPTY_ARRAY,\n        value: runtime?.text ?? \"\",\n        setValue: runtime?.setText.bind(runtime) ?? METHOD_NOT_SUPPORTED,\n        setText: runtime?.setText.bind(runtime) ?? METHOD_NOT_SUPPORTED,\n        edit: beginEdit,\n        send: runtime?.send.bind(runtime) ?? METHOD_NOT_SUPPORTED,\n        cancel: runtime?.cancel.bind(runtime) ?? METHOD_NOT_SUPPORTED\n    });\n};\nvar ComposerRuntimeImpl = class {\n    constructor(_core){\n        this._core = _core;\n    }\n    get path() {\n        return this._core.path;\n    }\n    /**\n   * @deprecated Use `getState().isEditing` instead. This will be removed in 0.6.0.\n   */ get isEditing() {\n        return this.getState().isEditing;\n    }\n    /**\n   * @deprecated Use `getState().isEmpty` instead. This will be removed in 0.6.0.\n   */ get isEmpty() {\n        return this.getState().isEmpty;\n    }\n    /**\n   * @deprecated Use `getState().canCancel` instead. This will be removed in 0.6.0.\n   */ get canCancel() {\n        return this.getState().canCancel;\n    }\n    /**\n   * @deprecated Use `getState().text` instead. This will be removed in 0.6.0.\n   */ get text() {\n        return this.getState().text;\n    }\n    /**\n   * @deprecated Use `getState().attachments` instead. This will be removed in 0.6.0.\n   */ get attachments() {\n        return this.getState().attachments;\n    }\n    /**\n   * @deprecated Use `getState().text` instead. This will be removed in 0.6.0.\n   */ get value() {\n        return this.text;\n    }\n    setText(text) {\n        const core = this._core.getState();\n        if (!core) throw new Error(\"Composer is not available\");\n        core.setText(text);\n    }\n    setValue(text) {\n        this.setText(text);\n    }\n    addAttachment(file) {\n        const core = this._core.getState();\n        if (!core) throw new Error(\"Composer is not available\");\n        return core.addAttachment(file);\n    }\n    /**\n   * @deprecated Use `getAttachmentById(id).removeAttachment()` instead. This will be removed in 0.6.0.\n   */ removeAttachment(attachmentId) {\n        const core = this._core.getState();\n        if (!core) throw new Error(\"Composer is not available\");\n        return core.removeAttachment(attachmentId);\n    }\n    /**\n   * @deprecated This method will be removed in 0.6.0. Submit feedback if you need this functionality.\n   */ reset() {\n        const core = this._core.getState();\n        if (!core) throw new Error(\"Composer is not available\");\n        core.reset();\n    }\n    send() {\n        const core = this._core.getState();\n        if (!core) throw new Error(\"Composer is not available\");\n        core.send();\n    }\n    cancel() {\n        const core = this._core.getState();\n        if (!core) throw new Error(\"Composer is not available\");\n        core.cancel();\n    }\n    subscribe(callback) {\n        return this._core.subscribe(callback);\n    }\n    getAttachmentAccept() {\n        const core = this._core.getState();\n        if (!core) throw new Error(\"Composer is not available\");\n        return core.getAttachmentAccept();\n    }\n};\nvar ThreadComposerRuntimeImpl = class extends ComposerRuntimeImpl {\n    get path() {\n        return this._core.path;\n    }\n    get type() {\n        return \"thread\";\n    }\n    constructor(core){\n        const stateBinding = new LazyMemoizeSubject({\n            path: core.path,\n            getState: ()=>getThreadComposerState(core.getState()),\n            subscribe: (callback)=>core.subscribe(callback)\n        });\n        super({\n            path: core.path,\n            getState: ()=>core.getState(),\n            subscribe: (callback)=>stateBinding.subscribe(callback)\n        });\n        this._getState = stateBinding.getState.bind(stateBinding);\n    }\n    get attachments() {\n        return this.getState()?.attachments ?? EMPTY_ARRAY;\n    }\n    getState() {\n        return this._getState();\n    }\n    getAttachmentByIndex(idx) {\n        return new ThreadComposerAttachmentRuntimeImpl(new ShallowMemoizeSubject({\n            path: {\n                ...this.path,\n                attachmentSource: \"thread-composer\",\n                attachmentSelector: {\n                    type: \"index\",\n                    index: idx\n                },\n                ref: this.path.ref + `${this.path.ref}.attachments[${idx}]`\n            },\n            getState: ()=>{\n                const attachments = this.getState().attachments;\n                const attachment = attachments[idx];\n                if (!attachment) return SKIP_UPDATE;\n                return {\n                    ...attachment,\n                    attachment,\n                    source: \"thread-composer\"\n                };\n            },\n            subscribe: (callback)=>this._core.subscribe(callback)\n        }), this._core);\n    }\n};\nvar EditComposerRuntimeImpl = class extends ComposerRuntimeImpl {\n    constructor(core, _beginEdit){\n        const stateBinding = new LazyMemoizeSubject({\n            path: core.path,\n            getState: ()=>getEditComposerState(core.getState(), this._beginEdit),\n            subscribe: (callback)=>core.subscribe(callback)\n        });\n        super({\n            path: core.path,\n            getState: ()=>core.getState(),\n            subscribe: (callback)=>stateBinding.subscribe(callback)\n        });\n        this._beginEdit = _beginEdit;\n        this._getState = stateBinding.getState.bind(stateBinding);\n    }\n    get path() {\n        return this._core.path;\n    }\n    get type() {\n        return \"edit\";\n    }\n    getState() {\n        return this._getState();\n    }\n    beginEdit() {\n        this._beginEdit();\n    }\n    /**\n   * @deprecated Use `beginEdit()` instead. This will be removed in 0.6.0.\n   */ edit() {\n        this.beginEdit();\n    }\n    getAttachmentByIndex(idx) {\n        return new EditComposerAttachmentRuntimeImpl(new ShallowMemoizeSubject({\n            path: {\n                ...this.path,\n                attachmentSource: \"edit-composer\",\n                attachmentSelector: {\n                    type: \"index\",\n                    index: idx\n                },\n                ref: this.path.ref + `${this.path.ref}.attachments[${idx}]`\n            },\n            getState: ()=>{\n                const attachments = this.getState().attachments;\n                const attachment = attachments[idx];\n                if (!attachment) return SKIP_UPDATE;\n                return {\n                    ...attachment,\n                    attachment,\n                    source: \"edit-composer\"\n                };\n            },\n            subscribe: (callback)=>this._core.subscribe(callback)\n        }), this._core);\n    }\n};\n// src/api/subscribable/NestedSubscriptionSubject.ts\nvar NestedSubscriptionSubject = class extends BaseSubject {\n    constructor(binding){\n        super();\n        this.binding = binding;\n    }\n    get path() {\n        return this.binding.path;\n    }\n    getState() {\n        return this.binding.getState();\n    }\n    outerSubscribe(callback) {\n        return this.binding.subscribe(callback);\n    }\n    _connect() {\n        const callback = ()=>{\n            this.notifySubscribers();\n        };\n        let lastState = this.binding.getState();\n        let innerUnsubscribe = lastState?.subscribe(callback);\n        const onRuntimeUpdate = ()=>{\n            const newState = this.binding.getState();\n            if (newState === lastState) return;\n            lastState = newState;\n            innerUnsubscribe?.();\n            innerUnsubscribe = this.binding.getState()?.subscribe(callback);\n            callback();\n        };\n        const outerUnsubscribe = this.outerSubscribe(onRuntimeUpdate);\n        return ()=>{\n            outerUnsubscribe?.();\n            innerUnsubscribe?.();\n        };\n    }\n};\n// src/api/MessageRuntime.ts\nvar COMPLETE_STATUS2 = {\n    type: \"complete\"\n};\nvar toContentPartStatus = (message, partIndex, part)=>{\n    if (message.role !== \"assistant\") return COMPLETE_STATUS2;\n    const isLastPart = partIndex === Math.max(0, message.content.length - 1);\n    if (part.type !== \"tool-call\") {\n        if (\"reason\" in message.status && message.status.reason === \"tool-calls\" && isLastPart) throw new Error(\"Encountered unexpected requires-action status. This is likely an internal bug in assistant-ui.\");\n        return isLastPart ? message.status : COMPLETE_STATUS2;\n    }\n    if (!!part.result) {\n        return COMPLETE_STATUS2;\n    }\n    return message.status;\n};\nvar EMPTY_CONTENT = Object.freeze({\n    type: \"text\",\n    text: \"\"\n});\nvar getContentPartState = (message, partIndex)=>{\n    let part = message.content[partIndex];\n    if (!part) {\n        if (message.content.length === 0 && partIndex === 0) {\n            part = EMPTY_CONTENT;\n        } else {\n            return SKIP_UPDATE;\n        }\n    } else if (message.content.length === 1 && part.type === \"text\" && part.text.length === 0) {\n        part = EMPTY_CONTENT;\n    }\n    const status = toContentPartStatus(message, partIndex, part);\n    return Object.freeze({\n        ...part,\n        part,\n        status\n    });\n};\nvar MessageRuntimeImpl = class {\n    constructor(_core, _threadBinding){\n        this._core = _core;\n        this._threadBinding = _threadBinding;\n        this.composer = new EditComposerRuntimeImpl(new NestedSubscriptionSubject({\n            path: {\n                ...this.path,\n                ref: this.path.ref + `${this.path.ref}.composer`,\n                composerSource: \"edit\"\n            },\n            getState: ()=>this._threadBinding.getState().getEditComposer(this._core.getState().id),\n            subscribe: (callback)=>this._threadBinding.subscribe(callback)\n        }), ()=>this._threadBinding.getState().beginEdit(this._core.getState().id));\n    }\n    get path() {\n        return this._core.path;\n    }\n    getState() {\n        return this._core.getState();\n    }\n    reload() {\n        const state = this._core.getState();\n        if (!state) throw new Error(\"Message is not available\");\n        if (state.role !== \"assistant\") throw new Error(\"Can only reload assistant messages\");\n        this._threadBinding.getState().startRun(state.parentId);\n    }\n    speak() {\n        const state = this._core.getState();\n        if (!state) throw new Error(\"Message is not available\");\n        return this._threadBinding.getState().speak(state.id);\n    }\n    stopSpeaking() {\n        const state = this._core.getState();\n        if (!state) throw new Error(\"Message is not available\");\n        const thread = this._threadBinding.getState();\n        if (thread.speech?.messageId === state.id) {\n            this._threadBinding.getState().stopSpeaking();\n        } else {\n            throw new Error(\"Message is not being spoken\");\n        }\n    }\n    submitFeedback({ type }) {\n        const state = this._core.getState();\n        if (!state) throw new Error(\"Message is not available\");\n        this._threadBinding.getState().submitFeedback({\n            messageId: state.id,\n            type\n        });\n    }\n    switchToBranch({ position, branchId }) {\n        const state = this._core.getState();\n        if (!state) throw new Error(\"Message is not available\");\n        if (branchId && position) {\n            throw new Error(\"May not specify both branchId and position\");\n        } else if (!branchId && !position) {\n            throw new Error(\"Must specify either branchId or position\");\n        }\n        const thread = this._threadBinding.getState();\n        const branches = thread.getBranches(state.id);\n        let targetBranch = branchId;\n        if (position === \"previous\") {\n            targetBranch = branches[state.branchNumber - 2];\n        } else if (position === \"next\") {\n            targetBranch = branches[state.branchNumber];\n        }\n        if (!targetBranch) throw new Error(\"Branch not found\");\n        this._threadBinding.getState().switchToBranch(targetBranch);\n    }\n    unstable_getCopyText() {\n        return getThreadMessageText(this.getState());\n    }\n    subscribe(callback) {\n        return this._core.subscribe(callback);\n    }\n    getContentPartByIndex(idx) {\n        if (idx < 0) throw new Error(\"Content part index must be >= 0\");\n        return new ContentPartRuntimeImpl(new ShallowMemoizeSubject({\n            path: {\n                ...this.path,\n                ref: this.path.ref + `${this.path.ref}.content[${idx}]`,\n                contentPartSelector: {\n                    type: \"index\",\n                    index: idx\n                }\n            },\n            getState: ()=>{\n                return getContentPartState(this.getState(), idx);\n            },\n            subscribe: (callback)=>this._core.subscribe(callback)\n        }), this._core, this._threadBinding);\n    }\n    getContentPartByToolCallId(toolCallId) {\n        return new ContentPartRuntimeImpl(new ShallowMemoizeSubject({\n            path: {\n                ...this.path,\n                ref: this.path.ref + `${this.path.ref}.content[toolCallId=${JSON.stringify(toolCallId)}]`,\n                contentPartSelector: {\n                    type: \"toolCallId\",\n                    toolCallId\n                }\n            },\n            getState: ()=>{\n                const state = this._core.getState();\n                const idx = state.content.findIndex((part)=>part.type === \"tool-call\" && part.toolCallId === toolCallId);\n                if (idx === -1) return SKIP_UPDATE;\n                return getContentPartState(state, idx);\n            },\n            subscribe: (callback)=>this._core.subscribe(callback)\n        }), this._core, this._threadBinding);\n    }\n    getAttachmentByIndex(idx) {\n        return new MessageAttachmentRuntimeImpl(new ShallowMemoizeSubject({\n            path: {\n                ...this.path,\n                ref: this.path.ref + `${this.path.ref}.attachments[${idx}]`,\n                attachmentSource: \"message\",\n                attachmentSelector: {\n                    type: \"index\",\n                    index: idx\n                }\n            },\n            getState: ()=>{\n                const attachments = this.getState().attachments;\n                const attachment = attachments?.[idx];\n                if (!attachment) return SKIP_UPDATE;\n                return {\n                    ...attachment,\n                    attachment,\n                    source: \"message\"\n                };\n            },\n            subscribe: (callback)=>this._core.subscribe(callback)\n        }));\n    }\n};\n// src/primitives/message/MessageContent.tsx\n\nvar ToolUIDisplay = ({ UI, ...props })=>{\n    const Render = useToolUIs((s)=>s.getToolUI(props.toolName)) ?? UI;\n    if (!Render) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Render, {\n        ...props\n    });\n};\nvar defaultComponents = {\n    Text: ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"p\", {\n            style: {\n                whiteSpace: \"pre-line\"\n            },\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ContentPartPrimitiveText, {}),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ContentPartPrimitiveInProgress, {\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", {\n                        style: {\n                            fontFamily: \"revert\"\n                        },\n                        children: \" \"\n                    })\n                })\n            ]\n        }),\n    Image: ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ContentPartPrimitiveImage, {}),\n    UI: ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ContentPartPrimitiveDisplay, {})\n};\nvar MessageContentPartComponent = ({ components: { Text: Text2 = defaultComponents.Text, Empty, Image: Image2 = defaultComponents.Image, UI = defaultComponents.UI, tools: { by_name = {}, Fallback: Fallback2 = void 0 } = {} } = {} })=>{\n    const contentPartRuntime = useContentPartRuntime();\n    const part = useContentPart();\n    const type = part.type;\n    switch(type){\n        case \"text\":\n            if (part.status.type === \"requires-action\") throw new Error(\"Encountered unexpected requires-action status\");\n            if (part.part === EMPTY_CONTENT && !!Empty) {\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Empty, {\n                    status: part.status\n                });\n            }\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Text2, {\n                ...part,\n                part\n            });\n        case \"image\":\n            if (part.status.type === \"requires-action\") throw new Error(\"Encountered unexpected requires-action status\");\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Image2, {\n                ...part,\n                part\n            });\n        case \"ui\":\n            if (part.status.type === \"requires-action\") throw new Error(\"Encountered unexpected requires-action status\");\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(UI, {\n                ...part,\n                part\n            });\n        case \"tool-call\":\n            {\n                const Tool = by_name[part.toolName] || Fallback2;\n                const addResult = (result)=>contentPartRuntime.addToolResult(result);\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToolUIDisplay, {\n                    ...part,\n                    part,\n                    UI: Tool,\n                    addResult\n                });\n            }\n        default:\n            const unhandledType = type;\n            throw new Error(`Unknown content part type: ${unhandledType}`);\n    }\n};\nvar MessageContentPartImpl = ({ partIndex, components })=>{\n    const messageRuntime = useMessageRuntime();\n    const runtime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>messageRuntime.getContentPartByIndex(partIndex), [\n        messageRuntime,\n        partIndex\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ContentPartRuntimeProvider, {\n        runtime,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MessageContentPartComponent, {\n            components\n        })\n    });\n};\nvar MessageContentPart = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MessageContentPartImpl, (prev, next)=>prev.partIndex === next.partIndex && prev.components?.Text === next.components?.Text && prev.components?.Image === next.components?.Image && prev.components?.UI === next.components?.UI && prev.components?.tools === next.components?.tools);\nvar MessagePrimitiveContent = ({ components })=>{\n    const contentLength = useMessage((s)=>s.content.length) || 1;\n    return Array.from({\n        length: contentLength\n    }, (_, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MessageContentPart, {\n            partIndex: index,\n            components\n        }, index));\n};\nMessagePrimitiveContent.displayName = \"MessagePrimitive.Content\";\n// src/primitives/message/MessageInProgress.tsx\nvar MessagePrimitiveInProgress = ()=>{\n    return null;\n};\nMessagePrimitiveInProgress.displayName = \"MessagePrimitive.InProgress\";\n// src/primitives/message/MessageAttachments.tsx\n\n// src/context/providers/AttachmentRuntimeProvider.tsx\n\n\n\nvar useAttachmentRuntimeStore = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        writableStore(store).setState(runtime, true);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar useAttachmentStore = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime.getState()));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const updateState = ()=>writableStore(store).setState(runtime.getState(), true);\n        updateState();\n        return runtime.subscribe(updateState);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar AttachmentRuntimeProvider = ({ runtime, children })=>{\n    const useAttachmentRuntime2 = useAttachmentRuntimeStore(runtime);\n    const useAttachment2 = useAttachmentStore(runtime);\n    const source = useAttachment2((s)=>s.source);\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return {\n            source,\n            useAttachmentRuntime: useAttachmentRuntime2,\n            useAttachment: useAttachment2\n        };\n    }, [\n        useAttachmentRuntime2,\n        useAttachment2\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AttachmentContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/primitives/message/MessageAttachments.tsx\n\nvar getComponent = (components, attachment)=>{\n    const type = attachment.type;\n    switch(type){\n        case \"image\":\n            return components?.Image ?? components?.Attachment;\n        case \"document\":\n            return components?.Document ?? components?.Attachment;\n        case \"file\":\n            return components?.File ?? components?.Attachment;\n        default:\n            const _exhaustiveCheck = type;\n            throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n    }\n};\nvar AttachmentComponent = ({ components })=>{\n    const Component = useMessageAttachment((a)=>getComponent(components, a.attachment));\n    if (!Component) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {});\n};\nvar MessageAttachmentImpl = ({ components, attachmentIndex })=>{\n    const messageRuntime = useMessageRuntime();\n    const runtime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>messageRuntime.getAttachmentByIndex(attachmentIndex), [\n        messageRuntime,\n        attachmentIndex\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AttachmentRuntimeProvider, {\n        runtime,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AttachmentComponent, {\n            components\n        })\n    });\n};\nvar MessageAttachment = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MessageAttachmentImpl, (prev, next)=>prev.attachmentIndex === next.attachmentIndex && prev.components?.Image === next.components?.Image && prev.components?.Document === next.components?.Document && prev.components?.File === next.components?.File && prev.components?.Attachment === next.components?.Attachment);\nvar MessagePrimitiveAttachments = ({ components })=>{\n    const attachmentsCount = useMessage(({ message })=>{\n        if (message.role !== \"user\") return 0;\n        return message.attachments.length;\n    });\n    return Array.from({\n        length: attachmentsCount\n    }, (_, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MessageAttachment, {\n            attachmentIndex: index,\n            components\n        }, index));\n};\nMessagePrimitiveAttachments.displayName = \"MessagePrimitive.Attachments\";\n// src/primitives/branchPicker/BranchPickerRoot.tsx\n\nvar BranchPickerPrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ hideWhenSingleBranch, ...rest }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MessagePrimitiveIf, {\n        hasBranches: hideWhenSingleBranch ? true : void 0,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.div, {\n            ...rest,\n            ref\n        })\n    });\n});\nBranchPickerPrimitiveRoot.displayName = \"BranchPickerPrimitive.Root\";\n// src/primitives/composer/index.ts\nvar composer_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(composer_exports, {\n    AddAttachment: ()=>ComposerPrimitiveAddAttachment,\n    Attachments: ()=>ComposerPrimitiveAttachments,\n    Cancel: ()=>ComposerPrimitiveCancel,\n    If: ()=>ComposerPrimitiveIf,\n    Input: ()=>ComposerPrimitiveInput,\n    Root: ()=>ComposerPrimitiveRoot,\n    Send: ()=>ComposerPrimitiveSend\n});\n// src/primitives/composer/ComposerRoot.tsx\n\n\n\n\nvar ComposerPrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ onSubmit, ...rest }, forwardedRef)=>{\n    const send = useComposerSend();\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        if (!send) return;\n        send();\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.form, {\n        ...rest,\n        ref: forwardedRef,\n        onSubmit: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(onSubmit, handleSubmit)\n    });\n});\nComposerPrimitiveRoot.displayName = \"ComposerPrimitive.Root\";\n// src/primitives/composer/ComposerInput.tsx\n\n\n\n\n\n\n// src/utils/hooks/useOnScrollToBottom.tsx\n\n\nvar useOnScrollToBottom = (callback)=>{\n    const callbackRef = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_9__.useCallbackRef)(callback);\n    const onScrollToBottom = useThreadViewport((vp)=>vp.onScrollToBottom);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return onScrollToBottom(callbackRef);\n    }, [\n        onScrollToBottom,\n        callbackRef\n    ]);\n};\n// src/primitives/composer/ComposerInput.tsx\n\nvar ComposerPrimitiveInput = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ autoFocus = false, asChild, disabled: disabledProp, onChange, onKeyDown, submitOnEnter = true, cancelOnEscape = true, unstable_focusOnRunStart = true, unstable_focusOnScrollToBottom = true, unstable_focusOnThreadSwitched = true, ...rest }, forwardedRef)=>{\n    const threadRuntime = useThreadRuntime();\n    const composerRuntime = useComposerRuntime();\n    const value = useComposer((c)=>{\n        if (!c.isEditing) return \"\";\n        return c.text;\n    });\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_10__.Slot : react_textarea_autosize__WEBPACK_IMPORTED_MODULE_11__[\"default\"];\n    const isDisabled = useThread((t)=>t.isDisabled) ?? disabledProp ?? false;\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const ref = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_8__.useComposedRefs)(forwardedRef, textareaRef);\n    (0,_radix_ui_react_use_escape_keydown__WEBPACK_IMPORTED_MODULE_6__.useEscapeKeydown)((e)=>{\n        if (!cancelOnEscape) return;\n        if (composerRuntime.getState().canCancel) {\n            composerRuntime.cancel();\n            e.preventDefault();\n        }\n    });\n    const handleKeyPress = (e)=>{\n        if (isDisabled || !submitOnEnter) return;\n        if (e.nativeEvent.isComposing) return;\n        if (e.key === \"Enter\" && e.shiftKey === false) {\n            const { isRunning } = threadRuntime.getState();\n            if (!isRunning) {\n                e.preventDefault();\n                textareaRef.current?.closest(\"form\")?.requestSubmit();\n            }\n        }\n    };\n    const autoFocusEnabled = autoFocus && !isDisabled;\n    const focus2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const textarea = textareaRef.current;\n        if (!textarea || !autoFocusEnabled) return;\n        textarea.focus({\n            preventScroll: true\n        });\n        textarea.setSelectionRange(textareaRef.current.value.length, textareaRef.current.value.length);\n    }, [\n        autoFocusEnabled\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>focus2(), [\n        focus2\n    ]);\n    useOnScrollToBottom(()=>{\n        if (composerRuntime.type === \"thread\" && unstable_focusOnScrollToBottom) {\n            focus2();\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (composerRuntime.type !== \"thread\" || !unstable_focusOnRunStart) return void 0;\n        return threadRuntime.unstable_on(\"run-start\", focus2);\n    }, [\n        unstable_focusOnRunStart\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (composerRuntime.type !== \"thread\" || !unstable_focusOnThreadSwitched) return void 0;\n        return threadRuntime.unstable_on(\"switched-to\", focus2);\n    }, [\n        unstable_focusOnThreadSwitched\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {\n        name: \"input\",\n        value,\n        ...rest,\n        ref,\n        disabled: isDisabled,\n        onChange: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(onChange, (e)=>{\n            if (!composerRuntime.getState().isEditing) return;\n            return composerRuntime.setText(e.target.value);\n        }),\n        onKeyDown: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_5__.composeEventHandlers)(onKeyDown, handleKeyPress)\n    });\n});\nComposerPrimitiveInput.displayName = \"ComposerPrimitive.Input\";\n// src/primitives/composer/ComposerSend.tsx\nvar ComposerPrimitiveSend = createActionButton(\"ComposerPrimitive.Send\", useComposerSend);\n// src/primitives/composer/ComposerCancel.tsx\nvar ComposerPrimitiveCancel = createActionButton(\"ComposerPrimitive.Cancel\", useComposerCancel);\n// src/primitives/composer/ComposerAddAttachment.tsx\nvar ComposerPrimitiveAddAttachment = createActionButton(\"ComposerPrimitive.AddAttachment\", useComposerAddAttachment);\n// src/primitives/composer/ComposerAttachments.tsx\n\n\nvar getComponent2 = (components, attachment)=>{\n    const type = attachment.type;\n    switch(type){\n        case \"image\":\n            return components?.Image ?? components?.Attachment;\n        case \"document\":\n            return components?.Document ?? components?.Attachment;\n        case \"file\":\n            return components?.File ?? components?.Attachment;\n        default:\n            const _exhaustiveCheck = type;\n            throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n    }\n};\nvar AttachmentComponent2 = ({ components })=>{\n    const Component = useThreadComposerAttachment((a)=>getComponent2(components, a));\n    if (!Component) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {});\n};\nvar ComposerAttachmentImpl = ({ components, attachmentIndex })=>{\n    const composerRuntime = useComposerRuntime();\n    const runtime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>composerRuntime.getAttachmentByIndex(attachmentIndex), [\n        composerRuntime,\n        attachmentIndex\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AttachmentRuntimeProvider, {\n        runtime,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AttachmentComponent2, {\n            components\n        })\n    });\n};\nvar ComposerAttachment = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ComposerAttachmentImpl, (prev, next)=>prev.attachmentIndex === next.attachmentIndex && prev.components?.Image === next.components?.Image && prev.components?.Document === next.components?.Document && prev.components?.File === next.components?.File && prev.components?.Attachment === next.components?.Attachment);\nvar ComposerPrimitiveAttachments = ({ components })=>{\n    const attachmentsCount = useComposer((s)=>s.attachments.length);\n    return Array.from({\n        length: attachmentsCount\n    }, (_, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerAttachment, {\n            attachmentIndex: index,\n            components\n        }, index));\n};\nComposerPrimitiveAttachments.displayName = \"ComposerPrimitive.Attachments\";\n// src/primitives/composer/ComposerIf.tsx\nvar ComposerPrimitiveIf = ({ children, ...query })=>{\n    const result = useComposerIf(query);\n    return result ? children : null;\n};\nComposerPrimitiveIf.displayName = \"ComposerPrimitive.If\";\n// src/primitives/contentPart/index.ts\nvar contentPart_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(contentPart_exports, {\n    Display: ()=>ContentPartPrimitiveDisplay,\n    Image: ()=>ContentPartPrimitiveImage,\n    InProgress: ()=>ContentPartPrimitiveInProgress,\n    Text: ()=>ContentPartPrimitiveText\n});\n// src/primitives/thread/index.ts\nvar thread_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(thread_exports, {\n    Empty: ()=>ThreadPrimitiveEmpty,\n    If: ()=>ThreadPrimitiveIf,\n    Messages: ()=>ThreadPrimitiveMessages,\n    Root: ()=>ThreadPrimitiveRoot,\n    ScrollToBottom: ()=>ThreadPrimitiveScrollToBottom,\n    Suggestion: ()=>ThreadPrimitiveSuggestion,\n    Viewport: ()=>ThreadPrimitiveViewport\n});\n// src/primitives/thread/ThreadRoot.tsx\n\n\n\nvar ThreadPrimitiveRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.div, {\n        ...props,\n        ref\n    });\n});\nThreadPrimitiveRoot.displayName = \"ThreadPrimitive.Root\";\n// src/primitives/thread/ThreadEmpty.tsx\nvar ThreadPrimitiveEmpty = ({ children })=>{\n    const empty = useThreadEmpty();\n    return empty ? children : null;\n};\nThreadPrimitiveEmpty.displayName = \"ThreadPrimitive.Empty\";\n// src/primitives/thread/ThreadIf.tsx\nvar ThreadPrimitiveIf = ({ children, ...query })=>{\n    const result = useThreadIf(query);\n    return result ? children : null;\n};\nThreadPrimitiveIf.displayName = \"ThreadPrimitive.If\";\n// src/primitives/thread/ThreadViewport.tsx\n\n\n\n// src/primitive-hooks/thread/useThreadViewportAutoScroll.tsx\n\n\n// src/utils/hooks/useOnResizeContent.tsx\n\n\nvar useOnResizeContent = (callback)=>{\n    const callbackRef = (0,_radix_ui_react_use_callback_ref__WEBPACK_IMPORTED_MODULE_9__.useCallbackRef)(callback);\n    const refCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((el)=>{\n        const resizeObserver = new ResizeObserver(()=>{\n            callbackRef();\n        });\n        const mutationObserver = new MutationObserver((mutations)=>{\n            for (const mutation of mutations){\n                for (const node of mutation.addedNodes){\n                    if (node instanceof Element) {\n                        resizeObserver.observe(node);\n                    }\n                }\n                for (const node of mutation.removedNodes){\n                    if (node instanceof Element) {\n                        resizeObserver.unobserve(node);\n                    }\n                }\n            }\n            callbackRef();\n        });\n        resizeObserver.observe(el);\n        mutationObserver.observe(el, {\n            childList: true\n        });\n        for (const child of el.children){\n            resizeObserver.observe(child);\n        }\n        return ()=>{\n            resizeObserver.disconnect();\n            mutationObserver.disconnect();\n        };\n    }, [\n        callbackRef\n    ]);\n    return useManagedRef(refCallback);\n};\n// src/primitive-hooks/thread/useThreadViewportAutoScroll.tsx\nvar useThreadViewportAutoScroll = ({ autoScroll = true, unstable_scrollToBottomOnRunStart = true })=>{\n    const divRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const threadViewportStore = useThreadViewportStore();\n    const lastScrollTop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const isScrollingToBottomRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const scrollToBottom = (behavior)=>{\n        const div = divRef.current;\n        if (!div || !autoScroll) return;\n        isScrollingToBottomRef.current = true;\n        div.scrollTo({\n            top: div.scrollHeight,\n            behavior\n        });\n    };\n    const handleScroll = ()=>{\n        const div = divRef.current;\n        if (!div) return;\n        const isAtBottom = threadViewportStore.getState().isAtBottom;\n        const newIsAtBottom = div.scrollHeight - div.scrollTop <= div.clientHeight + 1;\n        if (!newIsAtBottom && lastScrollTop.current < div.scrollTop) {} else {\n            if (newIsAtBottom) {\n                isScrollingToBottomRef.current = false;\n            }\n            if (newIsAtBottom !== isAtBottom) {\n                writableStore(threadViewportStore).setState({\n                    isAtBottom: newIsAtBottom\n                });\n            }\n        }\n        lastScrollTop.current = div.scrollTop;\n    };\n    const resizeRef = useOnResizeContent(()=>{\n        if (isScrollingToBottomRef.current || threadViewportStore.getState().isAtBottom) {\n            scrollToBottom(\"instant\");\n        }\n        handleScroll();\n    });\n    const scrollRef = useManagedRef((el)=>{\n        el.addEventListener(\"scroll\", handleScroll);\n        return ()=>{\n            el.removeEventListener(\"scroll\", handleScroll);\n        };\n    });\n    const autoScrollRef = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_8__.useComposedRefs)(resizeRef, scrollRef, divRef);\n    useOnScrollToBottom(()=>{\n        scrollToBottom(\"auto\");\n    });\n    const threadRuntime = useThreadRuntime();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!unstable_scrollToBottomOnRunStart) return void 0;\n        return threadRuntime.unstable_on(\"run-start\", focus);\n    }, [\n        unstable_scrollToBottomOnRunStart\n    ]);\n    return autoScrollRef;\n};\n// src/primitives/thread/ThreadViewport.tsx\n\nvar ThreadPrimitiveViewport = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ autoScroll, children, ...rest }, forwardedRef)=>{\n    const autoScrollRef = useThreadViewportAutoScroll({\n        autoScroll\n    });\n    const ref = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_8__.useComposedRefs)(forwardedRef, autoScrollRef);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.div, {\n        ...rest,\n        ref,\n        children\n    });\n});\nThreadPrimitiveViewport.displayName = \"ThreadPrimitive.Viewport\";\n// src/primitives/thread/ThreadMessages.tsx\n\n// src/context/providers/MessageRuntimeProvider.tsx\n\n\n// src/context/stores/MessageUtils.ts\n\nvar makeMessageUtilsStore = ()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)((set)=>{\n        return {\n            isCopied: false,\n            setIsCopied: (value)=>{\n                set({\n                    isCopied: value\n                });\n            },\n            isHovering: false,\n            setIsHovering: (value)=>{\n                set({\n                    isHovering: value\n                });\n            }\n        };\n    });\n// src/context/providers/MessageRuntimeProvider.tsx\n\nvar useMessageRuntimeStore = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        writableStore(store).setState(runtime, true);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar useMessageStore2 = (runtime)=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime.getState()));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const updateState = ()=>writableStore(store).setState(runtime.getState(), true);\n        updateState();\n        return runtime.subscribe(updateState);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar useMessageUtilsStore2 = ()=>{\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>makeMessageUtilsStore());\n    return store;\n};\nvar useEditComposerStore2 = (useMessageRuntime2)=>{\n    const runtime = useMessageRuntime2.getState().composer;\n    const [store] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>(0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)(()=>runtime.getState()));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const updateState = ()=>writableStore(store).setState(runtime.getState());\n        updateState();\n        return runtime.subscribe(updateState);\n    }, [\n        runtime,\n        store\n    ]);\n    return store;\n};\nvar MessageRuntimeProvider = ({ runtime, children })=>{\n    const useMessageRuntime2 = useMessageRuntimeStore(runtime);\n    const useMessage2 = useMessageStore2(runtime);\n    const useMessageUtils2 = useMessageUtilsStore2();\n    const useEditComposer2 = useEditComposerStore2(useMessageRuntime2);\n    const [context] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>{\n        return {\n            useMessageRuntime: useMessageRuntime2,\n            useMessage: useMessage2,\n            useMessageUtils: useMessageUtils2,\n            useEditComposer: useEditComposer2\n        };\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MessageContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/primitives/thread/ThreadMessages.tsx\n\nvar isComponentsSame = (prev, next)=>{\n    return prev.Message === next.Message && prev.EditComposer === next.EditComposer && prev.UserEditComposer === next.UserEditComposer && prev.AssistantEditComposer === next.AssistantEditComposer && prev.SystemEditComposer === next.SystemEditComposer && prev.UserMessage === next.UserMessage && prev.AssistantMessage === next.AssistantMessage && prev.SystemMessage === next.SystemMessage;\n};\nvar DEFAULT_SYSTEM_MESSAGE = ()=>null;\nvar getComponent3 = (components, role, isEditing)=>{\n    switch(role){\n        case \"user\":\n            if (isEditing) {\n                return components.UserEditComposer ?? components.EditComposer ?? components.UserMessage ?? components.Message;\n            } else {\n                return components.UserMessage ?? components.Message;\n            }\n        case \"assistant\":\n            if (isEditing) {\n                return components.AssistantEditComposer ?? components.EditComposer ?? components.AssistantMessage ?? components.Message;\n            } else {\n                return components.AssistantMessage ?? components.Message;\n            }\n        case \"system\":\n            if (isEditing) {\n                return components.SystemEditComposer ?? components.EditComposer ?? components.SystemMessage ?? components.Message;\n            } else {\n                return components.SystemMessage ?? DEFAULT_SYSTEM_MESSAGE;\n            }\n        default:\n            const _exhaustiveCheck = role;\n            throw new Error(`Unknown message role: ${_exhaustiveCheck}`);\n    }\n};\nvar ThreadMessageComponent = ({ components })=>{\n    const role = useMessage((m)=>m.role);\n    const isEditing = useEditComposer((c)=>c.isEditing);\n    const Component = getComponent3(components, role, isEditing);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {});\n};\nvar ThreadMessageImpl = ({ messageIndex, components })=>{\n    const threadRuntime = useThreadRuntime();\n    const runtime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>threadRuntime.getMesssageByIndex(messageIndex), [\n        threadRuntime,\n        messageIndex\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MessageRuntimeProvider, {\n        runtime,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadMessageComponent, {\n            components\n        })\n    });\n};\nvar ThreadMessage = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ThreadMessageImpl, (prev, next)=>prev.messageIndex === next.messageIndex && isComponentsSame(prev.components, next.components));\nvar ThreadPrimitiveMessagesImpl = ({ components })=>{\n    const messagesLength = useThread((t)=>t.messages.length);\n    if (messagesLength === 0) return null;\n    return Array.from({\n        length: messagesLength\n    }, (_, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadMessage, {\n            messageIndex: index,\n            components\n        }, index));\n};\nThreadPrimitiveMessagesImpl.displayName = \"ThreadPrimitive.Messages\";\nvar ThreadPrimitiveMessages = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ThreadPrimitiveMessagesImpl, (prev, next)=>isComponentsSame(prev.components, next.components));\n// src/primitives/thread/ThreadScrollToBottom.tsx\nvar ThreadPrimitiveScrollToBottom = createActionButton(\"ThreadPrimitive.ScrollToBottom\", useThreadScrollToBottom);\n// src/primitives/thread/ThreadSuggestion.tsx\nvar ThreadPrimitiveSuggestion = createActionButton(\"ThreadPrimitive.Suggestion\", useThreadSuggestion, [\n    \"prompt\",\n    \"autoSend\",\n    \"method\"\n]);\n// src/runtimes/core/subscribeToMainThread.ts\nvar subscribeToMainThread = (runtime, callback)=>{\n    let first = true;\n    let cleanup;\n    const inner = ()=>{\n        cleanup?.();\n        cleanup = runtime.thread.subscribe(callback);\n        if (!first) {\n            callback();\n        }\n        first = false;\n    };\n    const unsubscribe = runtime.subscribe(inner);\n    inner();\n    return ()=>{\n        unsubscribe();\n        cleanup?.();\n    };\n};\n// src/runtimes/local/useLocalRuntime.tsx\n\n// src/runtimes/core/BaseAssistantRuntimeCore.tsx\nvar BaseAssistantRuntimeCore = class {\n    constructor(_thread){\n        this._subscriptions = /* @__PURE__ */ new Set();\n        this.subscriptionHandler = ()=>{\n            for (const callback of this._subscriptions)callback();\n        };\n        this._thread = _thread;\n        this._thread = _thread;\n    }\n    get thread() {\n        return this._thread;\n    }\n    set thread(thread) {\n        this._thread = thread;\n        this.subscriptionHandler();\n    }\n    subscribe(callback) {\n        this._subscriptions.add(callback);\n        return ()=>this._subscriptions.delete(callback);\n    }\n};\n// src/internal.ts\nvar internal_exports = {};\n(0,_chunk_BJPOCE4O_mjs__WEBPACK_IMPORTED_MODULE_3__.__export)(internal_exports, {\n    AssistantRuntimeImpl: ()=>AssistantRuntimeImpl,\n    BaseAssistantRuntimeCore: ()=>BaseAssistantRuntimeCore,\n    DefaultThreadComposerRuntimeCore: ()=>DefaultThreadComposerRuntimeCore,\n    MessageRepository: ()=>MessageRepository,\n    ProxyConfigProvider: ()=>ProxyConfigProvider,\n    ThreadRuntimeImpl: ()=>ThreadRuntimeImpl,\n    TooltipIconButton: ()=>TooltipIconButton,\n    generateId: ()=>generateId,\n    useSmooth: ()=>useSmooth,\n    useSmoothStatus: ()=>useSmoothStatus,\n    withSmoothContextProvider: ()=>withSmoothContextProvider\n});\n// src/runtimes/composer/BaseComposerRuntimeCore.tsx\nvar isAttachmentComplete = (a)=>a.status.type === \"complete\";\nvar BaseComposerRuntimeCore = class {\n    getAttachmentAccept() {\n        return this.getAttachmentAdapter()?.accept ?? \"*\";\n    }\n    set attachments(value) {\n        this._attachments = value;\n        this.notifySubscribers();\n    }\n    get attachments() {\n        return this._attachments;\n    }\n    get isEmpty() {\n        return !this.text.trim() && !this.attachments.length;\n    }\n    get text() {\n        return this._text;\n    }\n    setText(value) {\n        this._text = value;\n        this.notifySubscribers();\n    }\n    reset() {\n        this._text = \"\";\n        this._attachments = [];\n        this.notifySubscribers();\n    }\n    async send() {\n        const adapter = this.getAttachmentAdapter();\n        const attachments = adapter && this.attachments.length > 0 ? await Promise.all(this.attachments.map(async (a)=>{\n            if (isAttachmentComplete(a)) return a;\n            const result = await adapter.send(a);\n            if (result.status?.type !== \"complete\") {\n                result.status = {\n                    type: \"complete\"\n                };\n            }\n            return result;\n        })) : [];\n        const message = {\n            role: \"user\",\n            content: this.text ? [\n                {\n                    type: \"text\",\n                    text: this.text\n                }\n            ] : [],\n            attachments\n        };\n        this.reset();\n        this.handleSend(message);\n    }\n    async addAttachment(file) {\n        const adapter = this.getAttachmentAdapter();\n        if (!adapter) throw new Error(\"Attachments are not supported\");\n        const attachment = await adapter.add({\n            file\n        });\n        if (attachment.status === void 0) {\n            attachment.status = {\n                type: \"requires-action\",\n                reason: \"composer-send\"\n            };\n        }\n        this._attachments = [\n            ...this._attachments,\n            attachment\n        ];\n        this.notifySubscribers();\n    }\n    async removeAttachment(attachmentId) {\n        const adapter = this.getAttachmentAdapter();\n        if (!adapter) throw new Error(\"Attachments are not supported\");\n        const index = this._attachments.findIndex((a)=>a.id === attachmentId);\n        if (index === -1) throw new Error(\"Attachment not found\");\n        const attachment = this._attachments[index];\n        await adapter.remove(attachment);\n        this._attachments = this._attachments.toSpliced(index, 1);\n        this.notifySubscribers();\n    }\n    notifySubscribers() {\n        for (const callback of this._subscriptions)callback();\n    }\n    subscribe(callback) {\n        this._subscriptions.add(callback);\n        return ()=>this._subscriptions.delete(callback);\n    }\n    constructor(){\n        this.isEditing = true;\n        this._attachments = [];\n        this._text = \"\";\n        this._subscriptions = /* @__PURE__ */ new Set();\n    }\n};\n// src/runtimes/composer/DefaultThreadComposerRuntimeCore.tsx\nvar DefaultThreadComposerRuntimeCore = class extends BaseComposerRuntimeCore {\n    constructor(runtime){\n        super();\n        this._canCancel = false;\n        this.runtime = runtime;\n        this.connect();\n    }\n    get canCancel() {\n        return this._canCancel;\n    }\n    get attachments() {\n        return super.attachments;\n    }\n    getAttachmentAdapter() {\n        return this.runtime.adapters?.attachments;\n    }\n    connect() {\n        return this.runtime.subscribe(()=>{\n            if (this.canCancel !== this.runtime.capabilities.cancel) {\n                this._canCancel = this.runtime.capabilities.cancel;\n                this.notifySubscribers();\n            }\n        });\n    }\n    async handleSend(message) {\n        this.runtime.append({\n            ...message,\n            parentId: this.runtime.messages.at(-1)?.id ?? null\n        });\n    }\n    async cancel() {\n        this.runtime.cancelRun();\n    }\n};\n// src/utils/ProxyConfigProvider.ts\nvar ProxyConfigProvider = class {\n    getModelConfig() {\n        return (0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.mergeModelConfigs)(this._providers);\n    }\n    registerModelConfigProvider(provider) {\n        this._providers.add(provider);\n        const unsubscribe = provider.subscribe?.(()=>{\n            this.notifySubscribers();\n        });\n        this.notifySubscribers();\n        return ()=>{\n            this._providers.delete(provider);\n            unsubscribe?.();\n            this.notifySubscribers();\n        };\n    }\n    notifySubscribers() {\n        for (const callback of this._subscribers)callback();\n    }\n    subscribe(callback) {\n        this._subscribers.add(callback);\n        return ()=>this._subscribers.delete(callback);\n    }\n    constructor(){\n        this._providers = /* @__PURE__ */ new Set();\n        this._subscribers = /* @__PURE__ */ new Set();\n    }\n};\n// src/utils/idUtils.tsx\n\nvar generateId = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_13__.customAlphabet)(\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\", 7);\nvar optimisticPrefix = \"__optimistic__\";\nvar generateOptimisticId = ()=>`${optimisticPrefix}${generateId()}`;\n// src/runtimes/edge/converters/fromCoreMessage.ts\nvar fromCoreMessages = (message)=>{\n    return message.map((message2)=>fromCoreMessage(message2));\n};\nvar fromCoreMessage = (message, { id = generateId(), status = {\n    type: \"complete\",\n    reason: \"unknown\"\n}, attachments = [] } = {})=>{\n    const commonProps = {\n        id,\n        createdAt: /* @__PURE__ */ new Date()\n    };\n    const role = message.role;\n    switch(role){\n        case \"assistant\":\n            return {\n                ...commonProps,\n                role,\n                content: message.content.map((part)=>{\n                    if (part.type === \"tool-call\") {\n                        return {\n                            ...part,\n                            argsText: JSON.stringify(part.args)\n                        };\n                    }\n                    return part;\n                }),\n                status\n            };\n        case \"user\":\n            return {\n                ...commonProps,\n                role,\n                content: message.content,\n                attachments\n            };\n        case \"system\":\n            return {\n                ...commonProps,\n                role,\n                content: message.content\n            };\n        default:\n            {\n                const unsupportedRole = role;\n                throw new Error(`Unknown message role: ${unsupportedRole}`);\n            }\n    }\n};\n// src/runtimes/utils/MessageRepository.tsx\nvar findHead = (message)=>{\n    if (message.next) return findHead(message.next);\n    if (\"current\" in message) return message;\n    return null;\n};\nvar MessageRepository = class {\n    performOp(newParent, child, operation) {\n        const parentOrRoot = child.prev ?? this.root;\n        const newParentOrRoot = newParent ?? this.root;\n        if (operation === \"relink\" && parentOrRoot === newParentOrRoot) return;\n        if (operation !== \"link\") {\n            parentOrRoot.children = parentOrRoot.children.filter((m)=>m !== child.current.id);\n            if (parentOrRoot.next === child) {\n                const fallbackId = parentOrRoot.children.at(-1);\n                const fallback = fallbackId ? this.messages.get(fallbackId) : null;\n                if (fallback === void 0) {\n                    throw new Error(\"MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.\");\n                }\n                parentOrRoot.next = fallback;\n            }\n        }\n        if (operation !== \"cut\") {\n            for(let current = newParent; current; current = current.prev){\n                if (current.current.id === child.current.id) {\n                    throw new Error(\"MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.\");\n                }\n            }\n            newParentOrRoot.children = [\n                ...newParentOrRoot.children,\n                child.current.id\n            ];\n            if (findHead(child) === this.head || newParentOrRoot.next === null) {\n                newParentOrRoot.next = child;\n            }\n            child.prev = newParent;\n        }\n    }\n    getMessages() {\n        const messages2 = new Array(this.head?.level ?? 0);\n        for(let current = this.head; current; current = current.prev){\n            messages2[current.level] = current.current;\n        }\n        return messages2;\n    }\n    addOrUpdateMessage(parentId, message) {\n        const existingItem = this.messages.get(message.id);\n        const prev = parentId ? this.messages.get(parentId) : null;\n        if (prev === void 0) throw new Error(\"MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.\");\n        if (existingItem) {\n            existingItem.current = message;\n            this.performOp(prev, existingItem, \"relink\");\n            return;\n        }\n        const newItem = {\n            prev,\n            current: message,\n            next: null,\n            children: [],\n            level: prev ? prev.level + 1 : 0\n        };\n        this.messages.set(message.id, newItem);\n        this.performOp(prev, newItem, \"link\");\n        if (this.head === prev) {\n            this.head = newItem;\n        }\n    }\n    getMessage(messageId) {\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.\");\n        return {\n            parentId: message.prev?.current.id ?? null,\n            message: message.current\n        };\n    }\n    appendOptimisticMessage(parentId, message) {\n        let optimisticId;\n        do {\n            optimisticId = generateOptimisticId();\n        }while (this.messages.has(optimisticId));\n        this.addOrUpdateMessage(parentId, fromCoreMessage(message, {\n            id: optimisticId,\n            status: {\n                type: \"running\"\n            }\n        }));\n        return optimisticId;\n    }\n    deleteMessage(messageId, replacementId) {\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(deleteMessage): Optimistic message not found. This is likely an internal bug in assistant-ui.\");\n        const replacement = replacementId === void 0 ? message.prev : replacementId === null ? null : this.messages.get(replacementId);\n        if (replacement === void 0) throw new Error(\"MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.\");\n        for (const child of message.children){\n            const childMessage = this.messages.get(child);\n            if (!childMessage) throw new Error(\"MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.\");\n            this.performOp(replacement, childMessage, \"relink\");\n        }\n        this.performOp(null, message, \"cut\");\n        this.messages.delete(messageId);\n        if (this.head === message) {\n            this.head = findHead(replacement ?? this.root);\n        }\n    }\n    getBranches(messageId) {\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.\");\n        const { children } = message.prev ?? this.root;\n        return children;\n    }\n    switchToBranch(messageId) {\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.\");\n        const prevOrRoot = message.prev ?? this.root;\n        prevOrRoot.next = message;\n        this.head = findHead(message);\n    }\n    resetHead(messageId) {\n        if (messageId === null) {\n            this.head = null;\n            return;\n        }\n        const message = this.messages.get(messageId);\n        if (!message) throw new Error(\"MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.\");\n        this.head = message;\n        for(let current = message; current; current = current.prev){\n            if (current.prev) {\n                current.prev.next = current;\n            }\n        }\n    }\n    export() {\n        const exportItems = [];\n        for (const [, message] of this.messages){\n            exportItems.push({\n                message: message.current,\n                parentId: message.prev?.current.id ?? null\n            });\n        }\n        return {\n            headId: this.head?.current.id ?? null,\n            messages: exportItems\n        };\n    }\n    import({ headId, messages: messages2 }) {\n        for (const { message, parentId } of messages2){\n            this.addOrUpdateMessage(parentId, message);\n        }\n        this.resetHead(headId ?? messages2.at(-1)?.message.id ?? null);\n    }\n    constructor(){\n        this.messages = /* @__PURE__ */ new Map();\n        // message_id -> item\n        this.head = null;\n        this.root = {\n            children: [],\n            next: null\n        };\n    }\n};\n// src/ui/base/tooltip-icon-button.tsx\n\n// src/ui/base/tooltip.tsx\n\n// src/ui/utils/withDefaults.tsx\n\n\n\nvar withDefaultProps = ({ className, ...defaultProps })=>({ className: classNameProp, ...props })=>{\n        return {\n            className: classnames__WEBPACK_IMPORTED_MODULE_14__(className, classNameProp),\n            ...defaultProps,\n            ...props\n        };\n    };\nvar withDefaults = (Component, defaultProps)=>{\n    const getProps = withDefaultProps(defaultProps);\n    const WithDefaults = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n        const ComponentAsAny = Component;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComponentAsAny, {\n            ...getProps(props),\n            ref\n        });\n    });\n    WithDefaults.displayName = \"withDefaults(\" + (typeof Component === \"string\" ? Component : Component.displayName) + \")\";\n    return WithDefaults;\n};\n// src/ui/base/tooltip.tsx\n\nvar Tooltip = (props)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_15__.Provider, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_15__.Root, {\n            ...props\n        })\n    });\n};\nTooltip.displayName = \"Tooltip\";\nvar TooltipTrigger = _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_15__.Trigger;\nvar TooltipContent = withDefaults(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_15__.Content, {\n    sideOffset: 4,\n    className: \"aui-tooltip-content\"\n});\nTooltipContent.displayName = \"TooltipContent\";\n// src/ui/base/button.tsx\n\n\n\n\nvar buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_16__.cva)(\"aui-button\", {\n    variants: {\n        variant: {\n            default: \"aui-button-primary\",\n            outline: \"aui-button-outline\",\n            ghost: \"aui-button-ghost\"\n        },\n        size: {\n            default: \"aui-button-medium\",\n            icon: \"aui-button-icon\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nvar Button = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ className, variant, size, ...props }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.Primitive.button, {\n        className: buttonVariants({\n            variant,\n            size,\n            className\n        }),\n        ...props,\n        ref\n    });\n});\nButton.displayName = \"Button\";\n// src/ui/base/tooltip-icon-button.tsx\n\nvar TooltipIconButton = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ children, tooltip, side = \"bottom\", ...rest }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Tooltip, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipTrigger, {\n                asChild: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Button, {\n                    variant: \"ghost\",\n                    size: \"icon\",\n                    ...rest,\n                    ref,\n                    children: [\n                        children,\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", {\n                            className: \"aui-sr-only\",\n                            children: tooltip\n                        })\n                    ]\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipContent, {\n                side,\n                children: tooltip\n            })\n        ]\n    });\n});\nTooltipIconButton.displayName = \"TooltipIconButton\";\n// src/api/ThreadRuntime.ts\nvar toAppendMessage = (messages2, message)=>{\n    if (typeof message === \"string\") {\n        return {\n            parentId: messages2.at(-1)?.id ?? null,\n            role: \"user\",\n            content: [\n                {\n                    type: \"text\",\n                    text: message\n                }\n            ],\n            attachments: []\n        };\n    }\n    if (message.role && message.parentId && message.attachments) {\n        return message;\n    }\n    return {\n        parentId: message.parentId ?? messages2.at(-1)?.id ?? null,\n        role: message.role ?? \"user\",\n        content: message.content,\n        attachments: message.attachments ?? []\n    };\n};\nvar getThreadState = (runtime)=>{\n    const lastMessage = runtime.messages.at(-1);\n    return Object.freeze({\n        threadId: runtime.threadId,\n        capabilities: runtime.capabilities,\n        isDisabled: runtime.isDisabled,\n        isRunning: lastMessage?.role !== \"assistant\" ? false : lastMessage.status.type === \"running\",\n        messages: runtime.messages,\n        suggestions: runtime.suggestions,\n        extras: runtime.extras,\n        speech: runtime.speech\n    });\n};\nvar ThreadRuntimeImpl = class {\n    get path() {\n        return this._threadBinding.path;\n    }\n    /**\n   * @deprecated Use `getState().threadId` instead. This will be removed in 0.6.0.\n   */ get threadId() {\n        return this.getState().threadId;\n    }\n    /**\n   * @deprecated Use `getState().isDisabled` instead. This will be removed in 0.6.0.\n   */ get isDisabled() {\n        return this.getState().isDisabled;\n    }\n    /**\n   * @deprecated Use `getState().isRunning` instead. This will be removed in 0.6.0.\n   */ get isRunning() {\n        return this.getState().isRunning;\n    }\n    /**\n   * @deprecated Use `getState().capabilities` instead. This will be removed in 0.6.0.\n   */ get capabilities() {\n        return this.getState().capabilities;\n    }\n    /**\n   * @deprecated Use `getState().extras` instead. This will be removed in 0.6.0.\n   */ get extras() {\n        return this._threadBinding.getState().extras;\n    }\n    /**\n   * @deprecated Use `getState().followupSuggestions` instead. This will be removed in 0.6.0.\n   */ get suggestions() {\n        return this._threadBinding.getState().suggestions;\n    }\n    /**\n   * @deprecated Use `getState().messages` instead. This will be removed in 0.6.0.\n   */ get messages() {\n        return this._threadBinding.getState().messages;\n    }\n    /**\n   * @deprecated Use `getState().speechState` instead. This will be removed in 0.6.0.\n   */ get speech() {\n        return this._threadBinding.getState().speech;\n    }\n    unstable_getCore() {\n        return this._threadBinding.getState();\n    }\n    constructor(threadBinding){\n        this._eventListenerNestedSubscriptions = /* @__PURE__ */ new Map();\n        const stateBinding = new LazyMemoizeSubject({\n            path: threadBinding.path,\n            getState: ()=>getThreadState(threadBinding.getState()),\n            subscribe: (callback)=>threadBinding.subscribe(callback)\n        });\n        this._threadBinding = {\n            path: threadBinding.path,\n            getState: ()=>threadBinding.getState(),\n            getStateState: ()=>stateBinding.getState(),\n            outerSubscribe: (callback)=>threadBinding.outerSubscribe(callback),\n            subscribe: (callback)=>threadBinding.subscribe(callback)\n        };\n        this.composer = new ThreadComposerRuntimeImpl(new NestedSubscriptionSubject({\n            path: {\n                ...this.path,\n                ref: this.path.ref + `${this.path.ref}.composer`,\n                composerSource: \"thread\"\n            },\n            getState: ()=>this._threadBinding.getState().composer,\n            subscribe: (callback)=>this._threadBinding.subscribe(callback)\n        }));\n    }\n    getState() {\n        return this._threadBinding.getStateState();\n    }\n    append(message) {\n        this._threadBinding.getState().append(toAppendMessage(this._threadBinding.getState().messages, message));\n    }\n    subscribe(callback) {\n        return this._threadBinding.subscribe(callback);\n    }\n    /**\n   * @derprecated Use `getMesssageById(id).getState().branchNumber` / `getMesssageById(id).getState().branchCount` instead. This will be removed in 0.6.0.\n   */ getBranches(messageId) {\n        return this._threadBinding.getState().getBranches(messageId);\n    }\n    getModelConfig() {\n        return this._threadBinding.getState().getModelConfig();\n    }\n    // TODO sometimes you want to continue when there is no child message\n    startRun(parentId) {\n        return this._threadBinding.getState().startRun(parentId);\n    }\n    cancelRun() {\n        this._threadBinding.getState().cancelRun();\n    }\n    /**\n   * @deprecated Use `getMesssageById(id).getContentPartByToolCallId(toolCallId).addToolResult({ result })` instead. This will be removed in 0.6.0.\n   */ addToolResult(options) {\n        this._threadBinding.getState().addToolResult(options);\n    }\n    /**\n   * @deprecated Use `getMesssageById(id).switchToBranch({ options })` instead. This will be removed in 0.6.0.\n   */ switchToBranch(branchId) {\n        return this._threadBinding.getState().switchToBranch(branchId);\n    }\n    /**\n   * @deprecated Use `getMesssageById(id).speak()` instead. This will be removed in 0.6.0.\n   */ speak(messageId) {\n        return this._threadBinding.getState().speak(messageId);\n    }\n    stopSpeaking() {\n        return this._threadBinding.getState().stopSpeaking();\n    }\n    getSubmittedFeedback(messageId) {\n        return this._threadBinding.getState().getSubmittedFeedback(messageId);\n    }\n    /**\n   * @deprecated Use `getMesssageById(id).submitFeedback({ type })` instead. This will be removed in 0.6.0.\n   */ submitFeedback(options) {\n        return this._threadBinding.getState().submitFeedback(options);\n    }\n    /**\n   * @deprecated Use `getMesssageById(id).getMessageByIndex(idx).composer` instead. This will be removed in 0.6.0.\n   */ getEditComposer(messageId) {\n        return this._threadBinding.getState().getEditComposer(messageId);\n    }\n    /**\n   * @deprecated Use `getMesssageById(id).getMessageByIndex(idx).composer.beginEdit()` instead. This will be removed in 0.6.0.\n   */ beginEdit(messageId) {\n        return this._threadBinding.getState().beginEdit(messageId);\n    }\n    export() {\n        return this._threadBinding.getState().export();\n    }\n    import(data) {\n        this._threadBinding.getState().import(data);\n    }\n    getMesssageByIndex(idx) {\n        if (idx < 0) throw new Error(\"Message index must be >= 0\");\n        return this._getMessageRuntime({\n            ...this.path,\n            ref: this.path.ref + `${this.path.ref}.messages[${idx}]`,\n            messageSelector: {\n                type: \"index\",\n                index: idx\n            }\n        }, ()=>{\n            const messages2 = this._threadBinding.getState().messages;\n            const message = messages2[idx];\n            if (!message) return void 0;\n            return {\n                message,\n                parentId: messages2[idx - 1]?.id ?? null\n            };\n        });\n    }\n    getMesssageById(messageId) {\n        return this._getMessageRuntime({\n            ...this.path,\n            ref: this.path.ref + `${this.path.ref}.messages[messageId=${JSON.stringify(messageId)}]`,\n            messageSelector: {\n                type: \"messageId\",\n                messageId\n            }\n        }, ()=>this._threadBinding.getState().getMessageById(messageId));\n    }\n    _getMessageRuntime(path, callback) {\n        return new MessageRuntimeImpl(new ShallowMemoizeSubject({\n            path,\n            getState: ()=>{\n                const { message, parentId } = callback() ?? {};\n                const { messages: messages2, speech: speechState } = this._threadBinding.getState();\n                if (!message || parentId === void 0) return SKIP_UPDATE;\n                const thread = this._threadBinding.getState();\n                const branches = thread.getBranches(message.id);\n                const submittedFeedback = thread.getSubmittedFeedback(message.id);\n                return {\n                    ...message,\n                    message,\n                    isLast: messages2.at(-1)?.id === message.id,\n                    parentId,\n                    branches,\n                    branchNumber: branches.indexOf(message.id) + 1,\n                    branchCount: branches.length,\n                    speech: speechState?.messageId === message.id ? speechState : void 0,\n                    submittedFeedback\n                };\n            },\n            subscribe: (callback2)=>this._threadBinding.subscribe(callback2)\n        }), this._threadBinding);\n    }\n    unstable_on(event, callback) {\n        let subject = this._eventListenerNestedSubscriptions.get(event);\n        if (!subject) {\n            subject = new NestedSubscriptionSubject({\n                path: this.path,\n                getState: ()=>({\n                        subscribe: (callback2)=>this._threadBinding.getState().unstable_on(event, callback2)\n                    }),\n                subscribe: (callback2)=>this._threadBinding.outerSubscribe(callback2)\n            });\n            this._eventListenerNestedSubscriptions.set(event, subject);\n        }\n        return subject.subscribe(callback);\n    }\n};\n// src/api/AssistantRuntime.ts\nvar AssistantRuntimeImpl = class _AssistantRuntimeImpl {\n    constructor(_core, _thread){\n        this._core = _core;\n        this._thread = _thread;\n    }\n    get thread() {\n        return this._thread;\n    }\n    switchToNewThread() {\n        return this._core.switchToNewThread();\n    }\n    switchToThread(threadId) {\n        return this._core.switchToThread(threadId);\n    }\n    registerModelConfigProvider(provider) {\n        return this._core.registerModelConfigProvider(provider);\n    }\n    /**\n   * @deprecated Thread is now static and never gets updated. This will be removed in 0.6.0.\n   */ subscribe(callback) {\n        return this._core.subscribe(callback);\n    }\n    static createMainThreadRuntime(_core, CustomThreadRuntime = ThreadRuntimeImpl) {\n        return new CustomThreadRuntime(new NestedSubscriptionSubject({\n            path: {\n                ref: \"threads.main\",\n                threadSelector: {\n                    type: \"main\"\n                }\n            },\n            getState: ()=>_core.thread,\n            subscribe: (callback)=>_core.subscribe(callback)\n        }));\n    }\n    static create(_core, CustomThreadRuntime = ThreadRuntimeImpl) {\n        return new _AssistantRuntimeImpl(_core, _AssistantRuntimeImpl.createMainThreadRuntime(_core, CustomThreadRuntime));\n    }\n};\n// src/runtimes/edge/converters/fromLanguageModelMessages.ts\nvar fromLanguageModelMessages = (lm, { mergeSteps })=>{\n    const messages2 = [];\n    for (const lmMessage of lm){\n        const role = lmMessage.role;\n        switch(role){\n            case \"system\":\n                {\n                    messages2.push({\n                        role: \"system\",\n                        content: [\n                            {\n                                type: \"text\",\n                                text: lmMessage.content\n                            }\n                        ]\n                    });\n                    break;\n                }\n            case \"user\":\n                {\n                    messages2.push({\n                        role: \"user\",\n                        content: lmMessage.content.map((part)=>{\n                            const type = part.type;\n                            switch(type){\n                                case \"text\":\n                                    {\n                                        return {\n                                            type: \"text\",\n                                            text: part.text\n                                        };\n                                    }\n                                case \"image\":\n                                    {\n                                        if (part.image instanceof URL) {\n                                            return {\n                                                type: \"image\",\n                                                image: part.image.href\n                                            };\n                                        }\n                                        throw new Error(\"Only images with URL data are supported\");\n                                    }\n                                case \"file\":\n                                    {\n                                        throw new Error(\"File content parts are not supported\");\n                                    }\n                                default:\n                                    {\n                                        const unhandledType = type;\n                                        throw new Error(`Unknown content part type: ${unhandledType}`);\n                                    }\n                            }\n                        })\n                    });\n                    break;\n                }\n            case \"assistant\":\n                {\n                    const newContent = lmMessage.content.map((part)=>{\n                        if (part.type === \"tool-call\") {\n                            return {\n                                type: \"tool-call\",\n                                toolCallId: part.toolCallId,\n                                toolName: part.toolName,\n                                argsText: JSON.stringify(part.args),\n                                args: part.args\n                            };\n                        }\n                        return part;\n                    });\n                    if (mergeSteps) {\n                        const previousMessage = messages2[messages2.length - 1];\n                        if (previousMessage?.role === \"assistant\") {\n                            previousMessage.content.push(...newContent);\n                            break;\n                        }\n                    }\n                    messages2.push({\n                        role: \"assistant\",\n                        content: newContent\n                    });\n                    break;\n                }\n            case \"tool\":\n                {\n                    const previousMessage = messages2[messages2.length - 1];\n                    if (previousMessage?.role !== \"assistant\") throw new Error(\"A tool message must be preceded by an assistant message.\");\n                    for (const tool of lmMessage.content){\n                        const toolCall = previousMessage.content.find((c)=>c.type === \"tool-call\" && c.toolCallId === tool.toolCallId);\n                        if (!toolCall) throw new Error(\"Received tool result for an unknown tool call.\");\n                        if (toolCall.toolName !== tool.toolName) throw new Error(\"Tool call name mismatch.\");\n                        toolCall.result = tool.result;\n                        if (tool.isError) {\n                            toolCall.isError = true;\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    const unhandledRole = role;\n                    throw new Error(`Unknown message role: ${unhandledRole}`);\n                }\n        }\n    }\n    return messages2;\n};\n// src/runtimes/edge/converters/fromLanguageModelTools.ts\nvar fromLanguageModelTools = (tools)=>{\n    return Object.fromEntries(tools.map((tool)=>[\n            tool.name,\n            {\n                description: tool.description,\n                parameters: tool.parameters\n            }\n        ]));\n};\n// src/runtimes/edge/streams/utils/chunkByLineStream.ts\nfunction chunkByLineStream() {\n    let buffer = \"\";\n    return new TransformStream({\n        transform (chunk, controller) {\n            buffer += chunk;\n            const lines = buffer.split(\"\\n\");\n            for(let i = 0; i < lines.length - 1; i++){\n                controller.enqueue(lines[i]);\n            }\n            buffer = lines[lines.length - 1];\n        },\n        flush (controller) {\n            if (buffer) {\n                controller.enqueue(buffer);\n            }\n        }\n    });\n}\n// src/runtimes/edge/streams/utils/streamPartDecoderStream.ts\nvar decodeStreamPart = (part)=>{\n    const index = part.indexOf(\":\");\n    if (index === -1) throw new Error(\"Invalid stream part\");\n    return {\n        type: part.slice(0, index),\n        value: JSON.parse(part.slice(index + 1))\n    };\n};\nfunction streamPartDecoderStream() {\n    const decodeStream = new TransformStream({\n        transform (chunk, controller) {\n            controller.enqueue(decodeStreamPart(chunk));\n        }\n    });\n    return new _chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.PipeableTransformStream((readable)=>{\n        return readable.pipeThrough(new TextDecoderStream()).pipeThrough(chunkByLineStream()).pipeThrough(decodeStream);\n    });\n}\n// src/runtimes/edge/streams/utils/index.ts\nvar streamUtils = {\n    streamPartEncoderStream: _chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.streamPartEncoderStream,\n    streamPartDecoderStream\n};\n// src/runtimes/edge/useEdgeRuntime.ts\n\n// src/runtimes/edge/streams/assistantDecoderStream.ts\nfunction assistantDecoderStream() {\n    const toolCallNames = /* @__PURE__ */ new Map();\n    let currentToolCall;\n    return new TransformStream({\n        transform ({ type, value }, controller) {\n            if (currentToolCall && type !== \"c\" /* ToolCallDelta */  && type !== \"3\" /* Error */ ) {\n                controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallType: \"function\",\n                    toolCallId: currentToolCall.id,\n                    toolName: currentToolCall.name,\n                    args: currentToolCall.argsText\n                });\n                currentToolCall = void 0;\n            }\n            switch(type){\n                case \"0\" /* TextDelta */ :\n                    {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: value\n                        });\n                        break;\n                    }\n                case \"b\" /* ToolCallBegin */ :\n                    {\n                        const { toolCallId: id, toolName: name } = value;\n                        toolCallNames.set(id, name);\n                        currentToolCall = {\n                            id,\n                            name,\n                            argsText: \"\"\n                        };\n                        controller.enqueue({\n                            type: \"tool-call-delta\",\n                            toolCallType: \"function\",\n                            toolCallId: id,\n                            toolName: name,\n                            argsTextDelta: \"\"\n                        });\n                        break;\n                    }\n                case \"c\" /* ToolCallDelta */ :\n                    {\n                        const { toolCallId, argsTextDelta } = value;\n                        const toolName = toolCallNames.get(toolCallId);\n                        if (currentToolCall?.id === toolCallId) {\n                            currentToolCall.argsText += argsTextDelta;\n                        }\n                        controller.enqueue({\n                            type: \"tool-call-delta\",\n                            toolCallType: \"function\",\n                            toolCallId,\n                            toolName,\n                            argsTextDelta\n                        });\n                        break;\n                    }\n                case \"a\" /* ToolCallResult */ :\n                    {\n                        controller.enqueue({\n                            type: \"tool-result\",\n                            toolCallType: \"function\",\n                            toolCallId: value.toolCallId,\n                            toolName: toolCallNames.get(value.toolCallId),\n                            result: value.result\n                        });\n                        break;\n                    }\n                case \"d\" /* Finish */ :\n                    {\n                        controller.enqueue({\n                            type: \"finish\",\n                            ...value\n                        });\n                        break;\n                    }\n                case \"3\" /* Error */ :\n                    {\n                        controller.enqueue({\n                            type: \"error\",\n                            error: value\n                        });\n                        break;\n                    }\n                case \"9\" /* ToolCall */ :\n                    {\n                        const { toolCallId, toolName, args } = value;\n                        const argsText = JSON.stringify(args);\n                        controller.enqueue({\n                            type: \"tool-call-delta\",\n                            toolCallType: \"function\",\n                            toolCallId,\n                            toolName,\n                            argsTextDelta: argsText\n                        });\n                        controller.enqueue({\n                            type: \"tool-call\",\n                            toolCallType: \"function\",\n                            toolCallId,\n                            toolName,\n                            args: argsText\n                        });\n                        break;\n                    }\n                case \"e\" /* StepFinish */ :\n                    {\n                        controller.enqueue({\n                            type: \"step-finish\",\n                            ...value\n                        });\n                        break;\n                    }\n                // TODO\n                case \"2\" /* Data */ :\n                    break;\n                default:\n                    {\n                        const unhandledType = type;\n                        throw new Error(`Unhandled chunk type: ${unhandledType}`);\n                    }\n            }\n        }\n    });\n}\n// src/runtimes/edge/EdgeChatAdapter.ts\nfunction asAsyncIterable(source) {\n    return {\n        [Symbol.asyncIterator]: ()=>{\n            const reader = source.getReader();\n            return {\n                async next () {\n                    const { done, value } = await reader.read();\n                    return done ? {\n                        done: true,\n                        value: void 0\n                    } : {\n                        done: false,\n                        value\n                    };\n                }\n            };\n        }\n    };\n}\nvar EdgeChatAdapter = class {\n    constructor(options){\n        this.options = options;\n    }\n    async *run({ messages: messages2, abortSignal, config }) {\n        const headers = new Headers(this.options.headers);\n        headers.set(\"Content-Type\", \"application/json\");\n        const result = await fetch(this.options.api, {\n            method: \"POST\",\n            headers,\n            credentials: this.options.credentials ?? \"same-origin\",\n            body: JSON.stringify({\n                system: config.system,\n                messages: (0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toCoreMessages)(messages2),\n                tools: config.tools ? (0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toLanguageModelTools)(config.tools) : [],\n                ...config.callSettings,\n                ...config.config,\n                ...this.options.body\n            }),\n            signal: abortSignal\n        });\n        if (!result.ok) {\n            throw new Error(`Status ${result.status}: ${await result.text()}`);\n        }\n        const stream = result.body.pipeThrough(streamPartDecoderStream()).pipeThrough(assistantDecoderStream()).pipeThrough((0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toolResultStream)(config.tools, abortSignal)).pipeThrough((0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.runResultStream)());\n        let update;\n        for await (update of asAsyncIterable(stream)){\n            yield update;\n        }\n        if (update === void 0) throw new Error(\"No data received from Edge Runtime\");\n    }\n};\n// src/runtimes/local/LocalRuntimeOptions.tsx\nvar splitLocalRuntimeOptions = (options)=>{\n    const { initialMessages, maxToolRoundtrips, maxSteps, adapters, ...rest } = options;\n    return {\n        localRuntimeOptions: {\n            initialMessages,\n            maxToolRoundtrips,\n            maxSteps,\n            adapters\n        },\n        otherOptions: rest\n    };\n};\n// src/runtimes/edge/useEdgeRuntime.ts\nvar useEdgeRuntime = (options)=>{\n    const { localRuntimeOptions, otherOptions } = splitLocalRuntimeOptions(options);\n    const [adapter] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new EdgeChatAdapter(otherOptions));\n    return useLocalRuntime(adapter, localRuntimeOptions);\n};\n// src/runtimes/local/shouldContinue.tsx\nvar shouldContinue = (result)=>result.status?.type === \"requires-action\" && result.status.reason === \"tool-calls\" && result.content.every((c)=>c.type !== \"tool-call\" || !!c.result);\n// src/runtimes/composer/DefaultEditComposerRuntimeCore.tsx\nvar DefaultEditComposerRuntimeCore = class extends BaseComposerRuntimeCore {\n    constructor(runtime, endEditCallback, { parentId, message }){\n        super();\n        this.runtime = runtime;\n        this.endEditCallback = endEditCallback;\n        this._parentId = parentId;\n        this._previousText = getThreadMessageText(message);\n        this.setText(this._previousText);\n        this._nonTextParts = message.content.filter((part)=>part.type !== \"text\" && part.type !== \"ui\");\n        this.attachments = message.attachments ?? [];\n    }\n    get canCancel() {\n        return true;\n    }\n    getAttachmentAdapter() {\n        return this.runtime.adapters?.attachments;\n    }\n    async handleSend(message) {\n        const text = getThreadMessageText(message);\n        if (text !== this._previousText) {\n            this.runtime.append({\n                ...message,\n                content: [\n                    ...message.content,\n                    ...this._nonTextParts\n                ],\n                parentId: this._parentId\n            });\n        }\n        this.endEditCallback();\n        this.notifySubscribers();\n    }\n    async cancel() {\n        this.endEditCallback();\n        this.notifySubscribers();\n    }\n};\n// src/runtimes/core/BaseThreadRuntimeCore.tsx\nvar BaseThreadRuntimeCore = class {\n    constructor(configProvider){\n        this._subscriptions = /* @__PURE__ */ new Set();\n        this.repository = new MessageRepository();\n        this.composer = new DefaultThreadComposerRuntimeCore(this);\n        this._editComposers = /* @__PURE__ */ new Map();\n        this._submittedFeedback = {};\n        this._eventSubscribers = /* @__PURE__ */ new Map();\n        this.configProvider = configProvider;\n        this.configProvider.subscribe?.(()=>{\n            this._notifyEventSubscribers(\"model-config-update\");\n        });\n    }\n    get messages() {\n        return this.repository.getMessages();\n    }\n    getModelConfig() {\n        return this.configProvider.getModelConfig();\n    }\n    getEditComposer(messageId) {\n        return this._editComposers.get(messageId);\n    }\n    beginEdit(messageId) {\n        if (this._editComposers.has(messageId)) throw new Error(\"Edit already in progress\");\n        this._editComposers.set(messageId, new DefaultEditComposerRuntimeCore(this, ()=>this._editComposers.delete(messageId), this.repository.getMessage(messageId)));\n        this._notifySubscribers();\n    }\n    getMessageById(messageId) {\n        return this.repository.getMessage(messageId);\n    }\n    getBranches(messageId) {\n        return this.repository.getBranches(messageId);\n    }\n    switchToBranch(branchId) {\n        this.repository.switchToBranch(branchId);\n        this._notifySubscribers();\n    }\n    _notifySubscribers() {\n        for (const callback of this._subscriptions)callback();\n    }\n    _notifyEventSubscribers(event) {\n        const subscribers = this._eventSubscribers.get(event);\n        if (!subscribers) return;\n        for (const callback of subscribers)callback();\n    }\n    subscribe(callback) {\n        this._subscriptions.add(callback);\n        return ()=>this._subscriptions.delete(callback);\n    }\n    getSubmittedFeedback(messageId) {\n        return this._submittedFeedback[messageId];\n    }\n    submitFeedback({ messageId, type }) {\n        const adapter = this.adapters?.feedback;\n        if (!adapter) throw new Error(\"Feedback adapter not configured\");\n        const { message } = this.repository.getMessage(messageId);\n        adapter.submit({\n            message,\n            type\n        });\n        this._submittedFeedback[messageId] = {\n            type\n        };\n        this._notifySubscribers();\n    }\n    speak(messageId) {\n        const adapter = this.adapters?.speech;\n        if (!adapter) throw new Error(\"Speech adapter not configured\");\n        const { message } = this.repository.getMessage(messageId);\n        this._stopSpeaking?.();\n        const utterance = adapter.speak(getThreadMessageText(message));\n        const unsub = utterance.subscribe(()=>{\n            if (utterance.status.type === \"ended\") {\n                this._stopSpeaking = void 0;\n                this.speech = void 0;\n            } else {\n                this.speech = {\n                    messageId,\n                    status: utterance.status\n                };\n            }\n            this._notifySubscribers();\n        });\n        this.speech = {\n            messageId,\n            status: utterance.status\n        };\n        this._notifySubscribers();\n        this._stopSpeaking = ()=>{\n            utterance.cancel();\n            unsub();\n            this.speech = void 0;\n            this._stopSpeaking = void 0;\n        };\n    }\n    stopSpeaking() {\n        if (!this._stopSpeaking) throw new Error(\"No message is being spoken\");\n        this._stopSpeaking();\n        this._notifySubscribers();\n    }\n    export() {\n        return this.repository.export();\n    }\n    import(data) {\n        this.repository.import(data);\n        this._notifySubscribers();\n    }\n    unstable_on(event, callback) {\n        const subscribers = this._eventSubscribers.get(event);\n        if (!subscribers) {\n            this._eventSubscribers.set(event, /* @__PURE__ */ new Set([\n                callback\n            ]));\n        } else {\n            subscribers.add(callback);\n        }\n        return ()=>{\n            const subscribers2 = this._eventSubscribers.get(event);\n            subscribers2.delete(callback);\n        };\n    }\n};\n// src/runtimes/local/LocalThreadRuntimeCore.tsx\nvar LocalThreadRuntimeCore = class extends BaseThreadRuntimeCore {\n    constructor(configProvider, adapter, { initialMessages, ...options }){\n        super(configProvider);\n        this.capabilities = {\n            switchToBranch: true,\n            edit: true,\n            reload: true,\n            cancel: true,\n            unstable_copy: true,\n            speech: false,\n            attachments: false,\n            feedback: false\n        };\n        this.abortController = null;\n        this.isDisabled = false;\n        this.suggestions = [];\n        this.adapter = adapter;\n        this.threadId = generateId();\n        this.options = options;\n        if (initialMessages) {\n            let parentId = null;\n            const messages2 = fromCoreMessages(initialMessages);\n            for (const message of messages2){\n                this.repository.addOrUpdateMessage(parentId, message);\n                parentId = message.id;\n            }\n        }\n    }\n    get adapters() {\n        return this.options.adapters;\n    }\n    get options() {\n        return this._options;\n    }\n    get extras() {\n        return void 0;\n    }\n    set options({ initialMessages, ...options }) {\n        this._options = options;\n        let hasUpdates = false;\n        const canSpeak = options.adapters?.speech !== void 0;\n        if (this.capabilities.speech !== canSpeak) {\n            this.capabilities.speech = canSpeak;\n            hasUpdates = true;\n        }\n        const canAttach = options.adapters?.attachments !== void 0;\n        if (this.capabilities.attachments !== canAttach) {\n            this.capabilities.attachments = canAttach;\n            hasUpdates = true;\n        }\n        const canFeedback = options.adapters?.feedback !== void 0;\n        if (this.capabilities.feedback !== canFeedback) {\n            this.capabilities.feedback = canFeedback;\n            hasUpdates = true;\n        }\n        if (hasUpdates) this._notifySubscribers();\n    }\n    async append(message) {\n        const newMessage = fromCoreMessage(message, {\n            attachments: message.attachments\n        });\n        this.repository.addOrUpdateMessage(message.parentId, newMessage);\n        if (message.role === \"user\") {\n            await this.startRun(newMessage.id);\n        } else {\n            this.repository.resetHead(newMessage.id);\n            this._notifySubscribers();\n        }\n    }\n    async startRun(parentId) {\n        this.repository.resetHead(parentId);\n        const id = generateId();\n        let message = {\n            id,\n            role: \"assistant\",\n            status: {\n                type: \"running\"\n            },\n            content: [],\n            createdAt: /* @__PURE__ */ new Date()\n        };\n        this._notifyEventSubscribers(\"run-start\");\n        do {\n            message = await this.performRoundtrip(parentId, message);\n        }while (shouldContinue(message));\n    }\n    async performRoundtrip(parentId, message) {\n        const messages2 = this.repository.getMessages();\n        this.abortController?.abort();\n        this.abortController = new AbortController();\n        const initialContent = message.content;\n        const initialSteps = message.metadata?.steps;\n        const initalCustom = message.metadata?.custom;\n        const updateMessage = (m)=>{\n            const newSteps = m.metadata?.steps || m.metadata?.roundtrips;\n            const steps2 = newSteps ? [\n                ...initialSteps ?? [],\n                ...newSteps\n            ] : void 0;\n            message = {\n                ...message,\n                ...m.content ? {\n                    content: [\n                        ...initialContent,\n                        ...m.content ?? []\n                    ]\n                } : void 0,\n                status: m.status ?? message.status,\n                // TODO deprecated, remove in v0.6\n                ...steps2 ? {\n                    roundtrips: steps2\n                } : void 0,\n                ...m.metadata ? {\n                    metadata: {\n                        ...message.metadata,\n                        ...steps2 ? {\n                            roundtrips: steps2,\n                            steps: steps2\n                        } : void 0,\n                        ...m.metadata?.custom ? {\n                            custom: {\n                                ...initalCustom ?? {},\n                                ...m.metadata.custom\n                            }\n                        } : void 0\n                    }\n                } : void 0\n            };\n            this.repository.addOrUpdateMessage(parentId, message);\n            this._notifySubscribers();\n        };\n        const maxSteps = this.options.maxSteps ? this.options.maxSteps : (this.options.maxToolRoundtrips ?? 1) + 1;\n        const steps = message.metadata?.steps?.length ?? 0;\n        if (steps >= maxSteps) {\n            updateMessage({\n                status: {\n                    type: \"incomplete\",\n                    reason: \"tool-calls\"\n                }\n            });\n            return message;\n        } else {\n            updateMessage({\n                status: {\n                    type: \"running\"\n                }\n            });\n        }\n        try {\n            const promiseOrGenerator = this.adapter.run({\n                messages: messages2,\n                abortSignal: this.abortController.signal,\n                config: this.getModelConfig(),\n                onUpdate: updateMessage\n            });\n            if (Symbol.asyncIterator in promiseOrGenerator) {\n                for await (const r of promiseOrGenerator){\n                    updateMessage(r);\n                }\n            } else {\n                updateMessage(await promiseOrGenerator);\n            }\n            this.abortController = null;\n            if (message.status.type === \"running\") {\n                updateMessage({\n                    status: {\n                        type: \"complete\",\n                        reason: \"unknown\"\n                    }\n                });\n            }\n        } catch (e) {\n            this.abortController = null;\n            if (e instanceof Error && e.name === \"AbortError\") {\n                updateMessage({\n                    status: {\n                        type: \"incomplete\",\n                        reason: \"cancelled\"\n                    }\n                });\n            } else {\n                updateMessage({\n                    status: {\n                        type: \"incomplete\",\n                        reason: \"error\",\n                        error: e\n                    }\n                });\n                throw e;\n            }\n        }\n        return message;\n    }\n    cancelRun() {\n        this.abortController?.abort();\n        this.abortController = null;\n    }\n    addToolResult({ messageId, toolCallId, result }) {\n        const messageData = this.repository.getMessage(messageId);\n        const { parentId } = messageData;\n        let { message } = messageData;\n        if (message.role !== \"assistant\") throw new Error(\"Tried to add tool result to non-assistant message\");\n        let added = false;\n        let found = false;\n        const newContent = message.content.map((c)=>{\n            if (c.type !== \"tool-call\") return c;\n            if (c.toolCallId !== toolCallId) return c;\n            found = true;\n            if (!c.result) added = true;\n            return {\n                ...c,\n                result\n            };\n        });\n        if (!found) throw new Error(\"Tried to add tool result to non-existing tool call\");\n        message = {\n            ...message,\n            content: newContent\n        };\n        this.repository.addOrUpdateMessage(parentId, message);\n        if (added && shouldContinue(message)) {\n            this.performRoundtrip(parentId, message);\n        }\n    }\n};\n// src/runtimes/local/LocalRuntimeCore.tsx\nvar LocalRuntimeCore = class extends BaseAssistantRuntimeCore {\n    constructor(adapter, options){\n        const proxyConfigProvider = new ProxyConfigProvider();\n        super(new LocalThreadRuntimeCore(proxyConfigProvider, adapter, options));\n        this._proxyConfigProvider = proxyConfigProvider;\n    }\n    registerModelConfigProvider(provider) {\n        return this._proxyConfigProvider.registerModelConfigProvider(provider);\n    }\n    switchToNewThread() {\n        const { initialMessages, ...options } = this.thread.options;\n        this.thread = new LocalThreadRuntimeCore(this._proxyConfigProvider, this.thread.adapter, options);\n        this.thread._notifyEventSubscribers(\"switched-to\");\n    }\n    switchToThread(threadId) {\n        if (threadId !== null) {\n            throw new Error(\"LocalRuntime does not yet support switching threads\");\n        }\n        this.switchToNewThread();\n    }\n    reset({ initialMessages } = {}) {\n        this.switchToThread(null);\n        if (!initialMessages) return;\n        const messages2 = fromCoreMessages(initialMessages);\n        this.thread.import({\n            messages: messages2.map((m, idx)=>({\n                    parentId: messages2[idx - 1]?.id ?? null,\n                    message: m\n                }))\n        });\n    }\n};\n// src/runtimes/local/useLocalRuntime.tsx\nvar LocalRuntimeImpl = class _LocalRuntimeImpl extends AssistantRuntimeImpl {\n    constructor(core, thread){\n        super(core, thread);\n        this.core = core;\n    }\n    reset(options) {\n        this.core.reset(options);\n    }\n    static create(_core) {\n        return new _LocalRuntimeImpl(_core, AssistantRuntimeImpl.createMainThreadRuntime(_core, ThreadRuntimeImpl));\n    }\n};\nvar useLocalRuntime = (adapter, options = {})=>{\n    const [runtime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new LocalRuntimeCore(adapter, options));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useInsertionEffect)(()=>{\n        runtime.thread.adapter = adapter;\n        runtime.thread.options = options;\n    });\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>LocalRuntimeImpl.create(runtime), [\n        runtime\n    ]);\n};\n// src/runtimes/external-store/useExternalStoreRuntime.tsx\n\n// src/runtimes/external-store/getExternalStoreMessage.tsx\nvar symbolInnerMessage = Symbol(\"innerMessage\");\nvar getExternalStoreMessage = (message)=>{\n    return message[symbolInnerMessage];\n};\n// src/runtimes/external-store/ThreadMessageConverter.ts\nvar ThreadMessageConverter = class {\n    convertMessages(messages2, converter) {\n        return messages2.map((m, idx)=>{\n            const cached = this.cache.get(m);\n            const newMessage = converter(cached, m, idx);\n            this.cache.set(m, newMessage);\n            return newMessage;\n        });\n    }\n    constructor(){\n        this.cache = /* @__PURE__ */ new WeakMap();\n    }\n};\n// src/runtimes/external-store/auto-status.tsx\nvar AUTO_STATUS_RUNNING = Object.freeze({\n    type: \"running\"\n});\nvar AUTO_STATUS_COMPLETE = Object.freeze({\n    type: \"complete\",\n    reason: \"unknown\"\n});\nvar isAutoStatus = (status)=>status === AUTO_STATUS_RUNNING || status === AUTO_STATUS_COMPLETE;\nvar getAutoStatus = (isLast, isRunning)=>isLast && isRunning ? AUTO_STATUS_RUNNING : AUTO_STATUS_COMPLETE;\n// src/runtimes/external-store/ThreadMessageLike.tsx\nvar fromThreadMessageLike = (like, fallbackId, fallbackStatus)=>{\n    const { role, id, createdAt, attachments, status } = like;\n    const common = {\n        id: id ?? fallbackId,\n        createdAt: createdAt ?? /* @__PURE__ */ new Date()\n    };\n    const content = typeof like.content === \"string\" ? [\n        {\n            type: \"text\",\n            text: like.content\n        }\n    ] : like.content;\n    if (role !== \"user\" && attachments) throw new Error(\"Attachments are only supported for user messages\");\n    switch(role){\n        case \"assistant\":\n            return {\n                ...common,\n                role,\n                content: content.map((part)=>{\n                    const type = part.type;\n                    switch(type){\n                        case \"text\":\n                            if (part.text.trim().length === 0) return null;\n                            return part;\n                        case \"ui\":\n                            return part;\n                        case \"tool-call\":\n                            {\n                                if (\"argsText\" in part) return part;\n                                return {\n                                    ...part,\n                                    argsText: JSON.stringify(part.args)\n                                };\n                            }\n                        default:\n                            {\n                                const unhandledType = type;\n                                throw new Error(`Unknown content part type: ${unhandledType}`);\n                            }\n                    }\n                }).filter((c)=>!!c),\n                status: status ?? fallbackStatus\n            };\n        case \"user\":\n            return {\n                ...common,\n                role,\n                content: content.map((part)=>{\n                    const type = part.type;\n                    switch(type){\n                        case \"text\":\n                        case \"ui\":\n                        case \"image\":\n                            return part;\n                        default:\n                            {\n                                const unhandledType = type;\n                                throw new Error(`Unknown content part type: ${unhandledType}`);\n                            }\n                    }\n                }),\n                attachments: attachments ?? []\n            };\n        case \"system\":\n            if (content.length !== 1 || content[0].type !== \"text\") throw new Error(\"System messages must have exactly one text content part.\");\n            return {\n                ...common,\n                role,\n                content\n            };\n        default:\n            {\n                const unsupportedRole = role;\n                throw new Error(`Unknown message role: ${unsupportedRole}`);\n            }\n    }\n};\n// src/runtimes/external-store/ExternalStoreThreadRuntimeCore.tsx\nvar EMPTY_ARRAY2 = Object.freeze([]);\nvar hasUpcomingMessage = (isRunning, messages2)=>{\n    return isRunning && messages2[messages2.length - 1]?.role !== \"assistant\";\n};\nvar ExternalStoreThreadRuntimeCore = class extends BaseThreadRuntimeCore {\n    get capabilities() {\n        return this._capabilities;\n    }\n    get messages() {\n        return this._messages;\n    }\n    get adapters() {\n        return this._store.adapters;\n    }\n    beginEdit(messageId) {\n        if (!this.store.onEdit) throw new Error(\"Runtime does not support editing.\");\n        super.beginEdit(messageId);\n    }\n    constructor(configProvider, store){\n        super(configProvider);\n        this.assistantOptimisticId = null;\n        this._capabilities = {\n            switchToBranch: false,\n            edit: false,\n            reload: false,\n            cancel: false,\n            unstable_copy: false,\n            speech: false,\n            attachments: false,\n            feedback: false\n        };\n        this.suggestions = [];\n        this.extras = void 0;\n        this._converter = new ThreadMessageConverter();\n        this.updateMessages = (messages2)=>{\n            this._store.setMessages?.(messages2.flatMap(getExternalStoreMessage).filter((m)=>m != null));\n        };\n        this.store = store;\n    }\n    get store() {\n        return this._store;\n    }\n    set store(store) {\n        if (this._store === store) return;\n        this.threadId = store.threadId ?? this.threadId ?? generateId();\n        const isRunning = store.isRunning ?? false;\n        this.isDisabled = store.isDisabled ?? false;\n        const oldStore = this._store;\n        this._store = store;\n        this.extras = store.extras;\n        this.suggestions = store.suggestions ?? EMPTY_ARRAY2;\n        this._capabilities = {\n            switchToBranch: this._store.setMessages !== void 0,\n            edit: this._store.onEdit !== void 0,\n            reload: this._store.onReload !== void 0,\n            cancel: this._store.onCancel !== void 0,\n            speech: this._store.adapters?.speech !== void 0,\n            unstable_copy: this._store.unstable_capabilities?.copy !== false,\n            // default true\n            attachments: !!this.store.adapters?.attachments,\n            feedback: !!this.store.adapters?.feedback\n        };\n        if (oldStore) {\n            if (oldStore.convertMessage !== store.convertMessage) {\n                this._converter = new ThreadMessageConverter();\n            } else if (oldStore.isRunning === store.isRunning && oldStore.messages === store.messages) {\n                this._notifySubscribers();\n                return;\n            }\n        }\n        const messages2 = !store.convertMessage ? store.messages : this._converter.convertMessages(store.messages, (cache, m, idx)=>{\n            if (!store.convertMessage) return m;\n            const isLast = idx === store.messages.length - 1;\n            const autoStatus = getAutoStatus(isLast, isRunning);\n            if (cache && (cache.role !== \"assistant\" || !isAutoStatus(cache.status) || cache.status === autoStatus)) return cache;\n            const newMessage = fromThreadMessageLike(store.convertMessage(m, idx), idx.toString(), autoStatus);\n            newMessage[symbolInnerMessage] = m;\n            return newMessage;\n        });\n        for(let i = 0; i < messages2.length; i++){\n            const message = messages2[i];\n            const parent = messages2[i - 1];\n            this.repository.addOrUpdateMessage(parent?.id ?? null, message);\n        }\n        if (this.assistantOptimisticId) {\n            this.repository.deleteMessage(this.assistantOptimisticId);\n            this.assistantOptimisticId = null;\n        }\n        if (hasUpcomingMessage(isRunning, messages2)) {\n            this.assistantOptimisticId = this.repository.appendOptimisticMessage(messages2.at(-1)?.id ?? null, {\n                role: \"assistant\",\n                content: []\n            });\n        }\n        this.repository.resetHead(this.assistantOptimisticId ?? messages2.at(-1)?.id ?? null);\n        this._messages = this.repository.getMessages();\n        this._notifySubscribers();\n    }\n    switchToBranch(branchId) {\n        if (!this._store.setMessages) throw new Error(\"Runtime does not support switching branches.\");\n        this.repository.switchToBranch(branchId);\n        this.updateMessages(this.repository.getMessages());\n    }\n    async append(message) {\n        if (message.parentId !== (this.messages.at(-1)?.id ?? null)) {\n            if (!this._store.onEdit) throw new Error(\"Runtime does not support editing messages.\");\n            await this._store.onEdit(message);\n        } else {\n            await this._store.onNew(message);\n        }\n    }\n    async startRun(parentId) {\n        if (!this._store.onReload) throw new Error(\"Runtime does not support reloading messages.\");\n        await this._store.onReload(parentId);\n    }\n    cancelRun() {\n        if (!this._store.onCancel) throw new Error(\"Runtime does not support cancelling runs.\");\n        this._store.onCancel();\n        if (this.assistantOptimisticId) {\n            this.repository.deleteMessage(this.assistantOptimisticId);\n            this.assistantOptimisticId = null;\n        }\n        let messages2 = this.repository.getMessages();\n        const previousMessage = messages2[messages2.length - 1];\n        if (previousMessage?.role === \"user\" && previousMessage.id === messages2.at(-1)?.id) {\n            this.repository.deleteMessage(previousMessage.id);\n            if (!this.composer.text.trim()) {\n                this.composer.setText(getThreadMessageText(previousMessage));\n            }\n            messages2 = this.repository.getMessages();\n        } else {\n            this._notifySubscribers();\n        }\n        setTimeout(()=>{\n            this.updateMessages(messages2);\n        }, 0);\n    }\n    addToolResult(options) {\n        if (!this._store.onAddToolResult) throw new Error(\"Runtime does not support tool results.\");\n        this._store.onAddToolResult(options);\n    }\n};\n// src/runtimes/external-store/ExternalStoreRuntimeCore.tsx\nvar ExternalStoreRuntimeCore = class extends BaseAssistantRuntimeCore {\n    constructor(store){\n        const provider = new ProxyConfigProvider();\n        super(new ExternalStoreThreadRuntimeCore(provider, store));\n        this._proxyConfigProvider = provider;\n    }\n    getModelConfig() {\n        return this._proxyConfigProvider.getModelConfig();\n    }\n    registerModelConfigProvider(provider) {\n        return this._proxyConfigProvider.registerModelConfigProvider(provider);\n    }\n    async switchToNewThread() {\n        if (!this.thread.store.onSwitchToNewThread) throw new Error(\"Runtime does not support switching to new threads.\");\n        this.thread = new ExternalStoreThreadRuntimeCore(this._proxyConfigProvider, {\n            ...this.thread.store,\n            messages: []\n        });\n        await this.thread.store.onSwitchToNewThread();\n        this.thread._notifyEventSubscribers(\"switched-to\");\n    }\n    async switchToThread(threadId) {\n        if (threadId !== null) {\n            if (!this.thread.store.onSwitchToThread) throw new Error(\"Runtime does not support switching threads.\");\n            this.thread = new ExternalStoreThreadRuntimeCore(this._proxyConfigProvider, {\n                ...this.thread.store,\n                messages: []\n            });\n            await this.thread.store.onSwitchToThread(threadId);\n            this.thread._notifyEventSubscribers(\"switched-to\");\n        } else {\n            this.switchToNewThread();\n        }\n    }\n};\n// src/runtimes/external-store/useExternalStoreRuntime.tsx\nvar useExternalStoreRuntime = (store)=>{\n    const [runtime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new ExternalStoreRuntimeCore(store));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        runtime.thread.store = store;\n    });\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>AssistantRuntimeImpl.create(runtime, ThreadRuntimeImpl), [\n        runtime\n    ]);\n};\n// src/runtimes/external-store/external-message-converter.tsx\n\nvar joinExternalMessages = (messages2)=>{\n    const assistantMessage = {\n        role: \"assistant\",\n        content: []\n    };\n    for (const output of messages2){\n        if (output.role === \"tool\") {\n            const toolCallIdx = assistantMessage.content.findIndex((c)=>c.type === \"tool-call\" && c.toolCallId === output.toolCallId);\n            if (toolCallIdx !== -1) {\n                const toolCall = assistantMessage.content[toolCallIdx];\n                if (output.toolName) {\n                    if (toolCall.toolName !== output.toolName) throw new Error(`Tool call name ${output.toolCallId} ${output.toolName} does not match existing tool call ${toolCall.toolName}`);\n                }\n                assistantMessage.content[toolCallIdx] = {\n                    ...toolCall,\n                    result: output.result\n                };\n            } else {\n                throw new Error(`Tool call ${output.toolCallId} ${output.toolName} not found in assistant message`);\n            }\n        } else {\n            const role = output.role;\n            switch(role){\n                case \"system\":\n                case \"user\":\n                    return output;\n                case \"assistant\":\n                    if (assistantMessage.content.length === 0) {\n                        assistantMessage.id = output.id;\n                        assistantMessage.createdAt ??= output.createdAt;\n                        assistantMessage.status ??= output.status;\n                    }\n                    assistantMessage.content.push(...output.content);\n                    break;\n                default:\n                    {\n                        const unsupportedRole = role;\n                        throw new Error(`Unknown message role: ${unsupportedRole}`);\n                    }\n            }\n        }\n    }\n    return assistantMessage;\n};\nvar chunkExternalMessages = (callbackResults)=>{\n    const results = [];\n    let isAssistant = false;\n    let inputs = [];\n    let outputs = [];\n    const flush = ()=>{\n        if (outputs.length) {\n            results.push({\n                inputs,\n                outputs\n            });\n        }\n        inputs = [];\n        outputs = [];\n    };\n    for (const callbackResult of callbackResults){\n        for (const output of callbackResult.outputs){\n            if (!isAssistant || output.role === \"user\" || output.role === \"system\") {\n                flush();\n            }\n            isAssistant = output.role === \"assistant\" || output.role === \"tool\";\n            if (inputs.at(-1) !== callbackResult.input) {\n                inputs.push(callbackResult.input);\n            }\n            outputs.push(output);\n        }\n    }\n    flush();\n    return results;\n};\nvar useExternalMessageConverter = ({ callback, messages: messages2, isRunning })=>{\n    const state = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            callback,\n            callbackCache: /* @__PURE__ */ new WeakMap(),\n            chunkCache: /* @__PURE__ */ new WeakMap(),\n            converterCache: new ThreadMessageConverter()\n        }), [\n        callback\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        const callbackResults = [];\n        for (const message of messages2){\n            let result = state.callbackCache.get(message);\n            if (!result) {\n                const output = state.callback(message);\n                const outputs = Array.isArray(output) ? output : [\n                    output\n                ];\n                result = {\n                    input: message,\n                    outputs\n                };\n                state.callbackCache.set(message, result);\n            }\n            callbackResults.push(result);\n        }\n        const chunks = chunkExternalMessages(callbackResults).map((m)=>{\n            const key = m.outputs[0];\n            if (!key) return m;\n            const cached = state.chunkCache.get(key);\n            if (cached && shallowArrayEqual(cached.outputs, m.outputs)) return cached;\n            state.chunkCache.set(key, m);\n            return m;\n        });\n        return state.converterCache.convertMessages(chunks, (cache, message, idx)=>{\n            const isLast = idx === chunks.length - 1;\n            const autoStatus = getAutoStatus(isLast, isRunning);\n            if (cache && (cache.role !== \"assistant\" || !isAutoStatus(cache.status) || cache.status === autoStatus)) {\n                const inputs = getExternalStoreMessage(cache);\n                if (shallowArrayEqual(inputs, message.inputs)) {\n                    return cache;\n                }\n            }\n            const newMessage = fromThreadMessageLike(joinExternalMessages(message.outputs), idx.toString(), autoStatus);\n            newMessage[symbolInnerMessage] = message.inputs;\n            return newMessage;\n        });\n    }, [\n        state,\n        messages2,\n        isRunning\n    ]);\n};\nvar shallowArrayEqual = (a, b)=>{\n    if (a.length !== b.length) return false;\n    for(let i = 0; i < a.length; i++){\n        if (a[i] !== b[i]) return false;\n    }\n    return true;\n};\n// src/runtimes/dangerous-in-browser/useDangerousInBrowserRuntime.ts\n\n// src/runtimes/dangerous-in-browser/DangerousInBrowserAdapter.ts\nvar DangerousInBrowserAdapter = class {\n    constructor(options){\n        this.options = options;\n    }\n    async *run({ messages: messages2, abortSignal, config }) {\n        const res = await (0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.getEdgeRuntimeStream)({\n            options: this.options,\n            abortSignal,\n            requestData: {\n                system: config.system,\n                messages: (0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toCoreMessages)(messages2),\n                tools: config.tools ? (0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toLanguageModelTools)(config.tools) : [],\n                ...config.callSettings,\n                ...config.config\n            }\n        });\n        const stream = res.pipeThrough((0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.toolResultStream)(config.tools, abortSignal)).pipeThrough((0,_chunk_TWIMAOZR_mjs__WEBPACK_IMPORTED_MODULE_12__.runResultStream)());\n        for await (const update of asAsyncIterable(stream)){\n            yield update;\n        }\n    }\n};\n// src/runtimes/dangerous-in-browser/useDangerousInBrowserRuntime.ts\nvar useDangerousInBrowserRuntime = (options)=>{\n    const { localRuntimeOptions, otherOptions } = splitLocalRuntimeOptions(options);\n    const [adapter] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new DangerousInBrowserAdapter(otherOptions));\n    return useLocalRuntime(adapter, localRuntimeOptions);\n};\n// src/runtimes/speech/WebSpeechSynthesisAdapter.ts\nvar WebSpeechSynthesisAdapter = class {\n    speak(text) {\n        const utterance = new SpeechSynthesisUtterance(text);\n        const subscribers = /* @__PURE__ */ new Set();\n        const handleEnd = (reason, error)=>{\n            if (res.status.type === \"ended\") return;\n            res.status = {\n                type: \"ended\",\n                reason,\n                error\n            };\n            subscribers.forEach((handler)=>handler());\n        };\n        utterance.addEventListener(\"end\", ()=>handleEnd(\"finished\"));\n        utterance.addEventListener(\"error\", (e)=>handleEnd(\"error\", e.error));\n        window.speechSynthesis.speak(utterance);\n        const res = {\n            status: {\n                type: \"running\"\n            },\n            cancel: ()=>{\n                window.speechSynthesis.cancel();\n                handleEnd(\"cancelled\");\n            },\n            subscribe: (callback)=>{\n                if (res.status.type === \"ended\") {\n                    let cancelled = false;\n                    queueMicrotask(()=>{\n                        if (!cancelled) callback();\n                    });\n                    return ()=>{\n                        cancelled = true;\n                    };\n                } else {\n                    subscribers.add(callback);\n                    return ()=>{\n                        subscribers.delete(callback);\n                    };\n                }\n            }\n        };\n        return res;\n    }\n};\n// src/runtimes/attachment/SimpleImageAttachmentAdapter.ts\nvar SimpleImageAttachmentAdapter = class {\n    async add(state) {\n        return {\n            id: state.file.name,\n            type: \"image\",\n            name: state.file.name,\n            contentType: state.file.type,\n            file: state.file,\n            status: {\n                type: \"requires-action\",\n                reason: \"composer-send\"\n            }\n        };\n    }\n    async send(attachment) {\n        return {\n            ...attachment,\n            status: {\n                type: \"complete\"\n            },\n            content: [\n                {\n                    type: \"image\",\n                    image: await getFileDataURL(attachment.file)\n                }\n            ]\n        };\n    }\n    async remove() {}\n    constructor(){\n        this.accept = \"image/*\";\n    }\n};\nvar getFileDataURL = (file)=>new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onload = ()=>resolve(reader.result);\n        reader.onerror = (error)=>reject(error);\n        reader.readAsDataURL(file);\n    });\n// src/runtimes/attachment/SimpleTextAttachmentAdapter.ts\nvar SimpleTextAttachmentAdapter = class {\n    async add(state) {\n        return {\n            id: state.file.name,\n            type: \"document\",\n            name: state.file.name,\n            contentType: state.file.type,\n            file: state.file,\n            status: {\n                type: \"requires-action\",\n                reason: \"composer-send\"\n            }\n        };\n    }\n    async send(attachment) {\n        return {\n            ...attachment,\n            status: {\n                type: \"complete\"\n            },\n            content: [\n                {\n                    type: \"text\",\n                    text: `<attachment name=${attachment.name}>\n${await getFileText(attachment.file)}\n</attachment>`\n                }\n            ]\n        };\n    }\n    async remove() {}\n    constructor(){\n        this.accept = \"text/plain,text/html,text/markdown,text/csv,text/xml,text/json,text/css\";\n    }\n};\nvar getFileText = (file)=>new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onload = ()=>resolve(reader.result);\n        reader.onerror = (error)=>reject(error);\n        reader.readAsText(file);\n    });\n// src/runtimes/attachment/CompositeAttachmentAdapter.ts\nfunction fileMatchesAccept(file, acceptString) {\n    if (acceptString === \"*\") {\n        return true;\n    }\n    const allowedTypes = acceptString.split(\",\").map((type)=>type.trim().toLowerCase());\n    const fileExtension = \".\" + file.name.split(\".\").pop().toLowerCase();\n    const fileMimeType = file.type.toLowerCase();\n    for (const type of allowedTypes){\n        if (type.startsWith(\".\") && type === fileExtension) {\n            return true;\n        }\n        if (type.includes(\"/\") && type === fileMimeType) {\n            return true;\n        }\n        if (type === \"image/*\" || type === \"video/*\" || type === \"audio/*\") {\n            if (type.endsWith(\"/*\")) {\n                const generalType = type.split(\"/\")[0];\n                if (fileMimeType.startsWith(generalType + \"/\")) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\nvar CompositeAttachmentAdapter = class {\n    constructor(adapters){\n        this._adapters = adapters;\n        const wildcardIdx = adapters.findIndex((a)=>a.accept === \"*\");\n        if (wildcardIdx !== -1) {\n            if (wildcardIdx !== adapters.length - 1) throw new Error(\"A wildcard adapter (handling all files) can only be specified as the last adapter.\");\n            this.accept = \"*\";\n        } else {\n            this.accept = adapters.map((a)=>a.accept).join(\",\");\n        }\n    }\n    async add(state) {\n        for (const adapter of this._adapters){\n            if (fileMatchesAccept(state.file, adapter.accept)) {\n                return adapter.add(state);\n            }\n        }\n        throw new Error(\"No matching adapter found for file\");\n    }\n    async send(attachment) {\n        const adapters = this._adapters.slice();\n        for (const adapter of adapters){\n            if (fileMatchesAccept(attachment.file, adapter.accept)) {\n                return adapter.send(attachment);\n            }\n        }\n        throw new Error(\"No matching adapter found for attachment\");\n    }\n    async remove(attachment) {\n        const adapters = this._adapters.slice();\n        for (const adapter of adapters){\n            if (fileMatchesAccept({\n                name: attachment.name,\n                type: attachment.contentType ?? \"unknown/unknown\"\n            }, adapter.accept)) {\n                return adapter.remove(attachment);\n            }\n        }\n        throw new Error(\"No matching adapter found for attachment\");\n    }\n};\n// src/ui/thread-config.tsx\n\n\nvar ThreadConfigContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});\nvar useThreadConfig = ()=>{\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ThreadConfigContext);\n};\nvar ThreadConfigProvider = ({ children, config })=>{\n    const hasAssistant = !!useAssistantRuntime({\n        optional: true\n    });\n    const configProvider = config && Object.keys(config ?? {}).length > 0 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadConfigContext.Provider, {\n        value: config,\n        children\n    }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children\n    });\n    if (!config?.runtime) return configProvider;\n    if (hasAssistant) {\n        throw new Error(\"You provided a runtime to <Thread> while simulataneously using <AssistantRuntimeProvider>. This is not allowed.\");\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantRuntimeProvider, {\n        runtime: config.runtime,\n        children: configProvider\n    });\n};\nThreadConfigProvider.displayName = \"ThreadConfigProvider\";\n// src/ui/assistant-action-bar.tsx\n\n\n\nvar useAllowCopy = (ensureCapability = false)=>{\n    const { assistantMessage: { allowCopy = true } = {} } = useThreadConfig();\n    const copySupported = useThread((t)=>t.capabilities.unstable_copy);\n    return allowCopy && (!ensureCapability || copySupported);\n};\nvar useAllowSpeak = (ensureCapability = false)=>{\n    const { assistantMessage: { allowSpeak = true } = {} } = useThreadConfig();\n    const speechSupported = useThread((t)=>t.capabilities.speech);\n    return allowSpeak && (!ensureCapability || speechSupported);\n};\nvar useAllowReload = (ensureCapability = false)=>{\n    const { assistantMessage: { allowReload = true } = {} } = useThreadConfig();\n    const reloadSupported = useThread((t)=>t.capabilities.reload);\n    return allowReload && (!ensureCapability || reloadSupported);\n};\nvar useAllowFeedbackPositive = (ensureCapability = false)=>{\n    const { assistantMessage: { allowFeedbackPositive = true } = {} } = useThreadConfig();\n    const feedbackSupported = useThread((t)=>t.capabilities.feedback);\n    return allowFeedbackPositive && (!ensureCapability || feedbackSupported);\n};\nvar useAllowFeedbackNegative = (ensureCapability = false)=>{\n    const { assistantMessage: { allowFeedbackNegative = true } = {} } = useThreadConfig();\n    const feedbackSupported = useThread((t)=>t.capabilities.feedback);\n    return allowFeedbackNegative && (!ensureCapability || feedbackSupported);\n};\nvar AssistantActionBar = ()=>{\n    const allowCopy = useAllowCopy(true);\n    const allowReload = useAllowReload(true);\n    const allowSpeak = useAllowSpeak(true);\n    const allowFeedbackPositive = useAllowFeedbackPositive(true);\n    const allowFeedbackNegative = useAllowFeedbackNegative(true);\n    if (!allowCopy && !allowReload && !allowSpeak && !allowFeedbackPositive && !allowFeedbackNegative) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(AssistantActionBarRoot, {\n        hideWhenRunning: true,\n        autohide: \"not-last\",\n        autohideFloat: \"single-branch\",\n        children: [\n            allowSpeak && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantActionBarSpeechControl, {}),\n            allowCopy && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantActionBarCopy, {}),\n            allowReload && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantActionBarReload, {}),\n            allowFeedbackPositive && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantActionBarFeedbackPositive, {}),\n            allowFeedbackNegative && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantActionBarFeedbackNegative, {})\n        ]\n    });\n};\nAssistantActionBar.displayName = \"AssistantActionBar\";\nvar AssistantActionBarRoot = withDefaults(actionBar_exports.Root, {\n    className: \"aui-assistant-action-bar-root\"\n});\nAssistantActionBarRoot.displayName = \"AssistantActionBarRoot\";\nvar AssistantActionBarCopy = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ copiedDuration, ...props }, ref)=>{\n    const { strings: { assistantMessage: { copy: { tooltip = \"Copy\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(actionBar_exports.Copy, {\n        copiedDuration,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(message_exports.If, {\n                        copied: true,\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {})\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(message_exports.If, {\n                        copied: false,\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {})\n                    })\n                ]\n            })\n        })\n    });\n});\nAssistantActionBarCopy.displayName = \"AssistantActionBarCopy\";\nvar AssistantActionBarSpeechControl = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(message_exports.If, {\n                speaking: false,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantActionBarSpeak, {})\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(message_exports.If, {\n                speaking: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantActionBarStopSpeaking, {})\n            })\n        ]\n    });\n};\nvar AssistantActionBarSpeak = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { assistantMessage: { speak: { tooltip = \"Read aloud\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowSpeak = useAllowSpeak();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(actionBar_exports.Speak, {\n        disabled: !allowSpeak,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {})\n        })\n    });\n});\nAssistantActionBarSpeak.displayName = \"AssistantActionBarSpeak\";\nvar AssistantActionBarStopSpeaking = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { assistantMessage: { speak: { stop: { tooltip: stopTooltip = \"Stop\" } = {} } = {} } = {} } = {} } = useThreadConfig();\n    const allowSpeak = useAllowSpeak();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(actionBar_exports.StopSpeaking, {\n        disabled: !allowSpeak,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip: stopTooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {})\n        })\n    });\n});\nAssistantActionBarStopSpeaking.displayName = \"AssistantActionBarStopSpeaking\";\nvar AssistantActionBarReload = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { assistantMessage: { reload: { tooltip = \"Refresh\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowReload = useAllowReload();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(actionBar_exports.Reload, {\n        disabled: !allowReload,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {})\n        })\n    });\n});\nAssistantActionBarReload.displayName = \"AssistantActionBarReload\";\nvar AssistantActionBarFeedbackPositive = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { assistantMessage: { feedback: { positive: { tooltip = \"Good response\" } = {} } = {} } = {} } = {} } = useThreadConfig();\n    const allowFeedbackPositive = useAllowFeedbackPositive();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(actionBar_exports.FeedbackPositive, {\n        disabled: !allowFeedbackPositive,\n        className: \"aui-assistant-action-bar-feedback-positive\",\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {})\n        })\n    });\n});\nAssistantActionBarFeedbackPositive.displayName = \"AssistantActionBarFeedbackPositive\";\nvar AssistantActionBarFeedbackNegative = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { assistantMessage: { feedback: { negative: { tooltip = \"Bad response\" } = {} } = {} } = {} } = {} } = useThreadConfig();\n    const allowFeedbackNegative = useAllowFeedbackNegative();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(actionBar_exports.FeedbackNegative, {\n        disabled: !allowFeedbackNegative,\n        className: \"aui-assistant-action-bar-feedback-negative\",\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_AudioLinesIcon_CheckIcon_CopyIcon_RefreshCwIcon_StopCircleIcon_ThumbsDownIcon_ThumbsUpIcon_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {})\n        })\n    });\n});\nAssistantActionBarFeedbackNegative.displayName = \"AssistantActionBarFeedbackNegative\";\nvar exports = {\n    Root: AssistantActionBarRoot,\n    Reload: AssistantActionBarReload,\n    Copy: AssistantActionBarCopy,\n    Speak: AssistantActionBarSpeak,\n    StopSpeaking: AssistantActionBarStopSpeaking,\n    SpeechControl: AssistantActionBarSpeechControl,\n    FeedbackPositive: AssistantActionBarFeedbackPositive,\n    FeedbackNegative: AssistantActionBarFeedbackNegative\n};\nvar assistant_action_bar_default = Object.assign(AssistantActionBar, exports);\n// src/ui/assistant-message.tsx\n\n// src/ui/branch-picker.tsx\n\n\n\nvar useAllowBranchPicker = (ensureCapability = false)=>{\n    const { branchPicker: { allowBranchPicker = true } = {} } = useThreadConfig();\n    const branchPickerSupported = useThread((t)=>t.capabilities.edit);\n    return allowBranchPicker && (!ensureCapability || branchPickerSupported);\n};\nvar BranchPicker = ()=>{\n    const allowBranchPicker = useAllowBranchPicker(true);\n    if (!allowBranchPicker) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(BranchPickerRoot, {\n        hideWhenSingleBranch: true,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BranchPickerPrevious, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BranchPickerState, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BranchPickerNext, {})\n        ]\n    });\n};\nBranchPicker.displayName = \"BranchPicker\";\nvar BranchPickerRoot = withDefaults(branchPicker_exports.Root, {\n    className: \"aui-branch-picker-root\"\n});\nBranchPickerRoot.displayName = \"BranchPickerRoot\";\nvar BranchPickerPrevious = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { branchPicker: { previous: { tooltip = \"Previous\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowBranchPicker = useAllowBranchPicker();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(branchPicker_exports.Previous, {\n        disabled: !allowBranchPicker,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_ChevronLeftIcon_ChevronRightIcon_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {})\n        })\n    });\n});\nBranchPickerPrevious.displayName = \"BranchPickerPrevious\";\nvar BranchPickerStateWrapper = withDefaults(\"span\", {\n    className: \"aui-branch-picker-state\"\n});\nvar BranchPickerState = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(BranchPickerStateWrapper, {\n        ...props,\n        ref,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(branchPicker_exports.Number, {}),\n            \" / \",\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(branchPicker_exports.Count, {})\n        ]\n    });\n});\nBranchPickerState.displayName = \"BranchPickerState\";\nvar BranchPickerNext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { branchPicker: { next: { tooltip = \"Next\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowBranchPicker = useAllowBranchPicker();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(branchPicker_exports.Next, {\n        disabled: !allowBranchPicker,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_ChevronLeftIcon_ChevronRightIcon_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {})\n        })\n    });\n});\nBranchPickerNext.displayName = \"BranchPickerNext\";\nvar exports2 = {\n    Root: BranchPickerRoot,\n    Previous: BranchPickerPrevious,\n    Next: BranchPickerNext\n};\nvar branch_picker_default = Object.assign(BranchPicker, exports2);\n// src/ui/base/avatar.tsx\n\n\nvar Avatar = ({ src, alt, fallback })=>{\n    if (src == null && fallback == null) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(AvatarRoot, {\n        children: [\n            src != null && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AvatarImage, {\n                src,\n                alt\n            }),\n            fallback != null && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AvatarFallback, {\n                children: fallback\n            })\n        ]\n    });\n};\nAvatar.displayName = \"Avatar\";\nvar AvatarRoot = withDefaults(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_26__.Root, {\n    className: \"aui-avatar-root\"\n});\nAvatarRoot.displayName = \"AvatarRoot\";\nvar AvatarImage = withDefaults(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_26__.Image, {\n    className: \"aui-avatar-image\"\n});\nAvatarImage.displayName = \"AvatarImage\";\nvar AvatarFallback = withDefaults(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_26__.Fallback, {\n    className: \"aui-avatar-fallback\"\n});\nAvatarFallback.displayName = \"AvatarFallback\";\n// src/ui/content-part.tsx\n\n\nvar Text = ()=>{\n    const status = useSmoothStatus();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(contentPart_exports.Text, {\n        className: classnames__WEBPACK_IMPORTED_MODULE_14__(\"aui-text\", status.type === \"running\" && \"aui-text-running\"),\n        component: \"p\"\n    });\n};\nvar exports3 = {\n    Text: withSmoothContextProvider(Text)\n};\nvar content_part_default = exports3;\n// src/ui/assistant-message.tsx\n\nvar AssistantMessage = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(AssistantMessageRoot, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantMessageAvatar, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantMessageContent, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(branch_picker_default, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(assistant_action_bar_default, {})\n        ]\n    });\n};\nAssistantMessage.displayName = \"AssistantMessage\";\nvar AssistantMessageAvatar = ()=>{\n    const { assistantAvatar: avatar = {\n        fallback: \"A\"\n    } } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, {\n        ...avatar\n    });\n};\nvar AssistantMessageRoot = withDefaults(message_exports.Root, {\n    className: \"aui-assistant-message-root\"\n});\nAssistantMessageRoot.displayName = \"AssistantMessageRoot\";\nvar AssistantMessageContentWrapper = withDefaults(\"div\", {\n    className: \"aui-assistant-message-content\"\n});\nvar AssistantMessageContent = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ components: componentsProp, ...rest }, ref)=>{\n    const { tools, assistantMessage: { components = {} } = {} } = useThreadConfig();\n    const toolsComponents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            by_name: !tools ? void 0 : Object.fromEntries(tools.map((t)=>[\n                    t.unstable_tool.toolName,\n                    t.unstable_tool.render\n                ])),\n            Fallback: components.ToolFallback\n        }), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        ...tools ?? [],\n        components.ToolFallback\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantMessageContentWrapper, {\n        ...rest,\n        ref,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(message_exports.Content, {\n            components: {\n                ...componentsProp,\n                Text: componentsProp?.Text ?? components.Text ?? content_part_default.Text,\n                tools: toolsComponents\n            }\n        })\n    });\n});\nAssistantMessageContent.displayName = \"AssistantMessageContent\";\nvar exports4 = {\n    Root: AssistantMessageRoot,\n    Avatar: AssistantMessageAvatar,\n    Content: AssistantMessageContent\n};\nvar assistant_message_default = Object.assign(AssistantMessage, exports4);\n// src/ui/assistant-modal.tsx\n\n\n// src/ui/thread.tsx\n\n\n// src/ui/composer.tsx\n\n\n// src/ui/base/CircleStopIcon.tsx\n\nvar CircleStopIcon = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 16 16\",\n        fill: \"currentColor\",\n        width: \"16\",\n        height: \"16\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"rect\", {\n            width: \"10\",\n            height: \"10\",\n            x: \"3\",\n            y: \"3\",\n            rx: \"2\"\n        })\n    });\n};\nCircleStopIcon.displayName = \"CircleStopIcon\";\n// src/ui/attachment.tsx\n\n\n// src/ui/base/dialog.tsx\n\n\n\n\nvar Dialog = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_27__.Root;\nvar DialogTrigger = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_27__.Trigger;\nvar DialogPortal = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_27__.Portal;\nvar DialogOverlay = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(({ className, ...props }, ref)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_27__.Overlay, {\n        ref,\n        className: classnames__WEBPACK_IMPORTED_MODULE_14__(\"aui-dialog-overlay\", className),\n        ...props\n    }));\nDialogOverlay.displayName = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_27__.Overlay.displayName;\nvar DialogContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(({ className, children, ...props }, ref)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(DialogPortal, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DialogOverlay, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_27__.Content, {\n                ref,\n                className: classnames__WEBPACK_IMPORTED_MODULE_14__(\"aui-dialog-content\", className),\n                ...props,\n                children\n            })\n        ]\n    }));\nDialogContent.displayName = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_27__.Content.displayName;\n// src/ui/attachment.tsx\n\n\nvar AttachmentRoot = withDefaults(attachment_exports.Root, {\n    className: \"aui-attachment-root\"\n});\nAttachmentRoot.displayName = \"AttachmentRoot\";\nvar useFileSrc = (file)=>{\n    const [src, setSrc] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!file) {\n            setSrc(void 0);\n            return;\n        }\n        const objectUrl = URL.createObjectURL(file);\n        setSrc(objectUrl);\n        return ()=>{\n            URL.revokeObjectURL(objectUrl);\n        };\n    }, [\n        file\n    ]);\n    return src;\n};\nvar useAttachmentSrc = ()=>{\n    const { file, src } = useAttachment((a)=>{\n        if (a.type !== \"image\") return {};\n        if (a.file) return {\n            file: a.file\n        };\n        const src2 = a.content?.filter((c)=>c.type === \"image\")[0]?.image;\n        if (!src2) return {};\n        return {\n            src: src2\n        };\n    });\n    return useFileSrc(file) ?? src;\n};\nvar AttachmentPreview = ({ src })=>{\n    const [isLoaded, setIsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    return(// eslint-disable-next-line @next/next/no-img-element\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", {\n        src,\n        style: {\n            width: \"auto\",\n            height: \"auto\",\n            maxWidth: \"75dvh\",\n            maxHeight: \"75dvh\",\n            display: isLoaded ? \"block\" : \"none\",\n            overflow: \"clip\"\n        },\n        onLoad: ()=>setIsLoaded(true),\n        alt: \"Image Preview\"\n    }));\n};\nvar AttachmentPreviewDialog = ({ children })=>{\n    const src = useAttachmentSrc();\n    if (!src) return children;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Dialog, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DialogTrigger, {\n                className: \"aui-attachment-preview-trigger\",\n                asChild: true,\n                children\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DialogContent, {\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AttachmentPreview, {\n                    src\n                })\n            })\n        ]\n    });\n};\nvar AttachmentThumb = ()=>{\n    const isImage = useAttachment((a)=>a.type === \"image\");\n    const src = useAttachmentSrc();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(AvatarRoot, {\n        className: \"aui-attachment-thumb\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_26__.AvatarFallback, {\n                delayMs: isImage ? 200 : 0,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_CircleXIcon_FileIcon_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {})\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AvatarImage, {\n                src\n            })\n        ]\n    });\n};\nvar Attachment = ()=>{\n    const canRemove = useAttachment((a)=>a.source !== \"message\");\n    const typeLabel = useAttachment((a)=>{\n        const type = a.type;\n        switch(type){\n            case \"image\":\n                return \"Image\";\n            case \"document\":\n                return \"Document\";\n            case \"file\":\n                return \"File\";\n            default:\n                const _exhaustiveCheck = type;\n                throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n        }\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(Tooltip, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AttachmentPreviewDialog, {\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipTrigger, {\n                    asChild: true,\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(AttachmentRoot, {\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AttachmentThumb, {}),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", {\n                                className: \"aui-attachment-text\",\n                                children: [\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", {\n                                        className: \"aui-attachment-name\",\n                                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(attachment_exports.Name, {})\n                                    }),\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", {\n                                        className: \"aui-attachment-type\",\n                                        children: typeLabel\n                                    })\n                                ]\n                            }),\n                            canRemove && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AttachmentRemove, {})\n                        ]\n                    })\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipContent, {\n                side: \"top\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(attachment_exports.Name, {})\n            })\n        ]\n    });\n};\nAttachment.displayName = \"Attachment\";\nvar AttachmentRemove = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { removeAttachment: { tooltip = \"Remove file\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(attachment_exports.Remove, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip,\n            className: \"aui-attachment-remove\",\n            side: \"top\",\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_CircleXIcon_FileIcon_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {})\n        })\n    });\n});\nAttachmentRemove.displayName = \"AttachmentRemove\";\nvar exports5 = {\n    Root: AttachmentRoot,\n    Remove: AttachmentRemove\n};\nvar attachment_default = Object.assign(Attachment, exports5);\n// src/ui/composer.tsx\n\nvar useAllowAttachments = (ensureCapability = false)=>{\n    const { composer: { allowAttachments = true } = {} } = useThreadConfig();\n    const attachmentsSupported = useThread((t)=>t.capabilities.attachments);\n    return allowAttachments && (!ensureCapability || attachmentsSupported);\n};\nvar Composer = ()=>{\n    const allowAttachments = useAllowAttachments(true);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ComposerRoot, {\n        children: [\n            allowAttachments && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerAttachments, {}),\n            allowAttachments && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerAddAttachment, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerInput, {\n                autoFocus: true\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerAction, {})\n        ]\n    });\n};\nComposer.displayName = \"Composer\";\nvar ComposerRoot = withDefaults(composer_exports.Root, {\n    className: \"aui-composer-root\"\n});\nComposerRoot.displayName = \"ComposerRoot\";\nvar ComposerInputStyled = withDefaults(composer_exports.Input, {\n    rows: 1,\n    autoFocus: true,\n    className: \"aui-composer-input\"\n});\nvar ComposerInput = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { input: { placeholder = \"Write a message...\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerInputStyled, {\n        placeholder,\n        ...props,\n        ref\n    });\n});\nComposerInput.displayName = \"ComposerInput\";\nvar ComposerAttachmentsContainer = withDefaults(\"div\", {\n    className: \"aui-composer-attachments\"\n});\nvar ComposerAttachments = ({ components })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerAttachmentsContainer, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(composer_exports.Attachments, {\n            components: {\n                ...components,\n                Attachment: components?.Attachment ?? attachment_default\n            }\n        })\n    });\n};\nvar ComposerAttachButton = withDefaults(TooltipIconButton, {\n    variant: \"default\",\n    className: \"aui-composer-attach\"\n});\nvar ComposerAddAttachment = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { addAttachment: { tooltip = \"Attach file\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowAttachments = useAllowAttachments();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(composer_exports.AddAttachment, {\n        disabled: !allowAttachments,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerAttachButton, {\n            tooltip,\n            variant: \"ghost\",\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_PaperclipIcon_SendHorizontalIcon_lucide_react__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {})\n        })\n    });\n});\nComposerAddAttachment.displayName = \"ComposerAddAttachment\";\nvar useAllowCancel = ()=>{\n    const cancelSupported = useThread((t)=>t.capabilities.cancel);\n    return cancelSupported;\n};\nvar ComposerAction = ()=>{\n    const allowCancel = useAllowCancel();\n    if (!allowCancel) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerSend, {});\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(thread_exports.If, {\n                running: false,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerSend, {})\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(thread_exports.If, {\n                running: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerCancel, {})\n            })\n        ]\n    });\n};\nComposerAction.displayName = \"ComposerAction\";\nvar ComposerSendButton = withDefaults(TooltipIconButton, {\n    variant: \"default\",\n    className: \"aui-composer-send\"\n});\nvar ComposerSend = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { send: { tooltip = \"Send\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(composer_exports.Send, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerSendButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_PaperclipIcon_SendHorizontalIcon_lucide_react__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {})\n        })\n    });\n});\nComposerSend.displayName = \"ComposerSend\";\nvar ComposerCancelButton = withDefaults(TooltipIconButton, {\n    variant: \"default\",\n    className: \"aui-composer-cancel\"\n});\nvar ComposerCancel = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { composer: { cancel: { tooltip = \"Cancel\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(composer_exports.Cancel, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerCancelButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CircleStopIcon, {})\n        })\n    });\n});\nComposerCancel.displayName = \"ComposerCancel\";\nvar exports6 = {\n    Root: ComposerRoot,\n    Input: ComposerInput,\n    Action: ComposerAction,\n    Send: ComposerSend,\n    Cancel: ComposerCancel,\n    AddAttachment: ComposerAddAttachment,\n    Attachments: ComposerAttachments\n};\nvar composer_default = Object.assign(Composer, exports6);\n// src/ui/thread-welcome.tsx\n\n\nvar ThreadWelcome = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ThreadWelcomeRoot, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ThreadWelcomeCenter, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadWelcomeAvatar, {}),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadWelcomeMessage, {})\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadWelcomeSuggestions, {})\n        ]\n    });\n};\nThreadWelcome.displayName = \"ThreadWelcome\";\nvar ThreadWelcomeRootStyled = withDefaults(\"div\", {\n    className: \"aui-thread-welcome-root\"\n});\nvar ThreadWelcomeCenter = withDefaults(\"div\", {\n    className: \"aui-thread-welcome-center\"\n});\nvar ThreadWelcomeRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(thread_exports.Empty, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadWelcomeRootStyled, {\n            ...props,\n            ref\n        })\n    });\n});\nThreadWelcomeRoot.displayName = \"ThreadWelcomeRoot\";\nvar ThreadWelcomeAvatar = ()=>{\n    const { assistantAvatar: avatar = {\n        fallback: \"A\"\n    } } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, {\n        ...avatar\n    });\n};\nvar ThreadWelcomeMessageStyled = withDefaults(\"p\", {\n    className: \"aui-thread-welcome-message\"\n});\nvar ThreadWelcomeMessage = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ message: messageProp, ...rest }, ref)=>{\n    const { welcome: { message = \"How can I help you today?\" } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadWelcomeMessageStyled, {\n        ...rest,\n        ref,\n        children: messageProp ?? message\n    });\n});\nThreadWelcomeMessage.displayName = \"ThreadWelcomeMessage\";\nvar ThreadWelcomeSuggestionContainer = withDefaults(\"div\", {\n    className: \"aui-thread-welcome-suggestion-container\"\n});\nvar ThreadWelcomeSuggestionStyled = withDefaults(thread_exports.Suggestion, {\n    className: \"aui-thread-welcome-suggestion\"\n});\nvar ThreadWelcomeSuggestion = ({ suggestion: { text, prompt } })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadWelcomeSuggestionStyled, {\n        prompt,\n        method: \"replace\",\n        autoSend: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", {\n            className: \"aui-thread-welcome-suggestion-text\",\n            children: text ?? prompt\n        })\n    });\n};\nvar ThreadWelcomeSuggestions = ()=>{\n    const suggestions2 = useThread((t)=>t.suggestions);\n    const { welcome: { suggestions } = {} } = useThreadConfig();\n    const finalSuggestions = suggestions2.length ? suggestions2 : suggestions;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadWelcomeSuggestionContainer, {\n        children: finalSuggestions?.map((suggestion, idx)=>{\n            const key = `${suggestion.prompt}-${idx}`;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadWelcomeSuggestion, {\n                suggestion\n            }, key);\n        })\n    });\n};\nThreadWelcomeSuggestions.displayName = \"ThreadWelcomeSuggestions\";\nvar exports7 = {\n    Root: ThreadWelcomeRoot,\n    Center: ThreadWelcomeCenter,\n    Avatar: ThreadWelcomeAvatar,\n    Message: ThreadWelcomeMessage,\n    Suggestions: ThreadWelcomeSuggestions,\n    Suggestion: ThreadWelcomeSuggestion\n};\nvar thread_welcome_default = Object.assign(ThreadWelcome, exports7);\n// src/ui/user-message.tsx\n\n// src/ui/user-action-bar.tsx\n\n\n\nvar useAllowEdit = (ensureCapability = false)=>{\n    const { userMessage: { allowEdit = true } = {} } = useThreadConfig();\n    const editSupported = useThread((t)=>t.capabilities.edit);\n    return allowEdit && (!ensureCapability || editSupported);\n};\nvar UserActionBar = ()=>{\n    const allowEdit = useAllowEdit(true);\n    if (!allowEdit) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(UserActionBarRoot, {\n        hideWhenRunning: true,\n        autohide: \"not-last\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(UserActionBarEdit, {})\n    });\n};\nUserActionBar.displayName = \"UserActionBar\";\nvar UserActionBarRoot = withDefaults(actionBar_exports.Root, {\n    className: \"aui-user-action-bar-root\"\n});\nUserActionBarRoot.displayName = \"UserActionBarRoot\";\nvar UserActionBarEdit = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { userMessage: { edit: { tooltip = \"Edit\" } = {} } = {} } = {} } = useThreadConfig();\n    const allowEdit = useAllowEdit();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(actionBar_exports.Edit, {\n        disabled: !allowEdit,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TooltipIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_PencilIcon_lucide_react__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {})\n        })\n    });\n});\nUserActionBarEdit.displayName = \"UserActionBarEdit\";\nvar exports8 = {\n    Root: UserActionBarRoot,\n    Edit: UserActionBarEdit\n};\nvar user_action_bar_default = Object.assign(UserActionBar, exports8);\n// src/ui/user-message.tsx\n\nvar UserMessage = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(UserMessageRoot, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(UserMessageAttachments, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(message_exports.If, {\n                hasContent: true,\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(user_action_bar_default, {}),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(UserMessageContent, {})\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(branch_picker_default, {})\n        ]\n    });\n};\nUserMessage.displayName = \"UserMessage\";\nvar UserMessageRoot = withDefaults(message_exports.Root, {\n    className: \"aui-user-message-root\"\n});\nUserMessageRoot.displayName = \"UserMessageRoot\";\nvar UserMessageContentWrapper = withDefaults(\"div\", {\n    className: \"aui-user-message-content\"\n});\nvar UserMessageContent = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ components, ...props }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(UserMessageContentWrapper, {\n        ...props,\n        ref,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(message_exports.Content, {\n            components: {\n                ...components,\n                Text: components?.Text ?? content_part_default.Text\n            }\n        })\n    });\n});\nUserMessageContent.displayName = \"UserMessageContent\";\nvar UserMessageAttachmentsContainer = withDefaults(\"div\", {\n    className: \"aui-user-message-attachments\"\n});\nvar UserMessageAttachments = ({ components })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(message_exports.If, {\n        hasAttachments: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(UserMessageAttachmentsContainer, {\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(message_exports.Attachments, {\n                components: {\n                    ...components,\n                    Attachment: components?.Attachment ?? attachment_default\n                }\n            })\n        })\n    });\n};\nvar exports9 = {\n    Root: UserMessageRoot,\n    Content: UserMessageContent,\n    Attachments: UserMessageAttachments\n};\nvar user_message_default = Object.assign(UserMessage, exports9);\n// src/ui/edit-composer.tsx\n\n\nvar EditComposer = ()=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(EditComposerRoot, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EditComposerInput, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(EditComposerFooter, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EditComposerCancel, {}),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EditComposerSend, {})\n                ]\n            })\n        ]\n    });\n};\nEditComposer.displayName = \"EditComposer\";\nvar EditComposerRoot = withDefaults(composer_exports.Root, {\n    className: \"aui-edit-composer-root\"\n});\nEditComposerRoot.displayName = \"EditComposerRoot\";\nvar EditComposerInput = withDefaults(composer_exports.Input, {\n    className: \"aui-edit-composer-input\"\n});\nEditComposerInput.displayName = \"EditComposerInput\";\nvar EditComposerFooter = withDefaults(\"div\", {\n    className: \"aui-edit-composer-footer\"\n});\nEditComposerFooter.displayName = \"EditComposerFooter\";\nvar EditComposerCancel = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { editComposer: { cancel: { label = \"Cancel\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(composer_exports.Cancel, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, {\n            variant: \"ghost\",\n            ...props,\n            ref,\n            children: props.children ?? label\n        })\n    });\n});\nEditComposerCancel.displayName = \"EditComposerCancel\";\nvar EditComposerSend = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { editComposer: { send: { label = \"Send\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(composer_exports.Send, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, {\n            ...props,\n            ref,\n            children: props.children ?? label\n        })\n    });\n});\nEditComposerSend.displayName = \"EditComposerSend\";\nvar exports10 = {\n    Root: EditComposerRoot,\n    Input: EditComposerInput,\n    Footer: EditComposerFooter,\n    Cancel: EditComposerCancel,\n    Send: EditComposerSend\n};\nvar edit_composer_default = Object.assign(EditComposer, exports10);\n// src/ui/thread.tsx\n\nvar Thread = (config)=>{\n    const { components: { Composer: ComposerComponent = composer_default, ThreadWelcome: ThreadWelcomeComponent = thread_welcome_default } = {} } = config;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadRoot, {\n        config,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ThreadViewport, {\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadWelcomeComponent, {}),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadMessages, {}),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadFollowupSuggestions, {}),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ThreadViewportFooter, {\n                    children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadScrollToBottom, {}),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ComposerComponent, {})\n                    ]\n                })\n            ]\n        })\n    });\n};\nvar ThreadRootStyled = withDefaults(thread_exports.Root, {\n    className: \"aui-root aui-thread-root\"\n});\nvar ThreadRoot = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ config, ...props }, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadConfigProvider, {\n        config,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadRootStyled, {\n            ...props,\n            ref\n        })\n    });\n});\nThreadRoot.displayName = \"ThreadRoot\";\nvar ThreadViewport = withDefaults(thread_exports.Viewport, {\n    className: \"aui-thread-viewport\"\n});\nThreadViewport.displayName = \"ThreadViewport\";\nvar ThreadViewportFooter = withDefaults(\"div\", {\n    className: \"aui-thread-viewport-footer\"\n});\nThreadViewportFooter.displayName = \"ThreadViewportFooter\";\nvar SystemMessage = ()=>null;\nvar ThreadMessages = ({ components, unstable_flexGrowDiv: flexGrowDiv = true, ...rest })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(thread_exports.Messages, {\n                components: {\n                    UserMessage: components?.UserMessage ?? user_message_default,\n                    EditComposer: components?.EditComposer ?? edit_composer_default,\n                    AssistantMessage: components?.AssistantMessage ?? assistant_message_default,\n                    SystemMessage: components?.SystemMessage ?? SystemMessage\n                },\n                ...rest\n            }),\n            flexGrowDiv && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(thread_exports.If, {\n                empty: false,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n                    style: {\n                        flexGrow: 1\n                    }\n                })\n            })\n        ]\n    });\n};\nThreadMessages.displayName = \"ThreadMessages\";\nvar ThreadFollowupSuggestions = ()=>{\n    const suggestions = useThread((t)=>t.suggestions);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(thread_exports.If, {\n        empty: false,\n        running: false,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n            className: \"aui-thread-followup-suggestions\",\n            children: suggestions?.map((suggestion, idx)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(thread_exports.Suggestion, {\n                    className: \"aui-thread-followup-suggestion\",\n                    prompt: suggestion.prompt,\n                    method: \"replace\",\n                    autoSend: true,\n                    children: suggestion.prompt\n                }, idx))\n        })\n    });\n};\nvar ThreadScrollToBottomIconButton = withDefaults(TooltipIconButton, {\n    variant: \"outline\",\n    className: \"aui-thread-scroll-to-bottom\"\n});\nvar ThreadScrollToBottom = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const { strings: { thread: { scrollToBottom: { tooltip = \"Scroll to bottom\" } = {} } = {} } = {} } = useThreadConfig();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(thread_exports.ScrollToBottom, {\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadScrollToBottomIconButton, {\n            tooltip,\n            ...props,\n            ref,\n            children: props.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_ArrowDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {})\n        })\n    });\n});\nThreadScrollToBottom.displayName = \"ThreadScrollToBottom\";\nvar exports11 = {\n    Root: ThreadRoot,\n    Viewport: ThreadViewport,\n    Messages: ThreadMessages,\n    FollowupSuggestions: ThreadFollowupSuggestions,\n    ScrollToBottom: ThreadScrollToBottom,\n    ViewportFooter: ThreadViewportFooter\n};\nvar thread_default = Object.assign(Thread, exports11);\n// src/ui/assistant-modal.tsx\n\nvar AssistantModal = (config)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(AssistantModalRoot, {\n        config,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantModalTrigger, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantModalContent, {\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(thread_default, {})\n            })\n        ]\n    });\n};\nAssistantModal.displayName = \"AssistantModal\";\nvar AssistantModalRoot = ({ config, ...props })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ThreadConfigProvider, {\n        config,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(assistantModal_exports.Root, {\n            ...props\n        })\n    });\n};\nAssistantModalRoot.displayName = \"AssistantModalRoot\";\nvar AssistantModalTrigger = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantModalAnchor, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(assistantModal_exports.Trigger, {\n            asChild: true,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AssistantModalButton, {\n                ...props,\n                ref\n            })\n        })\n    });\n});\nAssistantModalTrigger.displayName = \"AssistantModalTrigger\";\nvar AssistantModalAnchor = withDefaults(assistantModal_exports.Anchor, {\n    className: \"aui-root aui-modal-anchor\"\n});\nAssistantModalAnchor.displayName = \"AssistantModalAnchor\";\nvar ModalButtonStyled = withDefaults(TooltipIconButton, {\n    variant: \"default\",\n    className: \"aui-modal-button\"\n});\nvar AssistantModalButton = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ \"data-state\": state, ...rest }, ref)=>{\n    const { strings: { assistantModal: { open: { button: { tooltip: openTooltip = \"Close Assistant\" } = {} } = {}, closed: { button: { tooltip: closedTooltip = \"Open Assistant\" } = {} } = {} } = {} } = {} } = useThreadConfig();\n    const tooltip = state === \"open\" ? openTooltip : closedTooltip;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ModalButtonStyled, {\n        side: \"left\",\n        tooltip,\n        \"data-state\": state,\n        ...rest,\n        ref,\n        children: rest.children ?? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_BotIcon_ChevronDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                    \"data-state\": state,\n                    className: \"aui-modal-button-closed-icon\"\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_barrel_optimize_names_BotIcon_ChevronDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                    \"data-state\": state,\n                    className: \"aui-modal-button-open-icon\"\n                })\n            ]\n        })\n    });\n});\nAssistantModalButton.displayName = \"AssistantModalButton\";\nvar AssistantModalContent = withDefaults(assistantModal_exports.Content, {\n    className: \"aui-root aui-modal-content\",\n    sideOffset: 16\n});\nAssistantModalContent.displayName = \"AssistantModalContent\";\nvar exports12 = {\n    Root: AssistantModalRoot,\n    Trigger: AssistantModalTrigger,\n    Content: AssistantModalContent,\n    Button: AssistantModalButton,\n    Anchor: AssistantModalAnchor\n};\nvar assistant_modal_default = Object.assign(AssistantModal, exports12);\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFzc2lzdGFudC11aS9yZWFjdC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR21EOztBQ0RyQjs7QUNGTTtBQVE3QixTQUFTTSxrQkFDZEMsT0FBQSxFQUNBQyxZQUFBO0lBTUEsU0FBU0MsZUFBZUMsT0FBQTtRQUN0QixNQUFNQyxlQUFlTixpREFBVUEsQ0FBQ0U7UUFDaEMsSUFBSSxDQUFDRyxTQUFTRSxZQUFZLENBQUNELGNBQWM7WUFDdkMsTUFBTSxJQUFJRSxNQUFNLHNDQUFzQ0wsYUFBWSxFQUFHO1FBQ3ZFO1FBQ0EsT0FBT0c7SUFDVDtJQUVBLE9BQU9GO0FBQ1Q7O0FDaEJPLFNBQVNLLHVCQUNkQyxXQUFBLEVBQ0FDLFVBQUE7SUFVQSxTQUFTQyxrQkFBa0JQLE9BQUE7UUFHekIsTUFBTUgsVUFBVVEsWUFBWUw7UUFDNUIsSUFBSSxDQUFDSCxTQUFTLE9BQU87UUFDckIsT0FBT0EsT0FBQSxDQUFRUyxXQUFVO0lBQzNCO0lBWUEsU0FBU0UsYUFDUEMsS0FBQTtRQU9BLElBQUlQLFdBQVc7UUFDZixJQUFJUTtRQUVKLElBQUksT0FBT0QsVUFBVSxZQUFZO1lBQy9CQyxXQUFXRDtRQUNiLFdBQVdBLFNBQVMsT0FBT0EsVUFBVSxVQUFVO1lBQzdDUCxXQUFXLENBQUMsQ0FBQ08sTUFBTVAsUUFBQTtZQUNuQlEsV0FBV0QsTUFBTUMsUUFBQTtRQUNuQjtRQUVBLE1BQU1DLFFBQVFKLGtCQUFrQjtZQUM5Qkw7UUFDRjtRQUNBLElBQUksQ0FBQ1MsT0FBTyxPQUFPO1FBQ25CLE9BQU9ELFdBQVdDLE1BQU1ELFlBQVlDO0lBQ3RDO0lB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QUFTcTZCO0lBQ1R6YyxRQUFRMmM7SUFDUno2QixRQUFRdzZCO0FBQ1Y7QUFFQSxJQUFPTywwQkFBUWh0QyxPQUFPb2lDLE1BQUEsQ0FBT2lLLGdCQUFnQnBLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2NvbnRleHQvcHJvdmlkZXJzL0Fzc2lzdGFudFJ1bnRpbWVQcm92aWRlci50c3g/MDY0YSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvY29udGV4dC9yZWFjdC9Bc3Npc3RhbnRDb250ZXh0LnRzPzI1YTgiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2NvbnRleHQvcmVhY3QvdXRpbHMvY3JlYXRlQ29udGV4dEhvb2sudHM/MjQ4YSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvY29udGV4dC9yZWFjdC91dGlscy9jcmVhdGVDb250ZXh0U3RvcmVIb29rLnRzP2JjOTMiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2NvbnRleHQvc3RvcmVzL0Fzc2lzdGFudFRvb2xVSXMudHM/YzdjZiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvY29udGV4dC9wcm92aWRlcnMvVGhyZWFkUnVudGltZVByb3ZpZGVyLnRzeD8yODQ0Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHQudHM/NjU3NiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvY29udGV4dC9zdG9yZXMvVGhyZWFkVmlld3BvcnQudHN4P2FiMGUiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2NvbnRleHQvUmVhZG9ubHlTdG9yZS50cz8xOGI5Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9jb250ZXh0L3Byb3ZpZGVycy9UZXh0Q29udGVudFBhcnRQcm92aWRlci50c3g/NTliMiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvY29udGV4dC9yZWFjdC9Db250ZW50UGFydENvbnRleHQudHM/NjdiMyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvYXBpL0NvbnRlbnRQYXJ0UnVudGltZS50cz80ZDQzIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9jb250ZXh0L3JlYWN0L01lc3NhZ2VDb250ZXh0LnRzPzczYmIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2NvbnRleHQvcmVhY3QvQ29tcG9zZXJDb250ZXh0LnRzPzVkYzgiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2hvb2tzL3VzZUFwcGVuZE1lc3NhZ2UudHN4P2ZmNDgiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2hvb2tzL3VzZVN3aXRjaFRvTmV3VGhyZWFkLnRzeD8wYTU5Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9tb2RlbC1jb25maWcvdXNlQXNzaXN0YW50VG9vbC50c3g/NTI3NCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvbW9kZWwtY29uZmlnL21ha2VBc3Npc3RhbnRUb29sLnRzeD81MzJhIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9tb2RlbC1jb25maWcvdXNlQXNzaXN0YW50VG9vbFVJLnRzeD85ZmYwIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9tb2RlbC1jb25maWcvbWFrZUFzc2lzdGFudFRvb2xVSS50c3g/MzcxNyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvbW9kZWwtY29uZmlnL3VzZUFzc2lzdGFudEluc3RydWN0aW9ucy50c3g/NjA5MiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJDb3B5LnRzeD84MjdkIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvYWN0aW9uQmFyL3VzZUFjdGlvbkJhckVkaXQudHN4PzFiNDgiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9hY3Rpb25CYXIvdXNlQWN0aW9uQmFyUmVsb2FkLnRzeD8zNWVjIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91dGlscy9jb21iaW5lZC91c2VDb21iaW5lZFN0b3JlLnRzP2Q3NTYiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3V0aWxzL2NvbWJpbmVkL2NyZWF0ZUNvbWJpbmVkU3RvcmUudHM/YzBiZiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJTcGVhay50c3g/ZWYwYiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJTdG9wU3BlYWtpbmcudHN4P2ZkNjIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9hY3Rpb25CYXIvdXNlQWN0aW9uQmFyRmVlZGJhY2tQb3NpdGl2ZS50c3g/NGMzYyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJGZWVkYmFja05lZ2F0aXZlLnRzeD8wMjkxIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvYnJhbmNoUGlja2VyL3VzZUJyYW5jaFBpY2tlckNvdW50LnRzeD9mM2M3Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvYnJhbmNoUGlja2VyL3VzZUJyYW5jaFBpY2tlck5leHQudHN4P2QwY2IiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9icmFuY2hQaWNrZXIvdXNlQnJhbmNoUGlja2VyTnVtYmVyLnRzeD9iNDUxIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvYnJhbmNoUGlja2VyL3VzZUJyYW5jaFBpY2tlclByZXZpb3VzLnRzeD9kYjNmIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvY29tcG9zZXIvdXNlQ29tcG9zZXJDYW5jZWwudHN4P2NjNDMiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy9jb21wb3Nlci91c2VDb21wb3NlcklmLnRzeD9kYTkzIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvY29tcG9zZXIvdXNlQ29tcG9zZXJTZW5kLnRzeD83MTllIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvY29tcG9zZXIvdXNlQ29tcG9zZXJBZGRBdHRhY2htZW50LnRzeD9kZTRhIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvY29udGVudFBhcnQvdXNlQ29udGVudFBhcnREaXNwbGF5LnRzeD9kYjZlIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvY29udGVudFBhcnQvdXNlQ29udGVudFBhcnRJbWFnZS50c3g/ZWE1NiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2NvbnRlbnRQYXJ0L3VzZUNvbnRlbnRQYXJ0VGV4dC50c3g/YjI2NSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL21lc3NhZ2UvdXNlTWVzc2FnZUlmLnRzeD9lYjY4Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvdGhyZWFkL3VzZVRocmVhZElmLnRzeD80ZmQ4Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvdGhyZWFkL3VzZVRocmVhZEVtcHR5LnRzeD9jY2E0Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvdGhyZWFkL3VzZVRocmVhZFNjcm9sbFRvQm90dG9tLnRzeD81ZDUxIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmUtaG9va3MvdGhyZWFkL3VzZVRocmVhZFN1Z2dlc3Rpb24udHN4PzBkMjIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvYWN0aW9uQmFyL2luZGV4LnRzPzRkMDUiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvYWN0aW9uQmFyL0FjdGlvbkJhclJvb3QudHN4P2Q1YTQiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvYWN0aW9uQmFyL3VzZUFjdGlvbkJhckZsb2F0U3RhdHVzLnRzeD82ZWU2Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2FjdGlvbkJhci9BY3Rpb25CYXJDb3B5LnRzeD9lNjlhIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91dGlscy9jcmVhdGVBY3Rpb25CdXR0b24udHN4PzZjMjgiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvYWN0aW9uQmFyL0FjdGlvbkJhclJlbG9hZC50c3g/OTdhMCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvQWN0aW9uQmFyRWRpdC50c3g/ZGIzOSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvQWN0aW9uQmFyU3BlYWsudHN4PzA2MDAiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvYWN0aW9uQmFyL0FjdGlvbkJhclN0b3BTcGVha2luZy50c3g/Mjk3NyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvQWN0aW9uQmFyRmVlZGJhY2tQb3NpdGl2ZS50c3g/ZDJkNiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9hY3Rpb25CYXIvQWN0aW9uQmFyRmVlZGJhY2tOZWdhdGl2ZS50c3g/ODdlYyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9hc3Npc3RhbnRNb2RhbC9pbmRleC50cz8wNDA2Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2Fzc2lzdGFudE1vZGFsL0Fzc2lzdGFudE1vZGFsUm9vdC50c3g/ZjdmNyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9hc3Npc3RhbnRNb2RhbC9zY29wZS50c3g/Y2U2YyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9hc3Npc3RhbnRNb2RhbC9Bc3Npc3RhbnRNb2RhbFRyaWdnZXIudHN4P2FhYTQiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvYXNzaXN0YW50TW9kYWwvQXNzaXN0YW50TW9kYWxDb250ZW50LnRzeD83YmY1Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2Fzc2lzdGFudE1vZGFsL0Fzc2lzdGFudE1vZGFsQW5jaG9yLnRzeD84OTY0Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2F0dGFjaG1lbnQvaW5kZXgudHM/ZTJkYyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9hdHRhY2htZW50L0F0dGFjaG1lbnRSb290LnRzeD83ZGNhIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2F0dGFjaG1lbnQvQXR0YWNobWVudFRodW1iLnRzeD9mMjcxIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9jb250ZXh0L3JlYWN0L0F0dGFjaG1lbnRDb250ZXh0LnRzPzA2MjEiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvYXR0YWNobWVudC9BdHRhY2htZW50TmFtZS50c3g/ZjU1MiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlLWhvb2tzL2F0dGFjaG1lbnQvdXNlQXR0YWNobWVudFJlbW92ZS50cz8wMmE5Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2F0dGFjaG1lbnQvQXR0YWNobWVudFJlbW92ZS50c3g/ZGExMSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9icmFuY2hQaWNrZXIvaW5kZXgudHM/MzVlYyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9icmFuY2hQaWNrZXIvQnJhbmNoUGlja2VyTmV4dC50c3g/YjRiZSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9icmFuY2hQaWNrZXIvQnJhbmNoUGlja2VyUHJldmlvdXMudHN4P2JmOWIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvYnJhbmNoUGlja2VyL0JyYW5jaFBpY2tlckNvdW50LnRzeD9iYjVlIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2JyYW5jaFBpY2tlci9CcmFuY2hQaWNrZXJOdW1iZXIudHN4P2NiYTAiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvYnJhbmNoUGlja2VyL0JyYW5jaFBpY2tlclJvb3QudHN4P2FlMTgiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvbWVzc2FnZS9pbmRleC50cz83ZDdlIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL21lc3NhZ2UvTWVzc2FnZVJvb3QudHN4PzhlZDQiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3V0aWxzL2hvb2tzL3VzZU1hbmFnZWRSZWYudHM/NDI1NSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9tZXNzYWdlL01lc3NhZ2VJZi50c3g/ZGIyNSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9tZXNzYWdlL01lc3NhZ2VDb250ZW50LnRzeD9iMzE1Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9jb250ZXh0L3Byb3ZpZGVycy9Db250ZW50UGFydFJ1bnRpbWVQcm92aWRlci50c3g/Yjk1MSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9jb250ZW50UGFydC9Db250ZW50UGFydFRleHQudHN4P2RhNTQiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3V0aWxzL3Ntb290aC91c2VTbW9vdGgudHN4PzQ5MmQiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3V0aWxzL3Ntb290aC9TbW9vdGhDb250ZXh0LnRzeD9lNzE4Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2NvbnRlbnRQYXJ0L0NvbnRlbnRQYXJ0SW1hZ2UudHN4P2ZiMTAiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvY29udGVudFBhcnQvQ29udGVudFBhcnREaXNwbGF5LnRzeD9jNWI1Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2NvbnRlbnRQYXJ0L0NvbnRlbnRQYXJ0SW5Qcm9ncmVzcy50c3g/M2Y4MiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvdXRpbHMvZ2V0VGhyZWFkTWVzc2FnZVRleHQudHN4PzU0YWEiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2FwaS9BdHRhY2htZW50UnVudGltZS50cz9hY2IyIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9hcGkvc3Vic2NyaWJhYmxlL0Jhc2VTdWJqZWN0LnRzP2I4YWIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2FwaS9zdWJzY3JpYmFibGUvU0tJUF9VUERBVEUudHM/Y2EwOCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvYXBpL3N1YnNjcmliYWJsZS9MYXp5TWVtb2l6ZVN1YmplY3QudHM/YWRlMCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvYXBpL3N1YnNjcmliYWJsZS9zaGFsbG93RXF1YWwudHM/NzUwYSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvYXBpL3N1YnNjcmliYWJsZS9TaGFsbG93TWVtb2l6ZVN1YmplY3QudHM/ZjY4NSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvYXBpL0NvbXBvc2VyUnVudGltZS50cz9hNWQ2Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9hcGkvc3Vic2NyaWJhYmxlL05lc3RlZFN1YnNjcmlwdGlvblN1YmplY3QudHM/ZWZkNyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvYXBpL01lc3NhZ2VSdW50aW1lLnRzPzFhMzEiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvbWVzc2FnZS9NZXNzYWdlSW5Qcm9ncmVzcy50c3g/NGZjNyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9tZXNzYWdlL01lc3NhZ2VBdHRhY2htZW50cy50c3g/YmE1ZiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvY29udGV4dC9wcm92aWRlcnMvQXR0YWNobWVudFJ1bnRpbWVQcm92aWRlci50c3g/ZjFmOCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9jb21wb3Nlci9pbmRleC50cz82MTdjIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2NvbXBvc2VyL0NvbXBvc2VyUm9vdC50c3g/Njk3NSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9jb21wb3Nlci9Db21wb3NlcklucHV0LnRzeD82NzQ2Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91dGlscy9ob29rcy91c2VPblNjcm9sbFRvQm90dG9tLnRzeD81MjliIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2NvbXBvc2VyL0NvbXBvc2VyU2VuZC50c3g/NzliNyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9jb21wb3Nlci9Db21wb3NlckNhbmNlbC50c3g/YzEyYSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9jb21wb3Nlci9Db21wb3NlckFkZEF0dGFjaG1lbnQudHN4P2E0ZWYiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvY29tcG9zZXIvQ29tcG9zZXJBdHRhY2htZW50cy50c3g/MWQzZiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy9jb21wb3Nlci9Db21wb3NlcklmLnRzeD82NmZkIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL2NvbnRlbnRQYXJ0L2luZGV4LnRzPzkwNWIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL2luZGV4LnRzPzQ5OWIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL1RocmVhZFJvb3QudHN4PzQ2ZjgiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL1RocmVhZEVtcHR5LnRzeD8wZDA0Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9wcmltaXRpdmVzL3RocmVhZC9UaHJlYWRJZi50c3g/OTg2NSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy90aHJlYWQvVGhyZWFkVmlld3BvcnQudHN4PzkyZmIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZS1ob29rcy90aHJlYWQvdXNlVGhyZWFkVmlld3BvcnRBdXRvU2Nyb2xsLnRzeD8wOTc5Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91dGlscy9ob29rcy91c2VPblJlc2l6ZUNvbnRlbnQudHN4PzViYjAiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL1RocmVhZE1lc3NhZ2VzLnRzeD8yYTNjIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9jb250ZXh0L3Byb3ZpZGVycy9NZXNzYWdlUnVudGltZVByb3ZpZGVyLnRzeD85MmJjIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9jb250ZXh0L3N0b3Jlcy9NZXNzYWdlVXRpbHMudHM/OWE3MyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcHJpbWl0aXZlcy90aHJlYWQvVGhyZWFkU2Nyb2xsVG9Cb3R0b20udHN4Pzk1YzkiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3ByaW1pdGl2ZXMvdGhyZWFkL1RocmVhZFN1Z2dlc3Rpb24udHN4PzE5ZWMiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2NvcmUvc3Vic2NyaWJlVG9NYWluVGhyZWFkLnRzPzRiNTciLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2xvY2FsL3VzZUxvY2FsUnVudGltZS50c3g/ODZmZCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvY29yZS9CYXNlQXNzaXN0YW50UnVudGltZUNvcmUudHN4P2E4NjgiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL2ludGVybmFsLnRzP2FiOGQiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2NvbXBvc2VyL0Jhc2VDb21wb3NlclJ1bnRpbWVDb3JlLnRzeD82NGZjIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9jb21wb3Nlci9EZWZhdWx0VGhyZWFkQ29tcG9zZXJSdW50aW1lQ29yZS50c3g/YTk3NSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvdXRpbHMvUHJveHlDb25maWdQcm92aWRlci50cz85ZDExIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91dGlscy9pZFV0aWxzLnRzeD9iZDFhIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9lZGdlL2NvbnZlcnRlcnMvZnJvbUNvcmVNZXNzYWdlLnRzPzU2MjMiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL3V0aWxzL01lc3NhZ2VSZXBvc2l0b3J5LnRzeD8wY2RmIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91aS9iYXNlL3Rvb2x0aXAtaWNvbi1idXR0b24udHN4PzQxNGEiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3VpL2Jhc2UvdG9vbHRpcC50c3g/ZTI2OCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvdWkvdXRpbHMvd2l0aERlZmF1bHRzLnRzeD9lNDM5Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91aS9iYXNlL2J1dHRvbi50c3g/NzM1YSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvYXBpL1RocmVhZFJ1bnRpbWUudHM/YTE3MiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvYXBpL0Fzc2lzdGFudFJ1bnRpbWUudHM/ZTNlZSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZWRnZS9jb252ZXJ0ZXJzL2Zyb21MYW5ndWFnZU1vZGVsTWVzc2FnZXMudHM/ZDhmZCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZWRnZS9jb252ZXJ0ZXJzL2Zyb21MYW5ndWFnZU1vZGVsVG9vbHMudHM/NWYxMCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZWRnZS9zdHJlYW1zL3V0aWxzL2NodW5rQnlMaW5lU3RyZWFtLnRzPzI5YTQiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2VkZ2Uvc3RyZWFtcy91dGlscy9zdHJlYW1QYXJ0RGVjb2RlclN0cmVhbS50cz81OGNjIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9lZGdlL3N0cmVhbXMvdXRpbHMvaW5kZXgudHM/YTA1OCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZWRnZS91c2VFZGdlUnVudGltZS50cz9hMGMwIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9lZGdlL3N0cmVhbXMvYXNzaXN0YW50RGVjb2RlclN0cmVhbS50cz85NTZlIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9lZGdlL0VkZ2VDaGF0QWRhcHRlci50cz8zMGRmIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9sb2NhbC9Mb2NhbFJ1bnRpbWVPcHRpb25zLnRzeD80ZDQ4Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9sb2NhbC9zaG91bGRDb250aW51ZS50c3g/MDhiMyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvY29tcG9zZXIvRGVmYXVsdEVkaXRDb21wb3NlclJ1bnRpbWVDb3JlLnRzeD9mNmZkIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9jb3JlL0Jhc2VUaHJlYWRSdW50aW1lQ29yZS50c3g/MDU2MCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvbG9jYWwvTG9jYWxUaHJlYWRSdW50aW1lQ29yZS50c3g/YWJmYSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvbG9jYWwvTG9jYWxSdW50aW1lQ29yZS50c3g/MjM2OCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZXh0ZXJuYWwtc3RvcmUvdXNlRXh0ZXJuYWxTdG9yZVJ1bnRpbWUudHN4PzM3Y2YiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2V4dGVybmFsLXN0b3JlL2dldEV4dGVybmFsU3RvcmVNZXNzYWdlLnRzeD85NmI0Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9leHRlcm5hbC1zdG9yZS9UaHJlYWRNZXNzYWdlQ29udmVydGVyLnRzPzYyNjUiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2V4dGVybmFsLXN0b3JlL2F1dG8tc3RhdHVzLnRzeD9hYWJiIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9leHRlcm5hbC1zdG9yZS9UaHJlYWRNZXNzYWdlTGlrZS50c3g/YmQ4YSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvZXh0ZXJuYWwtc3RvcmUvRXh0ZXJuYWxTdG9yZVRocmVhZFJ1bnRpbWVDb3JlLnRzeD9jN2MzIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9leHRlcm5hbC1zdG9yZS9FeHRlcm5hbFN0b3JlUnVudGltZUNvcmUudHN4P2NmNTYiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2V4dGVybmFsLXN0b3JlL2V4dGVybmFsLW1lc3NhZ2UtY29udmVydGVyLnRzeD80NGJkIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy9ydW50aW1lcy9kYW5nZXJvdXMtaW4tYnJvd3Nlci91c2VEYW5nZXJvdXNJbkJyb3dzZXJSdW50aW1lLnRzPzkwNzEiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2Rhbmdlcm91cy1pbi1icm93c2VyL0Rhbmdlcm91c0luQnJvd3NlckFkYXB0ZXIudHM/ZWMyOCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvc3BlZWNoL1dlYlNwZWVjaFN5bnRoZXNpc0FkYXB0ZXIudHM/MTcxYyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvcnVudGltZXMvYXR0YWNobWVudC9TaW1wbGVJbWFnZUF0dGFjaG1lbnRBZGFwdGVyLnRzPzFjMmUiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2F0dGFjaG1lbnQvU2ltcGxlVGV4dEF0dGFjaG1lbnRBZGFwdGVyLnRzPzA3ZmQiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3J1bnRpbWVzL2F0dGFjaG1lbnQvQ29tcG9zaXRlQXR0YWNobWVudEFkYXB0ZXIudHM/ZjAxNyIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvdWkvdGhyZWFkLWNvbmZpZy50c3g/OGI0NCIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvdWkvYXNzaXN0YW50LWFjdGlvbi1iYXIudHN4PzgwNGIiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3VpL2Fzc2lzdGFudC1tZXNzYWdlLnRzeD85MTA0Iiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91aS9icmFuY2gtcGlja2VyLnRzeD9lMzdiIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91aS9iYXNlL2F2YXRhci50c3g/MTg5MSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvdWkvY29udGVudC1wYXJ0LnRzeD9iNTZmIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91aS9hc3Npc3RhbnQtbW9kYWwudHN4P2E3MGYiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3VpL3RocmVhZC50c3g/NGMxNiIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvdWkvY29tcG9zZXIudHN4PzI2ZGMiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3VpL2Jhc2UvQ2lyY2xlU3RvcEljb24udHN4PzVhYTkiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3VpL2F0dGFjaG1lbnQudHN4P2NmZjAiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3VpL2Jhc2UvZGlhbG9nLnRzeD8wNTBiIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91aS90aHJlYWQtd2VsY29tZS50c3g/ODNmNSIsIndlYnBhY2s6Ly9hc3Npc3RhbnQtdWktc3RhcnRlci8uLi9zcmMvdWkvdXNlci1tZXNzYWdlLnRzeD9iMGEwIiwid2VicGFjazovL2Fzc2lzdGFudC11aS1zdGFydGVyLy4uL3NyYy91aS91c2VyLWFjdGlvbi1iYXIudHN4P2FiMGEiLCJ3ZWJwYWNrOi8vYXNzaXN0YW50LXVpLXN0YXJ0ZXIvLi4vc3JjL3VpL2VkaXQtY29tcG9zZXIudHN4PzQyNTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB0eXBlIHsgRkMsIFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBtZW1vLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRDb250ZXh0IH0gZnJvbSBcIi4uL3JlYWN0L0Fzc2lzdGFudENvbnRleHRcIjtcbmltcG9ydCB7IG1ha2VBc3Npc3RhbnRUb29sVUlzU3RvcmUgfSBmcm9tIFwiLi4vc3RvcmVzL0Fzc2lzdGFudFRvb2xVSXNcIjtcbmltcG9ydCB7IFRocmVhZFJ1bnRpbWVQcm92aWRlciB9IGZyb20gXCIuL1RocmVhZFJ1bnRpbWVQcm92aWRlclwiO1xuaW1wb3J0IHsgQXNzaXN0YW50UnVudGltZSB9IGZyb20gXCIuLi8uLi9hcGkvQXNzaXN0YW50UnVudGltZVwiO1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IHdyaXRhYmxlU3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuXG50eXBlIEFzc2lzdGFudFJ1bnRpbWVQcm92aWRlclByb3BzID0ge1xuICBydW50aW1lOiBBc3Npc3RhbnRSdW50aW1lO1xufTtcblxuY29uc3QgdXNlQXNzaXN0YW50UnVudGltZVN0b3JlID0gKHJ1bnRpbWU6IEFzc2lzdGFudFJ1bnRpbWUpID0+IHtcbiAgY29uc3QgW3N0b3JlXSA9IHVzZVN0YXRlKCgpID0+IGNyZWF0ZSgoKSA9PiBydW50aW1lKSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3cml0YWJsZVN0b3JlKHN0b3JlKS5zZXRTdGF0ZShydW50aW1lLCB0cnVlKTtcbiAgfSwgW3J1bnRpbWUsIHN0b3JlXSk7XG5cbiAgcmV0dXJuIHN0b3JlO1xufTtcblxuY29uc3QgdXNlQXNzaXN0YW50VG9vbFVJc1N0b3JlID0gKCkgPT4ge1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiBtYWtlQXNzaXN0YW50VG9vbFVJc1N0b3JlKCksIFtdKTtcbn07XG5cbmV4cG9ydCBjb25zdCBBc3Npc3RhbnRSdW50aW1lUHJvdmlkZXJJbXBsOiBGQzxcbiAgUHJvcHNXaXRoQ2hpbGRyZW48QXNzaXN0YW50UnVudGltZVByb3ZpZGVyUHJvcHM+XG4+ID0gKHsgY2hpbGRyZW4sIHJ1bnRpbWUgfSkgPT4ge1xuICBjb25zdCB1c2VBc3Npc3RhbnRSdW50aW1lID0gdXNlQXNzaXN0YW50UnVudGltZVN0b3JlKHJ1bnRpbWUpO1xuICBjb25zdCB1c2VUb29sVUlzID0gdXNlQXNzaXN0YW50VG9vbFVJc1N0b3JlKCk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlVG9vbFVJcyxcbiAgICAgIHVzZUFzc2lzdGFudFJ1bnRpbWUsXG4gICAgICB1c2VBc3Npc3RhbnRBY3Rpb25zOiB1c2VBc3Npc3RhbnRSdW50aW1lLFxuICAgIH07XG4gIH0sIFt1c2VBc3Npc3RhbnRSdW50aW1lLCB1c2VUb29sVUlzXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8QXNzaXN0YW50Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dH0+XG4gICAgICA8VGhyZWFkUnVudGltZVByb3ZpZGVyIHJ1bnRpbWU9e3J1bnRpbWUudGhyZWFkfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9UaHJlYWRSdW50aW1lUHJvdmlkZXI+XG4gICAgPC9Bc3Npc3RhbnRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IEFzc2lzdGFudFJ1bnRpbWVQcm92aWRlciA9IG1lbW8oQXNzaXN0YW50UnVudGltZVByb3ZpZGVySW1wbCk7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUgeyBBc3Npc3RhbnRUb29sVUlzU3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVzL0Fzc2lzdGFudFRvb2xVSXNcIjtcbmltcG9ydCB7IFJlYWRvbmx5U3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dEhvb2sgfSBmcm9tIFwiLi91dGlscy9jcmVhdGVDb250ZXh0SG9va1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFN0b3JlSG9vayB9IGZyb20gXCIuL3V0aWxzL2NyZWF0ZUNvbnRleHRTdG9yZUhvb2tcIjtcbmltcG9ydCB7IFVzZUJvdW5kU3RvcmUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHsgQXNzaXN0YW50UnVudGltZSB9IGZyb20gXCIuLi8uLi9hcGkvQXNzaXN0YW50UnVudGltZVwiO1xuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRDb250ZXh0VmFsdWUgPSB7XG4gIHVzZVRvb2xVSXM6IFVzZUJvdW5kU3RvcmU8UmVhZG9ubHlTdG9yZTxBc3Npc3RhbnRUb29sVUlzU3RhdGU+PjtcbiAgdXNlQXNzaXN0YW50UnVudGltZTogVXNlQm91bmRTdG9yZTxSZWFkb25seVN0b3JlPEFzc2lzdGFudFJ1bnRpbWU+PjtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGB1c2VBc3Npc3RhbnRSdW50aW1lYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHVzZUFzc2lzdGFudEFjdGlvbnM6IFVzZUJvdW5kU3RvcmU8UmVhZG9ubHlTdG9yZTxBc3Npc3RhbnRSdW50aW1lPj47XG59O1xuXG5leHBvcnQgY29uc3QgQXNzaXN0YW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QXNzaXN0YW50Q29udGV4dFZhbHVlIHwgbnVsbD4oXG4gIG51bGwsXG4pO1xuXG5leHBvcnQgY29uc3QgdXNlQXNzaXN0YW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHRIb29rKFxuICBBc3Npc3RhbnRDb250ZXh0LFxuICBcIkFzc2lzdGFudFJ1bnRpbWVQcm92aWRlclwiLFxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFzc2lzdGFudFJ1bnRpbWUob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBmYWxzZSB8IHVuZGVmaW5lZDtcbn0pOiBBc3Npc3RhbnRSdW50aW1lO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFzc2lzdGFudFJ1bnRpbWUob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IEFzc2lzdGFudFJ1bnRpbWUgfCBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFzc2lzdGFudFJ1bnRpbWUob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQXNzaXN0YW50Q29udGV4dChvcHRpb25zKTtcbiAgaWYgKCFjb250ZXh0KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGNvbnRleHQudXNlQXNzaXN0YW50UnVudGltZSgpO1xufVxuXG5leHBvcnQgY29uc3QgYWN0aW9ucyA9IGNyZWF0ZUNvbnRleHRTdG9yZUhvb2soXG4gIHVzZUFzc2lzdGFudENvbnRleHQsXG4gIFwidXNlQXNzaXN0YW50QWN0aW9uc1wiLFxuKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYHVzZUFzc2lzdGFudFJ1bnRpbWVgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICovXG5leHBvcnQgY29uc3QgdXNlQXNzaXN0YW50QWN0aW9uc1N0b3JlID0gYWN0aW9ucy51c2VBc3Npc3RhbnRBY3Rpb25zU3RvcmU7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGB1c2VBc3Npc3RhbnRSdW50aW1lYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUFzc2lzdGFudEFjdGlvbnMgPSBhY3Rpb25zLnVzZUFzc2lzdGFudEFjdGlvbnM7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGB1c2VBc3Npc3RhbnRSdW50aW1lYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUFzc2lzdGFudFJ1bnRpbWVTdG9yZSA9IHVzZUFzc2lzdGFudEFjdGlvbnNTdG9yZTtcblxuZXhwb3J0IGNvbnN0IHsgdXNlVG9vbFVJcywgdXNlVG9vbFVJc1N0b3JlIH0gPSBjcmVhdGVDb250ZXh0U3RvcmVIb29rKFxuICB1c2VBc3Npc3RhbnRDb250ZXh0LFxuICBcInVzZVRvb2xVSXNcIixcbik7XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0LCBDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNvbnRleHQgaG9vayB3aXRoIG9wdGlvbmFsIHN1cHBvcnQuXG4gKiBAcGFyYW0gY29udGV4dCAtIFRoZSBSZWFjdCBjb250ZXh0IHRvIGNvbnN1bWUuXG4gKiBAcGFyYW0gcHJvdmlkZXJOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHByb3ZpZGVyIGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEByZXR1cm5zIEEgaG9vayBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIHRoZSBjb250ZXh0IHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dEhvb2s8VD4oXG4gIGNvbnRleHQ6IENvbnRleHQ8VCB8IG51bGw+LFxuICBwcm92aWRlck5hbWU6IHN0cmluZyxcbikge1xuICBmdW5jdGlvbiB1c2VDb250ZXh0SG9vayhvcHRpb25zPzogeyBvcHRpb25hbD86IGZhbHNlIHwgdW5kZWZpbmVkIH0pOiBUO1xuICBmdW5jdGlvbiB1c2VDb250ZXh0SG9vayhvcHRpb25zPzoge1xuICAgIG9wdGlvbmFsPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgfSk6IFQgfCBudWxsO1xuICBmdW5jdGlvbiB1c2VDb250ZXh0SG9vayhvcHRpb25zPzogeyBvcHRpb25hbD86IGJvb2xlYW4gfCB1bmRlZmluZWQgfSkge1xuICAgIGNvbnN0IGNvbnRleHRWYWx1ZSA9IHVzZUNvbnRleHQoY29udGV4dCk7XG4gICAgaWYgKCFvcHRpb25zPy5vcHRpb25hbCAmJiAhY29udGV4dFZhbHVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoaXMgY29tcG9uZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gJHtwcm92aWRlck5hbWV9LmApO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dFZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHVzZUNvbnRleHRIb29rO1xufVxuIiwiaW1wb3J0IHsgVXNlQm91bmRTdG9yZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgeyBSZWFkb25seVN0b3JlIH0gZnJvbSBcIi4uLy4uL1JlYWRvbmx5U3RvcmVcIjtcblxuLyoqXG4gKiBDcmVhdGVzIGhvb2tzIGZvciBhY2Nlc3NpbmcgYSBzdG9yZSB3aXRoaW4gYSBjb250ZXh0LlxuICogQHBhcmFtIGNvbnRleHRIb29rIC0gVGhlIGhvb2sgdG8gYWNjZXNzIHRoZSBjb250ZXh0LlxuICogQHBhcmFtIGNvbnRleHRLZXkgLSBUaGUga2V5IG9mIHRoZSBzdG9yZSBpbiB0aGUgY29udGV4dC5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBob29rczogYHVzZS4uLmAgYW5kIGB1c2UuLi5TdG9yZWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0U3RvcmVIb29rPFQsIEsgZXh0ZW5kcyBrZXlvZiBUICYgc3RyaW5nPihcbiAgY29udGV4dEhvb2s6IChvcHRpb25zPzogeyBvcHRpb25hbD86IGJvb2xlYW4gfSkgPT4gVCB8IG51bGwsXG4gIGNvbnRleHRLZXk6IEssXG4pIHtcbiAgdHlwZSBTdG9yZVR5cGUgPSBUW0tdO1xuICB0eXBlIFN0YXRlVHlwZSA9IFN0b3JlVHlwZSBleHRlbmRzIFJlYWRvbmx5U3RvcmU8aW5mZXIgUz4gPyBTIDogbmV2ZXI7XG5cbiAgLy8gRGVmaW5lIHVzZVN0b3JlU3RvcmVIb29rIHdpdGggb3ZlcmxvYWRzXG4gIGZ1bmN0aW9uIHVzZVN0b3JlU3RvcmVIb29rKCk6IFJlYWRvbmx5U3RvcmU8U3RhdGVUeXBlPjtcbiAgZnVuY3Rpb24gdXNlU3RvcmVTdG9yZUhvb2sob3B0aW9uczoge1xuICAgIG9wdGlvbmFsOiB0cnVlO1xuICB9KTogUmVhZG9ubHlTdG9yZTxTdGF0ZVR5cGU+IHwgbnVsbDtcbiAgZnVuY3Rpb24gdXNlU3RvcmVTdG9yZUhvb2sob3B0aW9ucz86IHtcbiAgICBvcHRpb25hbD86IGJvb2xlYW47XG4gIH0pOiBSZWFkb25seVN0b3JlPFN0YXRlVHlwZT4gfCBudWxsIHtcbiAgICBjb25zdCBjb250ZXh0ID0gY29udGV4dEhvb2sob3B0aW9ucyk7XG4gICAgaWYgKCFjb250ZXh0KSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gY29udGV4dFtjb250ZXh0S2V5XSBhcyBSZWFkb25seVN0b3JlPFN0YXRlVHlwZT47XG4gIH1cblxuICAvLyBEZWZpbmUgdXNlU3RvcmVIb29rIHdpdGggb3ZlcmxvYWRzXG4gIGZ1bmN0aW9uIHVzZVN0b3JlSG9vaygpOiBTdGF0ZVR5cGU7XG4gIGZ1bmN0aW9uIHVzZVN0b3JlSG9vazxUU2VsZWN0ZWQ+KFxuICAgIHNlbGVjdG9yOiAoc3RhdGU6IFN0YXRlVHlwZSkgPT4gVFNlbGVjdGVkLFxuICApOiBUU2VsZWN0ZWQ7XG4gIGZ1bmN0aW9uIHVzZVN0b3JlSG9vayhvcHRpb25zOiB7IG9wdGlvbmFsOiB0cnVlIH0pOiBTdGF0ZVR5cGUgfCBudWxsO1xuICBmdW5jdGlvbiB1c2VTdG9yZUhvb2s8VFNlbGVjdGVkPihvcHRpb25zOiB7XG4gICAgb3B0aW9uYWw6IHRydWU7XG4gICAgc2VsZWN0b3I/OiAoc3RhdGU6IFN0YXRlVHlwZSkgPT4gVFNlbGVjdGVkO1xuICB9KTogVFNlbGVjdGVkIHwgbnVsbDtcbiAgZnVuY3Rpb24gdXNlU3RvcmVIb29rPFRTZWxlY3RlZD4oXG4gICAgcGFyYW0/OlxuICAgICAgfCAoKHN0YXRlOiBTdGF0ZVR5cGUpID0+IFRTZWxlY3RlZClcbiAgICAgIHwge1xuICAgICAgICAgIG9wdGlvbmFsPzogYm9vbGVhbjtcbiAgICAgICAgICBzZWxlY3Rvcj86IChzdGF0ZTogU3RhdGVUeXBlKSA9PiBUU2VsZWN0ZWQ7XG4gICAgICAgIH0sXG4gICk6IFRTZWxlY3RlZCB8IFN0YXRlVHlwZSB8IG51bGwge1xuICAgIGxldCBvcHRpb25hbCA9IGZhbHNlO1xuICAgIGxldCBzZWxlY3RvcjogKChzdGF0ZTogU3RhdGVUeXBlKSA9PiBUU2VsZWN0ZWQpIHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBzZWxlY3RvciA9IHBhcmFtO1xuICAgIH0gZWxzZSBpZiAocGFyYW0gJiYgdHlwZW9mIHBhcmFtID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBvcHRpb25hbCA9ICEhcGFyYW0ub3B0aW9uYWw7XG4gICAgICBzZWxlY3RvciA9IHBhcmFtLnNlbGVjdG9yO1xuICAgIH1cblxuICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVTdG9yZUhvb2soe1xuICAgICAgb3B0aW9uYWwsXG4gICAgfSBhcyBhbnkpIGFzIFVzZUJvdW5kU3RvcmU8UmVhZG9ubHlTdG9yZTxTdGF0ZVR5cGU+PjtcbiAgICBpZiAoIXN0b3JlKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gc2VsZWN0b3IgPyBzdG9yZShzZWxlY3RvcikgOiBzdG9yZSgpO1xuICB9XG5cbiAgLy8gUmV0dXJuIGFuIG9iamVjdCB3aXRoIGtleXMgYmFzZWQgb24gY29udGV4dEtleVxuICByZXR1cm4ge1xuICAgIFtjb250ZXh0S2V5XTogdXNlU3RvcmVIb29rLFxuICAgIFtgJHtjb250ZXh0S2V5fVN0b3JlYF06IHVzZVN0b3JlU3RvcmVIb29rLFxuICB9IGFzIHtcbiAgICBbUCBpbiBLXTogdHlwZW9mIHVzZVN0b3JlSG9vaztcbiAgfSAmIHtcbiAgICBbUCBpbiBgJHtLfVN0b3JlYF06IHR5cGVvZiB1c2VTdG9yZVN0b3JlSG9vaztcbiAgfTtcbn1cbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHR5cGUgeyBUb29sQ2FsbENvbnRlbnRQYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzL0NvbnRlbnRQYXJ0Q29tcG9uZW50VHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgQXNzaXN0YW50VG9vbFVJc1N0YXRlID0gUmVhZG9ubHk8e1xuICBnZXRUb29sVUk6ICh0b29sTmFtZTogc3RyaW5nKSA9PiBUb29sQ2FsbENvbnRlbnRQYXJ0Q29tcG9uZW50IHwgbnVsbDtcbiAgc2V0VG9vbFVJOiAoXG4gICAgdG9vbE5hbWU6IHN0cmluZyxcbiAgICByZW5kZXI6IFRvb2xDYWxsQ29udGVudFBhcnRDb21wb25lbnQsXG4gICkgPT4gKCkgPT4gdm9pZDtcbn0+O1xuXG5leHBvcnQgY29uc3QgbWFrZUFzc2lzdGFudFRvb2xVSXNTdG9yZSA9ICgpID0+XG4gIGNyZWF0ZTxBc3Npc3RhbnRUb29sVUlzU3RhdGU+KChzZXQpID0+IHtcbiAgICBjb25zdCByZW5kZXJlcnMgPSBuZXcgTWFwPHN0cmluZywgVG9vbENhbGxDb250ZW50UGFydENvbXBvbmVudFtdPigpO1xuXG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgICAgZ2V0VG9vbFVJOiAobmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBhcnIgPSByZW5kZXJlcnMuZ2V0KG5hbWUpO1xuICAgICAgICBjb25zdCBsYXN0ID0gYXJyPy5hdCgtMSk7XG4gICAgICAgIGlmIChsYXN0KSByZXR1cm4gbGFzdDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9LFxuICAgICAgc2V0VG9vbFVJOiAobmFtZSwgcmVuZGVyKSA9PiB7XG4gICAgICAgIGxldCBhcnIgPSByZW5kZXJlcnMuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IFtdO1xuICAgICAgICAgIHJlbmRlcmVycy5zZXQobmFtZSwgYXJyKTtcbiAgICAgICAgfVxuICAgICAgICBhcnIucHVzaChyZW5kZXIpO1xuICAgICAgICBzZXQoe30pOyAvLyBub3RpZnkgdGhlIHN0b3JlIGxpc3RlbmVyc1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZihyZW5kZXIpO1xuICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggPT09IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldCh7fSk7IC8vIG5vdGlmeSB0aGUgc3RvcmUgbGlzdGVuZXJzXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9KSBzYXRpc2ZpZXMgQXNzaXN0YW50VG9vbFVJc1N0YXRlO1xuICB9KTtcbiIsImltcG9ydCB0eXBlIHsgRkMsIFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IFRocmVhZENvbnRleHRWYWx1ZSB9IGZyb20gXCIuLi9yZWFjdC9UaHJlYWRDb250ZXh0XCI7XG5pbXBvcnQgeyBUaHJlYWRDb250ZXh0IH0gZnJvbSBcIi4uL3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IG1ha2VUaHJlYWRWaWV3cG9ydFN0b3JlIH0gZnJvbSBcIi4uL3N0b3Jlcy9UaHJlYWRWaWV3cG9ydFwiO1xuaW1wb3J0IHsgd3JpdGFibGVTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBUaHJlYWRSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2FwaS9UaHJlYWRSdW50aW1lXCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHsgVGhyZWFkQ29tcG9zZXJSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2FwaVwiO1xuXG50eXBlIFRocmVhZFByb3ZpZGVyUHJvcHMgPSB7XG4gIHJ1bnRpbWU6IFRocmVhZFJ1bnRpbWU7XG59O1xuXG5jb25zdCB1c2VUaHJlYWRSdW50aW1lU3RvcmUgPSAocnVudGltZTogVGhyZWFkUnVudGltZSkgPT4ge1xuICBjb25zdCBbc3RvcmVdID0gdXNlU3RhdGUoKCkgPT4gY3JlYXRlKCgpID0+IHJ1bnRpbWUpKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHdyaXRhYmxlU3RvcmUoc3RvcmUpLnNldFN0YXRlKHJ1bnRpbWUsIHRydWUpO1xuICB9LCBbcnVudGltZSwgc3RvcmVdKTtcblxuICByZXR1cm4gc3RvcmU7XG59O1xuXG5jb25zdCB1c2VUaHJlYWRTdG9yZSA9IChydW50aW1lOiBUaHJlYWRSdW50aW1lKSA9PiB7XG4gIGNvbnN0IFtzdG9yZV0gPSB1c2VTdGF0ZSgoKSA9PiBjcmVhdGUoKCkgPT4gcnVudGltZS5nZXRTdGF0ZSgpKSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlU3RhdGUgPSAoKSA9PlxuICAgICAgd3JpdGFibGVTdG9yZShzdG9yZSkuc2V0U3RhdGUocnVudGltZS5nZXRTdGF0ZSgpLCB0cnVlKTtcbiAgICB1cGRhdGVTdGF0ZSgpO1xuICAgIHJldHVybiBydW50aW1lLnN1YnNjcmliZSh1cGRhdGVTdGF0ZSk7XG4gIH0sIFtydW50aW1lLCBzdG9yZV0pO1xuXG4gIHJldHVybiBzdG9yZTtcbn07XG5cbmNvbnN0IHVzZVRocmVhZE1lc3NhZ2VzU3RvcmUgPSAocnVudGltZTogVGhyZWFkUnVudGltZSkgPT4ge1xuICBjb25zdCBbc3RvcmVdID0gdXNlU3RhdGUoKCkgPT4gY3JlYXRlKCgpID0+IHJ1bnRpbWUubWVzc2FnZXMpKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZVN0YXRlID0gKCkgPT5cbiAgICAgIHdyaXRhYmxlU3RvcmUoc3RvcmUpLnNldFN0YXRlKHJ1bnRpbWUubWVzc2FnZXMsIHRydWUpO1xuICAgIHVwZGF0ZVN0YXRlKCk7XG4gICAgcmV0dXJuIHJ1bnRpbWUuc3Vic2NyaWJlKHVwZGF0ZVN0YXRlKTtcbiAgfSwgW3J1bnRpbWUsIHN0b3JlXSk7XG5cbiAgcmV0dXJuIHN0b3JlO1xufTtcblxuY29uc3QgdXNlVGhyZWFkQ29tcG9zZXJTdG9yZSA9IChydW50aW1lOiBUaHJlYWRDb21wb3NlclJ1bnRpbWUpID0+IHtcbiAgY29uc3QgW3N0b3JlXSA9IHVzZVN0YXRlKCgpID0+IGNyZWF0ZSgoKSA9PiBydW50aW1lLmdldFN0YXRlKCkpKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZVN0YXRlID0gKCkgPT5cbiAgICAgIHdyaXRhYmxlU3RvcmUoc3RvcmUpLnNldFN0YXRlKHJ1bnRpbWUuZ2V0U3RhdGUoKSwgdHJ1ZSk7XG4gICAgdXBkYXRlU3RhdGUoKTtcbiAgICByZXR1cm4gcnVudGltZS5zdWJzY3JpYmUodXBkYXRlU3RhdGUpO1xuICB9LCBbcnVudGltZSwgc3RvcmVdKTtcblxuICByZXR1cm4gc3RvcmU7XG59O1xuXG5leHBvcnQgY29uc3QgVGhyZWFkUnVudGltZVByb3ZpZGVyOiBGQzxcbiAgUHJvcHNXaXRoQ2hpbGRyZW48VGhyZWFkUHJvdmlkZXJQcm9wcz5cbj4gPSAoeyBjaGlsZHJlbiwgcnVudGltZSB9KSA9PiB7XG4gIGNvbnN0IHVzZVRocmVhZFJ1bnRpbWUgPSB1c2VUaHJlYWRSdW50aW1lU3RvcmUocnVudGltZSk7XG4gIGNvbnN0IHVzZVRocmVhZCA9IHVzZVRocmVhZFN0b3JlKHJ1bnRpbWUpO1xuICBjb25zdCB1c2VUaHJlYWRNZXNzYWdlcyA9IHVzZVRocmVhZE1lc3NhZ2VzU3RvcmUocnVudGltZSk7XG4gIGNvbnN0IHVzZVRocmVhZENvbXBvc2VyID0gdXNlVGhyZWFkQ29tcG9zZXJTdG9yZShydW50aW1lLmNvbXBvc2VyKTtcblxuICBjb25zdCBjb250ZXh0ID0gdXNlTWVtbzxUaHJlYWRDb250ZXh0VmFsdWU+KCgpID0+IHtcbiAgICBjb25zdCB1c2VWaWV3cG9ydCA9IG1ha2VUaHJlYWRWaWV3cG9ydFN0b3JlKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXNlVGhyZWFkLFxuICAgICAgdXNlVGhyZWFkUnVudGltZSxcbiAgICAgIHVzZVRocmVhZE1lc3NhZ2VzLFxuICAgICAgdXNlVGhyZWFkQWN0aW9uczogdXNlVGhyZWFkUnVudGltZSxcbiAgICAgIHVzZUNvbXBvc2VyOiB1c2VUaHJlYWRDb21wb3NlcixcbiAgICAgIHVzZVZpZXdwb3J0LFxuICAgIH07XG4gIH0sIFt1c2VUaHJlYWQsIHVzZVRocmVhZFJ1bnRpbWUsIHVzZVRocmVhZE1lc3NhZ2VzLCB1c2VUaHJlYWRDb21wb3Nlcl0pO1xuXG4gIHJldHVybiAoXG4gICAgPFRocmVhZENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PntjaGlsZHJlbn08L1RocmVhZENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB0eXBlIHsgVGhyZWFkVmlld3BvcnRTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZXMvVGhyZWFkVmlld3BvcnRcIjtcbmltcG9ydCB7IFJlYWRvbmx5U3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuaW1wb3J0IHsgVXNlQm91bmRTdG9yZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0SG9vayB9IGZyb20gXCIuL3V0aWxzL2NyZWF0ZUNvbnRleHRIb29rXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0U3RvcmVIb29rIH0gZnJvbSBcIi4vdXRpbHMvY3JlYXRlQ29udGV4dFN0b3JlSG9va1wiO1xuaW1wb3J0IHsgVGhyZWFkUnVudGltZSB9IGZyb20gXCIuLi8uLi9hcGlcIjtcbmltcG9ydCB7IFRocmVhZFN0YXRlIH0gZnJvbSBcIi4uLy4uL2FwaS9UaHJlYWRSdW50aW1lXCI7XG5pbXBvcnQgeyBNb2RlbENvbmZpZywgVGhyZWFkTWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgVGhyZWFkQ29tcG9zZXJTdGF0ZSB9IGZyb20gXCIuLi8uLi9hcGkvQ29tcG9zZXJSdW50aW1lXCI7XG5cbmV4cG9ydCB0eXBlIFRocmVhZENvbnRleHRWYWx1ZSA9IHtcbiAgdXNlVGhyZWFkOiBVc2VCb3VuZFN0b3JlPFJlYWRvbmx5U3RvcmU8VGhyZWFkU3RhdGU+PjtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgdXNlVGhyZWFkUnVudGltZWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICB1c2VUaHJlYWRBY3Rpb25zOiBVc2VCb3VuZFN0b3JlPFJlYWRvbmx5U3RvcmU8VGhyZWFkUnVudGltZT4+O1xuICB1c2VUaHJlYWRSdW50aW1lOiBVc2VCb3VuZFN0b3JlPFJlYWRvbmx5U3RvcmU8VGhyZWFkUnVudGltZT4+O1xuICB1c2VUaHJlYWRNZXNzYWdlczogVXNlQm91bmRTdG9yZTxSZWFkb25seVN0b3JlPHJlYWRvbmx5IFRocmVhZE1lc3NhZ2VbXT4+O1xuICB1c2VDb21wb3NlcjogVXNlQm91bmRTdG9yZTxSZWFkb25seVN0b3JlPFRocmVhZENvbXBvc2VyU3RhdGU+PjtcbiAgdXNlVmlld3BvcnQ6IFVzZUJvdW5kU3RvcmU8UmVhZG9ubHlTdG9yZTxUaHJlYWRWaWV3cG9ydFN0YXRlPj47XG59O1xuXG5leHBvcnQgY29uc3QgVGhyZWFkQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VGhyZWFkQ29udGV4dFZhbHVlIHwgbnVsbD4obnVsbCk7XG5cbmV4cG9ydCBjb25zdCB1c2VUaHJlYWRDb250ZXh0ID0gY3JlYXRlQ29udGV4dEhvb2soXG4gIFRocmVhZENvbnRleHQsXG4gIFwiQXNzaXN0YW50UnVudGltZVByb3ZpZGVyXCIsXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlVGhyZWFkUnVudGltZShvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGZhbHNlIHwgdW5kZWZpbmVkO1xufSk6IFRocmVhZFJ1bnRpbWU7XG5leHBvcnQgZnVuY3Rpb24gdXNlVGhyZWFkUnVudGltZShvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59KTogVGhyZWFkUnVudGltZSB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gdXNlVGhyZWFkUnVudGltZShvcHRpb25zPzogeyBvcHRpb25hbD86IGJvb2xlYW4gfCB1bmRlZmluZWQgfSkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlVGhyZWFkQ29udGV4dChvcHRpb25zKTtcbiAgaWYgKCFjb250ZXh0KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGNvbnRleHQudXNlVGhyZWFkUnVudGltZSgpO1xufVxuXG5leHBvcnQgY29uc3QgYWN0aW9ucyA9IGNyZWF0ZUNvbnRleHRTdG9yZUhvb2soXG4gIHVzZVRocmVhZENvbnRleHQsXG4gIFwidXNlVGhyZWFkQWN0aW9uc1wiLFxuKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYHVzZVRocmVhZFJ1bnRpbWVgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICovXG5leHBvcnQgY29uc3QgdXNlVGhyZWFkQWN0aW9uc1N0b3JlID0gYWN0aW9ucy51c2VUaHJlYWRBY3Rpb25zU3RvcmU7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGB1c2VUaHJlYWRSdW50aW1lYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVRocmVhZEFjdGlvbnMgPSBhY3Rpb25zLnVzZVRocmVhZEFjdGlvbnM7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGB1c2VUaHJlYWRSdW50aW1lYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVRocmVhZFJ1bnRpbWVTdG9yZSA9IHVzZVRocmVhZEFjdGlvbnNTdG9yZTtcblxuZXhwb3J0IGNvbnN0IHsgdXNlVGhyZWFkLCB1c2VUaHJlYWRTdG9yZSB9ID0gY3JlYXRlQ29udGV4dFN0b3JlSG9vayhcbiAgdXNlVGhyZWFkQ29udGV4dCxcbiAgXCJ1c2VUaHJlYWRcIixcbik7XG5cbmNvbnN0IG1lc3NhZ2VzID0gY3JlYXRlQ29udGV4dFN0b3JlSG9vayh1c2VUaHJlYWRDb250ZXh0LCBcInVzZVRocmVhZE1lc3NhZ2VzXCIpO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgdXNlVGhyZWFkKCkubWVzc2FnZXNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICovXG5leHBvcnQgY29uc3QgdXNlVGhyZWFkTWVzc2FnZXMgPSBtZXNzYWdlcy51c2VUaHJlYWRNZXNzYWdlcztcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYHVzZVRocmVhZFJ1bnRpbWUoKS5nZXRTdGF0ZSgpLm1lc3NhZ2VzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVRocmVhZE1lc3NhZ2VzU3RvcmUgPSBtZXNzYWdlcy51c2VUaHJlYWRNZXNzYWdlc1N0b3JlO1xuXG5leHBvcnQgY29uc3Qge1xuICB1c2VDb21wb3NlcjogdXNlVGhyZWFkQ29tcG9zZXIsXG4gIHVzZUNvbXBvc2VyU3RvcmU6IHVzZVRocmVhZENvbXBvc2VyU3RvcmUsXG59ID0gY3JlYXRlQ29udGV4dFN0b3JlSG9vayh1c2VUaHJlYWRDb250ZXh0LCBcInVzZUNvbXBvc2VyXCIpO1xuXG5leHBvcnQgY29uc3Qge1xuICB1c2VWaWV3cG9ydDogdXNlVGhyZWFkVmlld3BvcnQsXG4gIHVzZVZpZXdwb3J0U3RvcmU6IHVzZVRocmVhZFZpZXdwb3J0U3RvcmUsXG59ID0gY3JlYXRlQ29udGV4dFN0b3JlSG9vayh1c2VUaHJlYWRDb250ZXh0LCBcInVzZVZpZXdwb3J0XCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlVGhyZWFkTW9kZWxDb25maWcob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBmYWxzZSB8IHVuZGVmaW5lZDtcbn0pOiBNb2RlbENvbmZpZztcbmV4cG9ydCBmdW5jdGlvbiB1c2VUaHJlYWRNb2RlbENvbmZpZyhvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59KTogTW9kZWxDb25maWcgfCBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVRocmVhZE1vZGVsQ29uZmlnKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn0pOiBNb2RlbENvbmZpZyB8IG51bGwge1xuICBjb25zdCBbLCByZXJlbmRlcl0gPSB1c2VTdGF0ZSh7fSk7XG5cbiAgY29uc3QgcnVudGltZSA9IHVzZVRocmVhZFJ1bnRpbWUob3B0aW9ucyk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIHJ1bnRpbWU/LnVuc3RhYmxlX29uKFwibW9kZWwtY29uZmlnLXVwZGF0ZVwiLCAoKSA9PiByZXJlbmRlcih7fSkpO1xuICB9LCBbcnVudGltZV0pO1xuXG4gIGlmICghcnVudGltZSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBydW50aW1lPy5nZXRNb2RlbENvbmZpZygpO1xufVxuIiwiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHR5cGUgeyBVbnN1YnNjcmliZSB9IGZyb20gXCIuLi8uLi90eXBlcy9VbnN1YnNjcmliZVwiO1xuXG5leHBvcnQgdHlwZSBUaHJlYWRWaWV3cG9ydFN0YXRlID0gUmVhZG9ubHk8e1xuICBpc0F0Qm90dG9tOiBib29sZWFuO1xuICBzY3JvbGxUb0JvdHRvbTogKCkgPT4gdm9pZDtcbiAgb25TY3JvbGxUb0JvdHRvbTogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBVbnN1YnNjcmliZTtcbn0+O1xuXG5leHBvcnQgY29uc3QgbWFrZVRocmVhZFZpZXdwb3J0U3RvcmUgPSAoKSA9PiB7XG4gIGNvbnN0IHNjcm9sbFRvQm90dG9tTGlzdGVuZXJzID0gbmV3IFNldDwoKSA9PiB2b2lkPigpO1xuXG4gIHJldHVybiBjcmVhdGU8VGhyZWFkVmlld3BvcnRTdGF0ZT4oKCkgPT4gKHtcbiAgICBpc0F0Qm90dG9tOiB0cnVlLFxuICAgIHNjcm9sbFRvQm90dG9tOiAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHNjcm9sbFRvQm90dG9tTGlzdGVuZXJzKSB7XG4gICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblNjcm9sbFRvQm90dG9tOiAoY2FsbGJhY2spID0+IHtcbiAgICAgIHNjcm9sbFRvQm90dG9tTGlzdGVuZXJzLmFkZChjYWxsYmFjayk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBzY3JvbGxUb0JvdHRvbUxpc3RlbmVycy5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgfTtcbiAgICB9LFxuICB9KSk7XG59O1xuIiwiaW1wb3J0IHR5cGUgeyBTdG9yZUFwaSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5cbmV4cG9ydCB0eXBlIFJlYWRvbmx5U3RvcmU8VD4gPSBPbWl0PFN0b3JlQXBpPFQ+LCBcInNldFN0YXRlXCIgfCBcImRlc3Ryb3lcIj47XG5cbmV4cG9ydCBjb25zdCB3cml0YWJsZVN0b3JlID0gPFQ+KHN0b3JlOiBSZWFkb25seVN0b3JlPFQ+IHwgdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBzdG9yZSBhcyB1bmtub3duIGFzIFN0b3JlQXBpPFQ+O1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZDLCBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7XG4gIENvbnRlbnRQYXJ0Q29udGV4dCxcbiAgQ29udGVudFBhcnRDb250ZXh0VmFsdWUsXG59IGZyb20gXCIuLi9yZWFjdC9Db250ZW50UGFydENvbnRleHRcIjtcbmltcG9ydCB7IENvbnRlbnRQYXJ0U3RhdHVzLCBUZXh0Q29udGVudFBhcnQgfSBmcm9tIFwiLi4vLi4vdHlwZXMvQXNzaXN0YW50VHlwZXNcIjtcbmltcG9ydCB7IHdyaXRhYmxlU3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuaW1wb3J0IHtcbiAgQ29udGVudFBhcnRSdW50aW1lSW1wbCxcbiAgQ29udGVudFBhcnRTdGF0ZSxcbn0gZnJvbSBcIi4uLy4uL2FwaS9Db250ZW50UGFydFJ1bnRpbWVcIjtcblxudHlwZSBUZXh0Q29udGVudFBhcnRQcm92aWRlclByb3BzID0ge1xuICB0ZXh0OiBzdHJpbmc7XG4gIGlzUnVubmluZz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5jb25zdCBDT01QTEVURV9TVEFUVVM6IENvbnRlbnRQYXJ0U3RhdHVzID0ge1xuICB0eXBlOiBcImNvbXBsZXRlXCIsXG59O1xuXG5jb25zdCBSVU5OSU5HX1NUQVRVUzogQ29udGVudFBhcnRTdGF0dXMgPSB7XG4gIHR5cGU6IFwicnVubmluZ1wiLFxufTtcblxuZXhwb3J0IGNvbnN0IFRleHRDb250ZW50UGFydFByb3ZpZGVyOiBGQzxcbiAgUHJvcHNXaXRoQ2hpbGRyZW48VGV4dENvbnRlbnRQYXJ0UHJvdmlkZXJQcm9wcz5cbj4gPSAoeyBjaGlsZHJlbiwgdGV4dCwgaXNSdW5uaW5nIH0pID0+IHtcbiAgY29uc3QgW2NvbnRleHRdID0gdXNlU3RhdGU8Q29udGVudFBhcnRDb250ZXh0VmFsdWU+KCgpID0+IHtcbiAgICBjb25zdCB1c2VDb250ZW50UGFydFJ1bnRpbWUgPSBjcmVhdGUoXG4gICAgICAvLyBUT0RPXG4gICAgICAoKSA9PiBuZXcgQ29udGVudFBhcnRSdW50aW1lSW1wbChudWxsIGFzIGFueSwgbnVsbCBhcyBhbnksIG51bGwgYXMgYW55KSxcbiAgICApO1xuICAgIGNvbnN0IHVzZUNvbnRlbnRQYXJ0ID0gY3JlYXRlPENvbnRlbnRQYXJ0U3RhdGU+KCgpID0+ICh7XG4gICAgICBzdGF0dXM6IGlzUnVubmluZyA/IFJVTk5JTkdfU1RBVFVTIDogQ09NUExFVEVfU1RBVFVTLFxuICAgICAgcGFydDogeyB0eXBlOiBcInRleHRcIiwgdGV4dCB9LFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICB0ZXh0LFxuICAgIH0pKTtcblxuICAgIHJldHVybiB7IHVzZUNvbnRlbnRQYXJ0UnVudGltZSwgdXNlQ29udGVudFBhcnQgfTtcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGNvbnRleHQudXNlQ29udGVudFBhcnQuZ2V0U3RhdGUoKSBhcyBDb250ZW50UGFydFN0YXRlICYge1xuICAgICAgdHlwZTogXCJ0ZXh0XCI7XG4gICAgfTtcblxuICAgIGNvbnN0IHRleHRVcGRhdGVkID0gKHN0YXRlIGFzIFRleHRDb250ZW50UGFydCkudGV4dCAhPT0gdGV4dDtcbiAgICBjb25zdCB0YXJnZXRTdGF0dXMgPSBpc1J1bm5pbmcgPyBSVU5OSU5HX1NUQVRVUyA6IENPTVBMRVRFX1NUQVRVUztcbiAgICBjb25zdCBzdGF0dXNVcGRhdGVkID0gc3RhdGUuc3RhdHVzICE9PSB0YXJnZXRTdGF0dXM7XG5cbiAgICBpZiAoIXRleHRVcGRhdGVkICYmICFzdGF0dXNVcGRhdGVkKSByZXR1cm47XG5cbiAgICB3cml0YWJsZVN0b3JlKGNvbnRleHQudXNlQ29udGVudFBhcnQpLnNldFN0YXRlKFxuICAgICAge1xuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgdGV4dCxcbiAgICAgICAgcGFydDogeyB0eXBlOiBcInRleHRcIiwgdGV4dCB9LFxuICAgICAgICBzdGF0dXM6IHRhcmdldFN0YXR1cyxcbiAgICAgIH0gc2F0aXNmaWVzIENvbnRlbnRQYXJ0U3RhdGUsXG4gICAgICB0cnVlLFxuICAgICk7XG4gIH0sIFtjb250ZXh0LCBpc1J1bm5pbmcsIHRleHRdKTtcblxuICByZXR1cm4gKFxuICAgIDxDb250ZW50UGFydENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQ29udGVudFBhcnRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSZWFkb25seVN0b3JlIH0gZnJvbSBcIi4uL1JlYWRvbmx5U3RvcmVcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRTdG9yZUhvb2sgfSBmcm9tIFwiLi91dGlscy9jcmVhdGVDb250ZXh0U3RvcmVIb29rXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0SG9vayB9IGZyb20gXCIuL3V0aWxzL2NyZWF0ZUNvbnRleHRIb29rXCI7XG5pbXBvcnQgeyBVc2VCb3VuZFN0b3JlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IENvbnRlbnRQYXJ0UnVudGltZSB9IGZyb20gXCIuLi8uLi9hcGlcIjtcbmltcG9ydCB7IENvbnRlbnRQYXJ0U3RhdGUgfSBmcm9tIFwiLi4vLi4vYXBpL0NvbnRlbnRQYXJ0UnVudGltZVwiO1xuXG5leHBvcnQgdHlwZSBDb250ZW50UGFydENvbnRleHRWYWx1ZSA9IHtcbiAgdXNlQ29udGVudFBhcnRSdW50aW1lOiBVc2VCb3VuZFN0b3JlPFJlYWRvbmx5U3RvcmU8Q29udGVudFBhcnRSdW50aW1lPj47XG4gIHVzZUNvbnRlbnRQYXJ0OiBVc2VCb3VuZFN0b3JlPFJlYWRvbmx5U3RvcmU8Q29udGVudFBhcnRTdGF0ZT4+O1xufTtcblxuZXhwb3J0IGNvbnN0IENvbnRlbnRQYXJ0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8Q29udGVudFBhcnRDb250ZXh0VmFsdWUgfCBudWxsPihcbiAgbnVsbCxcbik7XG5cbmV4cG9ydCBjb25zdCB1c2VDb250ZW50UGFydENvbnRleHQgPSBjcmVhdGVDb250ZXh0SG9vayhcbiAgQ29udGVudFBhcnRDb250ZXh0LFxuICBcImEgY29tcG9uZW50IHBhc3NlZCB0byA8TWVzc2FnZVByaW1pdGl2ZS5Db250ZW50IGNvbXBvbmVudHM9ey4uLn0+XCIsXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29udGVudFBhcnRSdW50aW1lKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogZmFsc2UgfCB1bmRlZmluZWQ7XG59KTogQ29udGVudFBhcnRSdW50aW1lO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnRlbnRQYXJ0UnVudGltZShvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59KTogQ29udGVudFBhcnRSdW50aW1lIHwgbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiB1c2VDb250ZW50UGFydFJ1bnRpbWUob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGVudFBhcnRDb250ZXh0KG9wdGlvbnMpO1xuICBpZiAoIWNvbnRleHQpIHJldHVybiBudWxsO1xuICByZXR1cm4gY29udGV4dC51c2VDb250ZW50UGFydFJ1bnRpbWUoKTtcbn1cblxuZXhwb3J0IGNvbnN0IHsgdXNlQ29udGVudFBhcnQsIHVzZUNvbnRlbnRQYXJ0U3RvcmUgfSA9IGNyZWF0ZUNvbnRleHRTdG9yZUhvb2soXG4gIHVzZUNvbnRlbnRQYXJ0Q29udGV4dCxcbiAgXCJ1c2VDb250ZW50UGFydFwiLFxuKTtcbiIsImltcG9ydCB7XG4gIFRocmVhZEFzc2lzdGFudENvbnRlbnRQYXJ0LFxuICBUaHJlYWRVc2VyQ29udGVudFBhcnQsXG4gIENvbnRlbnRQYXJ0U3RhdHVzLFxuICBUb29sQ2FsbENvbnRlbnRQYXJ0U3RhdHVzLFxufSBmcm9tIFwiLi4vdHlwZXMvQXNzaXN0YW50VHlwZXNcIjtcbmltcG9ydCB7IFRocmVhZFJ1bnRpbWVDb3JlQmluZGluZyB9IGZyb20gXCIuL1RocmVhZFJ1bnRpbWVcIjtcbmltcG9ydCB7IE1lc3NhZ2VTdGF0ZUJpbmRpbmcgfSBmcm9tIFwiLi9NZXNzYWdlUnVudGltZVwiO1xuaW1wb3J0IHsgU3Vic2NyaWJhYmxlV2l0aFN0YXRlIH0gZnJvbSBcIi4vc3Vic2NyaWJhYmxlL1N1YnNjcmliYWJsZVwiO1xuaW1wb3J0IHsgVW5zdWJzY3JpYmUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IENvbnRlbnRQYXJ0UnVudGltZVBhdGggfSBmcm9tIFwiLi9QYXRoVHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgQ29udGVudFBhcnRTdGF0ZSA9IChcbiAgfCBUaHJlYWRVc2VyQ29udGVudFBhcnRcbiAgfCBUaHJlYWRBc3Npc3RhbnRDb250ZW50UGFydFxuKSAmIHtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFlvdSBjYW4gZGlyZWN0bHkgYWNjZXNzIGNvbnRlbnQgcGFydCBmaWVsZHMgaW4gdGhlIHN0YXRlLiBSZXBsYWNlIGAucGFydC50eXBlYCB3aXRoIGAudHlwZWAgZXRjLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHBhcnQ6IFRocmVhZFVzZXJDb250ZW50UGFydCB8IFRocmVhZEFzc2lzdGFudENvbnRlbnRQYXJ0O1xuICBzdGF0dXM6IENvbnRlbnRQYXJ0U3RhdHVzIHwgVG9vbENhbGxDb250ZW50UGFydFN0YXR1cztcbn07XG5cbnR5cGUgQ29udGVudFBhcnRTbmFwc2hvdEJpbmRpbmcgPSBTdWJzY3JpYmFibGVXaXRoU3RhdGU8XG4gIENvbnRlbnRQYXJ0U3RhdGUsXG4gIENvbnRlbnRQYXJ0UnVudGltZVBhdGhcbj47XG5cbmV4cG9ydCB0eXBlIENvbnRlbnRQYXJ0UnVudGltZSA9IHtcbiAgcGF0aDogQ29udGVudFBhcnRSdW50aW1lUGF0aDtcblxuICBnZXRTdGF0ZSgpOiBDb250ZW50UGFydFN0YXRlO1xuICBhZGRUb29sUmVzdWx0KHJlc3VsdDogYW55KTogdm9pZDtcbiAgc3Vic2NyaWJlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVW5zdWJzY3JpYmU7XG59O1xuXG5leHBvcnQgY2xhc3MgQ29udGVudFBhcnRSdW50aW1lSW1wbCBpbXBsZW1lbnRzIENvbnRlbnRQYXJ0UnVudGltZSB7XG4gIHB1YmxpYyBnZXQgcGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50QmluZGluZy5wYXRoO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBjb250ZW50QmluZGluZzogQ29udGVudFBhcnRTbmFwc2hvdEJpbmRpbmcsXG4gICAgcHJpdmF0ZSBtZXNzYWdlQXBpOiBNZXNzYWdlU3RhdGVCaW5kaW5nLFxuICAgIHByaXZhdGUgdGhyZWFkQXBpOiBUaHJlYWRSdW50aW1lQ29yZUJpbmRpbmcsXG4gICkge31cblxuICBwdWJsaWMgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudEJpbmRpbmcuZ2V0U3RhdGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUb29sUmVzdWx0KHJlc3VsdDogYW55KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZUFwaS5nZXRTdGF0ZSgpO1xuICAgIGlmICghbWVzc2FnZSkgdGhyb3cgbmV3IEVycm9yKFwiTWVzc2FnZSBpcyBub3QgYXZhaWxhYmxlXCIpO1xuXG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLmNvbnRlbnRCaW5kaW5nLmdldFN0YXRlKCk7XG4gICAgaWYgKCFzdGF0ZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29udGVudCBwYXJ0IGlzIG5vdCBhdmFpbGFibGVcIik7XG5cbiAgICBpZiAoc3RhdGUudHlwZSAhPT0gXCJ0b29sLWNhbGxcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyaWVkIHRvIGFkZCB0b29sIHJlc3VsdCB0byBub24tdG9vbCBjb250ZW50IHBhcnRcIik7XG5cbiAgICBjb25zdCB0b29sTmFtZSA9IHN0YXRlLnRvb2xOYW1lO1xuICAgIGNvbnN0IHRvb2xDYWxsSWQgPSBzdGF0ZS50b29sQ2FsbElkO1xuXG4gICAgdGhpcy50aHJlYWRBcGkuZ2V0U3RhdGUoKS5hZGRUb29sUmVzdWx0KHtcbiAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZS5pZCxcbiAgICAgIHRvb2xOYW1lLFxuICAgICAgdG9vbENhbGxJZCxcbiAgICAgIHJlc3VsdCxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBzdWJzY3JpYmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50QmluZGluZy5zdWJzY3JpYmUoY2FsbGJhY2spO1xuICB9XG59XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBNZXNzYWdlVXRpbHNTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZXMvTWVzc2FnZVV0aWxzXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0SG9vayB9IGZyb20gXCIuL3V0aWxzL2NyZWF0ZUNvbnRleHRIb29rXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0U3RvcmVIb29rIH0gZnJvbSBcIi4vdXRpbHMvY3JlYXRlQ29udGV4dFN0b3JlSG9va1wiO1xuaW1wb3J0IHsgVXNlQm91bmRTdG9yZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgeyBNZXNzYWdlUnVudGltZSB9IGZyb20gXCIuLi8uLi9hcGlcIjtcbmltcG9ydCB7IE1lc3NhZ2VTdGF0ZSB9IGZyb20gXCIuLi8uLi9hcGkvTWVzc2FnZVJ1bnRpbWVcIjtcbmltcG9ydCB7IEVkaXRDb21wb3NlclN0YXRlIH0gZnJvbSBcIi4uLy4uL2FwaS9Db21wb3NlclJ1bnRpbWVcIjtcblxuZXhwb3J0IHR5cGUgTWVzc2FnZUNvbnRleHRWYWx1ZSA9IHtcbiAgdXNlTWVzc2FnZVJ1bnRpbWU6IFVzZUJvdW5kU3RvcmU8UmVhZG9ubHlTdG9yZTxNZXNzYWdlUnVudGltZT4+O1xuICB1c2VNZXNzYWdlOiBVc2VCb3VuZFN0b3JlPFJlYWRvbmx5U3RvcmU8TWVzc2FnZVN0YXRlPj47XG4gIHVzZU1lc3NhZ2VVdGlsczogVXNlQm91bmRTdG9yZTxSZWFkb25seVN0b3JlPE1lc3NhZ2VVdGlsc1N0YXRlPj47XG4gIHVzZUVkaXRDb21wb3NlcjogVXNlQm91bmRTdG9yZTxSZWFkb25seVN0b3JlPEVkaXRDb21wb3NlclN0YXRlPj47XG59O1xuXG5leHBvcnQgY29uc3QgTWVzc2FnZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PE1lc3NhZ2VDb250ZXh0VmFsdWUgfCBudWxsPihudWxsKTtcblxuZXhwb3J0IGNvbnN0IHVzZU1lc3NhZ2VDb250ZXh0ID0gY3JlYXRlQ29udGV4dEhvb2soXG4gIE1lc3NhZ2VDb250ZXh0LFxuICBcImEgY29tcG9uZW50IHBhc3NlZCB0byA8VGhyZWFkUHJpbWl0aXZlLk1lc3NhZ2VzIGNvbXBvbmVudHM9ey4uLn0gLz5cIixcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXNzYWdlUnVudGltZShvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGZhbHNlIHwgdW5kZWZpbmVkO1xufSk6IE1lc3NhZ2VSdW50aW1lO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1lc3NhZ2VSdW50aW1lKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn0pOiBNZXNzYWdlUnVudGltZSB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gdXNlTWVzc2FnZVJ1bnRpbWUob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlTWVzc2FnZUNvbnRleHQob3B0aW9ucyk7XG4gIGlmICghY29udGV4dCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjb250ZXh0LnVzZU1lc3NhZ2VSdW50aW1lKCk7XG59XG5cbmV4cG9ydCBjb25zdCB7IHVzZU1lc3NhZ2UsIHVzZU1lc3NhZ2VTdG9yZSB9ID0gY3JlYXRlQ29udGV4dFN0b3JlSG9vayhcbiAgdXNlTWVzc2FnZUNvbnRleHQsXG4gIFwidXNlTWVzc2FnZVwiLFxuKTtcblxuZXhwb3J0IGNvbnN0IHsgdXNlTWVzc2FnZVV0aWxzLCB1c2VNZXNzYWdlVXRpbHNTdG9yZSB9ID0gY3JlYXRlQ29udGV4dFN0b3JlSG9vayhcbiAgdXNlTWVzc2FnZUNvbnRleHQsXG4gIFwidXNlTWVzc2FnZVV0aWxzXCIsXG4pO1xuXG5leHBvcnQgY29uc3QgeyB1c2VFZGl0Q29tcG9zZXIsIHVzZUVkaXRDb21wb3NlclN0b3JlIH0gPSBjcmVhdGVDb250ZXh0U3RvcmVIb29rKFxuICB1c2VNZXNzYWdlQ29udGV4dCxcbiAgXCJ1c2VFZGl0Q29tcG9zZXJcIixcbik7XG4iLCJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VNZXNzYWdlQ29udGV4dCwgdXNlTWVzc2FnZVJ1bnRpbWUgfSBmcm9tIFwiLi9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29udGV4dCwgdXNlVGhyZWFkUnVudGltZSB9IGZyb20gXCIuL1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IFJlYWRvbmx5U3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFN0b3JlSG9vayB9IGZyb20gXCIuL3V0aWxzL2NyZWF0ZUNvbnRleHRTdG9yZUhvb2tcIjtcbmltcG9ydCB7IENvbXBvc2VyUnVudGltZSwgQ29tcG9zZXJTdGF0ZSB9IGZyb20gXCIuLi8uLi9hcGkvQ29tcG9zZXJSdW50aW1lXCI7XG5pbXBvcnQgeyBVc2VCb3VuZFN0b3JlIH0gZnJvbSBcInp1c3RhbmRcIjtcblxuZXhwb3J0IHR5cGUgQ29tcG9zZXJDb250ZXh0VmFsdWUgPSB7XG4gIHVzZUNvbXBvc2VyOiBVc2VCb3VuZFN0b3JlPFJlYWRvbmx5U3RvcmU8Q29tcG9zZXJTdGF0ZT4+O1xuICB0eXBlOiBcImVkaXRcIiB8IFwibmV3XCI7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQ29tcG9zZXJDb250ZXh0ID0gKCk6IENvbXBvc2VyQ29udGV4dFZhbHVlID0+IHtcbiAgY29uc3QgeyB1c2VDb21wb3NlcjogdXNlVGhyZWFkQ29tcG9zZXIgfSA9IHVzZVRocmVhZENvbnRleHQoKTtcbiAgY29uc3QgeyB1c2VFZGl0Q29tcG9zZXIgfSA9IHVzZU1lc3NhZ2VDb250ZXh0KHsgb3B0aW9uYWw6IHRydWUgfSkgPz8ge307XG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICB1c2VDb21wb3NlcjogdXNlRWRpdENvbXBvc2VyID8/IHVzZVRocmVhZENvbXBvc2VyLFxuICAgICAgdHlwZTogdXNlRWRpdENvbXBvc2VyID8gKFwiZWRpdFwiIGFzIGNvbnN0KSA6IChcIm5ld1wiIGFzIGNvbnN0KSxcbiAgICB9KSxcbiAgICBbdXNlRWRpdENvbXBvc2VyLCB1c2VUaHJlYWRDb21wb3Nlcl0sXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgeyB1c2VDb21wb3NlciwgdXNlQ29tcG9zZXJTdG9yZSB9ID0gY3JlYXRlQ29udGV4dFN0b3JlSG9vayhcbiAgdXNlQ29tcG9zZXJDb250ZXh0LFxuICBcInVzZUNvbXBvc2VyXCIsXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29tcG9zZXJSdW50aW1lKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogZmFsc2UgfCB1bmRlZmluZWQ7XG59KTogQ29tcG9zZXJSdW50aW1lO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbXBvc2VyUnVudGltZShvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59KTogQ29tcG9zZXJSdW50aW1lIHwgbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiB1c2VDb21wb3NlclJ1bnRpbWUob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IENvbXBvc2VyUnVudGltZSB8IG51bGwge1xuICBjb25zdCBtZXNzYWdlUnVudGltZSA9IHVzZU1lc3NhZ2VSdW50aW1lKHsgb3B0aW9uYWw6IHRydWUgfSk7XG4gIGNvbnN0IHRocmVhZFJ1bnRpbWUgPSB1c2VUaHJlYWRSdW50aW1lKG9wdGlvbnMpO1xuICByZXR1cm4gbWVzc2FnZVJ1bnRpbWVcbiAgICA/IG1lc3NhZ2VSdW50aW1lLmNvbXBvc2VyXG4gICAgOiAodGhyZWFkUnVudGltZT8uY29tcG9zZXIgPz8gbnVsbCk7XG59XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkUnVudGltZSB9IGZyb20gXCIuLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IENyZWF0ZUFwcGVuZE1lc3NhZ2UgfSBmcm9tIFwiLi4vYXBpL1RocmVhZFJ1bnRpbWVcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYHVzZVRocmVhZFJ1bnRpbWUoKS5hcHBlbmQoKWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgY29uc3QgdXNlQXBwZW5kTWVzc2FnZSA9ICgpID0+IHtcbiAgY29uc3QgdGhyZWFkUnVudGltZSA9IHVzZVRocmVhZFJ1bnRpbWUoKTtcblxuICBjb25zdCBhcHBlbmQgPSB1c2VDYWxsYmFjayhcbiAgICAobWVzc2FnZTogQ3JlYXRlQXBwZW5kTWVzc2FnZSkgPT4ge1xuICAgICAgdGhyZWFkUnVudGltZS5hcHBlbmQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBbdGhyZWFkUnVudGltZV0sXG4gICk7XG5cbiAgcmV0dXJuIGFwcGVuZDtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXNzaXN0YW50UnVudGltZSB9IGZyb20gXCIuLi9jb250ZXh0XCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGB1c2VSdW50aW1lQWN0aW9ucygpLnN3aXRjaFRvTmV3VGhyZWFkKClgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICovXG5leHBvcnQgY29uc3QgdXNlU3dpdGNoVG9OZXdUaHJlYWQgPSAoKSA9PiB7XG4gIGNvbnN0IGFzc2lzdGFudFJ1bnRpbWUgPSB1c2VBc3Npc3RhbnRSdW50aW1lKCk7XG4gIGNvbnN0IHN3aXRjaFRvTmV3VGhyZWFkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGFzc2lzdGFudFJ1bnRpbWUuc3dpdGNoVG9OZXdUaHJlYWQoKTtcbiAgfSwgW2Fzc2lzdGFudFJ1bnRpbWVdKTtcblxuICByZXR1cm4gc3dpdGNoVG9OZXdUaHJlYWQ7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgdXNlQXNzaXN0YW50UnVudGltZSxcbiAgdXNlVG9vbFVJc1N0b3JlLFxufSBmcm9tIFwiLi4vY29udGV4dC9yZWFjdC9Bc3Npc3RhbnRDb250ZXh0XCI7XG5pbXBvcnQgdHlwZSB7IFRvb2xDYWxsQ29udGVudFBhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vdHlwZXMvQ29udGVudFBhcnRDb21wb25lbnRUeXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBUb29sIH0gZnJvbSBcIi4uL3R5cGVzL01vZGVsQ29uZmlnVHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgQXNzaXN0YW50VG9vbFByb3BzPFxuICBUQXJncyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBUUmVzdWx0LFxuPiA9IFRvb2w8VEFyZ3MsIFRSZXN1bHQ+ICYge1xuICB0b29sTmFtZTogc3RyaW5nO1xuICByZW5kZXI/OiBUb29sQ2FsbENvbnRlbnRQYXJ0Q29tcG9uZW50PFRBcmdzLCBUUmVzdWx0PiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBc3Npc3RhbnRUb29sID0gPFxuICBUQXJncyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBUUmVzdWx0LFxuPihcbiAgdG9vbDogQXNzaXN0YW50VG9vbFByb3BzPFRBcmdzLCBUUmVzdWx0PixcbikgPT4ge1xuICBjb25zdCBhc3Npc3RhbnRSdW50aW1lID0gdXNlQXNzaXN0YW50UnVudGltZSgpO1xuICBjb25zdCB0b29sVUlzU3RvcmUgPSB1c2VUb29sVUlzU3RvcmUoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7IHRvb2xOYW1lLCByZW5kZXIsIC4uLnJlc3QgfSA9IHRvb2w7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgdG9vbHM6IHtcbiAgICAgICAgW3Rvb2wudG9vbE5hbWVdOiByZXN0LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHVuc3ViMSA9IGFzc2lzdGFudFJ1bnRpbWUucmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKHtcbiAgICAgIGdldE1vZGVsQ29uZmlnOiAoKSA9PiBjb25maWcsXG4gICAgfSk7XG4gICAgY29uc3QgdW5zdWIyID0gcmVuZGVyXG4gICAgICA/IHRvb2xVSXNTdG9yZS5nZXRTdGF0ZSgpLnNldFRvb2xVSSh0b29sTmFtZSwgcmVuZGVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVuc3ViMSgpO1xuICAgICAgdW5zdWIyPy4oKTtcbiAgICB9O1xuICB9LCBbYXNzaXN0YW50UnVudGltZSwgdG9vbFVJc1N0b3JlLCB0b29sXSk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdHlwZSBBc3Npc3RhbnRUb29sUHJvcHMsIHVzZUFzc2lzdGFudFRvb2wgfSBmcm9tIFwiLi91c2VBc3Npc3RhbnRUb29sXCI7XG5cbmV4cG9ydCB0eXBlIEFzc2lzdGFudFRvb2wgPSBGQyAmIHtcbiAgdW5zdGFibGVfdG9vbDogQXNzaXN0YW50VG9vbFByb3BzPGFueSwgYW55Pjtcbn07XG5cbmV4cG9ydCBjb25zdCBtYWtlQXNzaXN0YW50VG9vbCA9IDxcbiAgVEFyZ3MgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgVFJlc3VsdCxcbj4oXG4gIHRvb2w6IEFzc2lzdGFudFRvb2xQcm9wczxUQXJncywgVFJlc3VsdD4sXG4pID0+IHtcbiAgY29uc3QgVG9vbDogQXNzaXN0YW50VG9vbCA9ICgpID0+IHtcbiAgICB1c2VBc3Npc3RhbnRUb29sKHRvb2wpO1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBUb29sLnVuc3RhYmxlX3Rvb2wgPSB0b29sO1xuICByZXR1cm4gVG9vbDtcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VUb29sVUlzU3RvcmUgfSBmcm9tIFwiLi4vY29udGV4dC9yZWFjdC9Bc3Npc3RhbnRDb250ZXh0XCI7XG5pbXBvcnQgdHlwZSB7IFRvb2xDYWxsQ29udGVudFBhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vdHlwZXMvQ29udGVudFBhcnRDb21wb25lbnRUeXBlc1wiO1xuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRUb29sVUlQcm9wczxcbiAgVEFyZ3MgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgVFJlc3VsdCxcbj4gPSB7XG4gIHRvb2xOYW1lOiBzdHJpbmc7XG4gIHJlbmRlcjogVG9vbENhbGxDb250ZW50UGFydENvbXBvbmVudDxUQXJncywgVFJlc3VsdD47XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQXNzaXN0YW50VG9vbFVJID0gKFxuICB0b29sOiBBc3Npc3RhbnRUb29sVUlQcm9wczxhbnksIGFueT4gfCBudWxsLFxuKSA9PiB7XG4gIGNvbnN0IHRvb2xVSXNTdG9yZSA9IHVzZVRvb2xVSXNTdG9yZSgpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdG9vbCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgdG9vbE5hbWUsIHJlbmRlciB9ID0gdG9vbDtcbiAgICByZXR1cm4gdG9vbFVJc1N0b3JlLmdldFN0YXRlKCkuc2V0VG9vbFVJKHRvb2xOYW1lLCByZW5kZXIpO1xuICB9LCBbdG9vbFVJc1N0b3JlLCB0b29sXSk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgdHlwZSBBc3Npc3RhbnRUb29sVUlQcm9wcyxcbiAgdXNlQXNzaXN0YW50VG9vbFVJLFxufSBmcm9tIFwiLi91c2VBc3Npc3RhbnRUb29sVUlcIjtcblxuZXhwb3J0IHR5cGUgQXNzaXN0YW50VG9vbFVJID0gRkMgJiB7XG4gIHVuc3RhYmxlX3Rvb2w6IEFzc2lzdGFudFRvb2xVSVByb3BzPGFueSwgYW55Pjtcbn07XG5cbmV4cG9ydCBjb25zdCBtYWtlQXNzaXN0YW50VG9vbFVJID0gPFxuICBUQXJncyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBUUmVzdWx0LFxuPihcbiAgdG9vbDogQXNzaXN0YW50VG9vbFVJUHJvcHM8VEFyZ3MsIFRSZXN1bHQ+LFxuKSA9PiB7XG4gIGNvbnN0IFRvb2xVSTogQXNzaXN0YW50VG9vbFVJID0gKCkgPT4ge1xuICAgIHVzZUFzc2lzdGFudFRvb2xVSSh0b29sKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgVG9vbFVJLnVuc3RhYmxlX3Rvb2wgPSB0b29sO1xuICByZXR1cm4gVG9vbFVJO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUFzc2lzdGFudFJ1bnRpbWUgfSBmcm9tIFwiLi4vY29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlQXNzaXN0YW50SW5zdHJ1Y3Rpb25zID0gKGluc3RydWN0aW9uOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgYXNzaXN0YW50UnVudGltZSA9IHVzZUFzc2lzdGFudFJ1bnRpbWUoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBzeXN0ZW06IGluc3RydWN0aW9uLFxuICAgIH07XG4gICAgcmV0dXJuIGFzc2lzdGFudFJ1bnRpbWUucmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKHtcbiAgICAgIGdldE1vZGVsQ29uZmlnOiAoKSA9PiBjb25maWcsXG4gICAgfSk7XG4gIH0sIFthc3Npc3RhbnRSdW50aW1lLCBpbnN0cnVjdGlvbl0pO1xufTtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICB1c2VNZXNzYWdlLFxuICB1c2VNZXNzYWdlUnVudGltZSxcbiAgdXNlTWVzc2FnZVV0aWxzLFxufSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZXJSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcblxuZXhwb3J0IHR5cGUgVXNlQWN0aW9uQmFyQ29weVByb3BzID0ge1xuICBjb3BpZWREdXJhdGlvbj86IG51bWJlciB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBY3Rpb25CYXJDb3B5ID0gKHtcbiAgY29waWVkRHVyYXRpb24gPSAzMDAwLFxufTogVXNlQWN0aW9uQmFyQ29weVByb3BzID0ge30pID0+IHtcbiAgY29uc3QgbWVzc2FnZVJ1bnRpbWUgPSB1c2VNZXNzYWdlUnVudGltZSgpO1xuICBjb25zdCBjb21wb3NlclJ1bnRpbWUgPSB1c2VDb21wb3NlclJ1bnRpbWUoKTtcbiAgY29uc3Qgc2V0SXNDb3BpZWQgPSB1c2VNZXNzYWdlVXRpbHMoKHMpID0+IHMuc2V0SXNDb3BpZWQpO1xuICBjb25zdCBoYXNDb3B5YWJsZUNvbnRlbnQgPSB1c2VNZXNzYWdlKChtZXNzYWdlKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIChtZXNzYWdlLnJvbGUgIT09IFwiYXNzaXN0YW50XCIgfHwgbWVzc2FnZS5zdGF0dXMudHlwZSAhPT0gXCJydW5uaW5nXCIpICYmXG4gICAgICBtZXNzYWdlLmNvbnRlbnQuc29tZSgoYykgPT4gYy50eXBlID09PSBcInRleHRcIiAmJiBjLnRleHQubGVuZ3RoID4gMClcbiAgICApO1xuICB9KTtcblxuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCB7IGlzRWRpdGluZywgdGV4dDogY29tcG9zZXJWYWx1ZSB9ID0gY29tcG9zZXJSdW50aW1lLmdldFN0YXRlKCk7XG5cbiAgICBjb25zdCB2YWx1ZVRvQ29weSA9IGlzRWRpdGluZ1xuICAgICAgPyBjb21wb3NlclZhbHVlXG4gICAgICA6IG1lc3NhZ2VSdW50aW1lLnVuc3RhYmxlX2dldENvcHlUZXh0KCk7XG5cbiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh2YWx1ZVRvQ29weSkudGhlbigoKSA9PiB7XG4gICAgICBzZXRJc0NvcGllZCh0cnVlKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0SXNDb3BpZWQoZmFsc2UpLCBjb3BpZWREdXJhdGlvbik7XG4gICAgfSk7XG4gIH0sIFttZXNzYWdlUnVudGltZSwgc2V0SXNDb3BpZWQsIGNvbXBvc2VyUnVudGltZSwgY29waWVkRHVyYXRpb25dKTtcblxuICBpZiAoIWhhc0NvcHlhYmxlQ29udGVudCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRWRpdENvbXBvc2VyLCB1c2VNZXNzYWdlUnVudGltZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VBY3Rpb25CYXJFZGl0ID0gKCkgPT4ge1xuICBjb25zdCBtZXNzYWdlUnVudGltZSA9IHVzZU1lc3NhZ2VSdW50aW1lKCk7XG4gIGNvbnN0IGRpc2FibGVkID0gdXNlRWRpdENvbXBvc2VyKChjKSA9PiBjLmlzRWRpdGluZyk7XG5cbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgbWVzc2FnZVJ1bnRpbWUuY29tcG9zZXIuYmVnaW5FZGl0KCk7XG4gIH0sIFttZXNzYWdlUnVudGltZV0pO1xuXG4gIGlmIChkaXNhYmxlZCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZVJ1bnRpbWUgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkUnVudGltZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IHVzZUNvbWJpbmVkU3RvcmUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tYmluZWQvdXNlQ29tYmluZWRTdG9yZVwiO1xuXG5leHBvcnQgY29uc3QgdXNlQWN0aW9uQmFyUmVsb2FkID0gKCkgPT4ge1xuICBjb25zdCBtZXNzYWdlUnVudGltZSA9IHVzZU1lc3NhZ2VSdW50aW1lKCk7XG4gIGNvbnN0IHRocmVhZFJ1bnRpbWUgPSB1c2VUaHJlYWRSdW50aW1lKCk7XG5cbiAgY29uc3QgZGlzYWJsZWQgPSB1c2VDb21iaW5lZFN0b3JlKFxuICAgIFt0aHJlYWRSdW50aW1lLCBtZXNzYWdlUnVudGltZV0sXG4gICAgKHQsIG0pID0+IHQuaXNSdW5uaW5nIHx8IHQuaXNEaXNhYmxlZCB8fCBtLnJvbGUgIT09IFwiYXNzaXN0YW50XCIsXG4gICk7XG5cbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgbWVzc2FnZVJ1bnRpbWUucmVsb2FkKCk7XG4gIH0sIFttZXNzYWdlUnVudGltZV0pO1xuXG4gIGlmIChkaXNhYmxlZCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICB0eXBlIENvbWJpbmVkU2VsZWN0b3IsXG4gIGNyZWF0ZUNvbWJpbmVkU3RvcmUsXG4gIFN0b3JlT3JSdW50aW1lLFxufSBmcm9tIFwiLi9jcmVhdGVDb21iaW5lZFN0b3JlXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VDb21iaW5lZFN0b3JlID0gPFQgZXh0ZW5kcyBBcnJheTx1bmtub3duPiwgUj4oXG4gIHN0b3JlczogeyBbSyBpbiBrZXlvZiBUXTogU3RvcmVPclJ1bnRpbWU8VFtLXT4gfSxcbiAgc2VsZWN0b3I6IENvbWJpbmVkU2VsZWN0b3I8VCwgUj4sXG4pOiBSID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwcyAtLSBzaGFsbG93LWNvbXBhcmUgdGhlIHN0b3JlIGFycmF5XG4gIGNvbnN0IHVzZUNvbWJpbmVkID0gdXNlTWVtbygoKSA9PiBjcmVhdGVDb21iaW5lZFN0b3JlPFQsIFI+KHN0b3JlcyksIHN0b3Jlcyk7XG4gIHJldHVybiB1c2VDb21iaW5lZChzZWxlY3Rvcik7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN5bmNFeHRlcm5hbFN0b3JlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IFVuc3Vic2NyaWJlIH0gZnJvbSBcIi4uLy4uL3R5cGVzL1Vuc3Vic2NyaWJlXCI7XG5cbmV4cG9ydCB0eXBlIFN0b3JlT3JSdW50aW1lPFQ+ID0ge1xuICBnZXRTdGF0ZTogKCkgPT4gVDtcbiAgc3Vic2NyaWJlOiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IFVuc3Vic2NyaWJlO1xufTtcblxuZXhwb3J0IHR5cGUgQ29tYmluZWRTZWxlY3RvcjxUIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4sIFI+ID0gKC4uLmFyZ3M6IFQpID0+IFI7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDb21iaW5lZFN0b3JlID0gPFQgZXh0ZW5kcyBBcnJheTx1bmtub3duPiwgUj4oc3RvcmVzOiB7XG4gIFtLIGluIGtleW9mIFRdOiBTdG9yZU9yUnVudGltZTxUW0tdPjtcbn0pID0+IHtcbiAgY29uc3Qgc3Vic2NyaWJlID0gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVW5zdWJzY3JpYmUgPT4ge1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlcyA9IHN0b3Jlcy5tYXAoKHN0b3JlKSA9PiBzdG9yZS5zdWJzY3JpYmUoY2FsbGJhY2spKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCB1bnN1YiBvZiB1bnN1YnNjcmliZXMpIHtcbiAgICAgICAgdW5zdWIoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiAoc2VsZWN0b3I6IENvbWJpbmVkU2VsZWN0b3I8VCwgUj4pOiBSID0+IHtcbiAgICBjb25zdCBnZXRTbmFwc2hvdCA9ICgpOiBSID0+XG4gICAgICBzZWxlY3RvciguLi4oc3RvcmVzLm1hcCgoc3RvcmUpID0+IHN0b3JlLmdldFN0YXRlKCkpIGFzIFQpKTtcblxuICAgIHJldHVybiB1c2VTeW5jRXh0ZXJuYWxTdG9yZShzdWJzY3JpYmUsIGdldFNuYXBzaG90LCBnZXRTbmFwc2hvdCk7XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgdXNlTWVzc2FnZSwgdXNlTWVzc2FnZVJ1bnRpbWUgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlQWN0aW9uQmFyU3BlYWsgPSAoKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2VSdW5pbWUgPSB1c2VNZXNzYWdlUnVudGltZSgpO1xuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBtZXNzYWdlUnVuaW1lLnNwZWFrKCk7XG4gIH0sIFttZXNzYWdlUnVuaW1lXSk7XG5cbiAgY29uc3QgaGFzU3BlYWthYmxlQ29udGVudCA9IHVzZU1lc3NhZ2UoKG0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgKG0ucm9sZSAhPT0gXCJhc3Npc3RhbnRcIiB8fCBtLnN0YXR1cy50eXBlICE9PSBcInJ1bm5pbmdcIikgJiZcbiAgICAgIG0uY29udGVudC5zb21lKChjKSA9PiBjLnR5cGUgPT09IFwidGV4dFwiICYmIGMudGV4dC5sZW5ndGggPiAwKVxuICAgICk7XG4gIH0pO1xuXG4gIGlmICghaGFzU3BlYWthYmxlQ29udGVudCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgdXNlTWVzc2FnZSxcbiAgdXNlTWVzc2FnZVJ1bnRpbWUsXG59IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L01lc3NhZ2VDb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VBY3Rpb25CYXJTdG9wU3BlYWtpbmcgPSAoKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2VSdW50aW1lID0gdXNlTWVzc2FnZVJ1bnRpbWUoKTtcbiAgY29uc3QgaXNTcGVha2luZyA9IHVzZU1lc3NhZ2UoKHUpID0+IHUuc3BlZWNoICE9IG51bGwpO1xuXG4gIGNvbnN0IGNhbGxiYWNrID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIG1lc3NhZ2VSdW50aW1lLnN0b3BTcGVha2luZygpO1xuICB9LCBbbWVzc2FnZVJ1bnRpbWVdKTtcblxuICBpZiAoIWlzU3BlYWtpbmcpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZVJ1bnRpbWUgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlQWN0aW9uQmFyRmVlZGJhY2tQb3NpdGl2ZSA9ICgpID0+IHtcbiAgY29uc3QgbWVzc2FnZVJ1bnRpbWUgPSB1c2VNZXNzYWdlUnVudGltZSgpO1xuXG4gIGNvbnN0IGNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIG1lc3NhZ2VSdW50aW1lLnN1Ym1pdEZlZWRiYWNrKHsgdHlwZTogXCJwb3NpdGl2ZVwiIH0pO1xuICB9LCBbbWVzc2FnZVJ1bnRpbWVdKTtcblxuICByZXR1cm4gY2FsbGJhY2s7XG59O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZU1lc3NhZ2VSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUFjdGlvbkJhckZlZWRiYWNrTmVnYXRpdmUgPSAoKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2VSdW50aW1lID0gdXNlTWVzc2FnZVJ1bnRpbWUoKTtcblxuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBtZXNzYWdlUnVudGltZS5zdWJtaXRGZWVkYmFjayh7IHR5cGU6IFwibmVnYXRpdmVcIiB9KTtcbiAgfSwgW21lc3NhZ2VSdW50aW1lXSk7XG5cbiAgcmV0dXJuIGNhbGxiYWNrO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L01lc3NhZ2VDb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VCcmFuY2hQaWNrZXJDb3VudCA9ICgpID0+IHtcbiAgY29uc3QgYnJhbmNoQ291bnQgPSB1c2VNZXNzYWdlKChzKSA9PiBzLmJyYW5jaENvdW50KTtcbiAgcmV0dXJuIGJyYW5jaENvdW50O1xufTtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICB1c2VNZXNzYWdlLFxuICB1c2VNZXNzYWdlUnVudGltZSxcbn0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUJyYW5jaFBpY2tlck5leHQgPSAoKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2VSdW50aW1lID0gdXNlTWVzc2FnZVJ1bnRpbWUoKTtcbiAgY29uc3QgZGlzYWJsZWQgPSB1c2VNZXNzYWdlKChtKSA9PiBtLmJyYW5jaE51bWJlciA+PSBtLmJyYW5jaENvdW50KTtcblxuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBtZXNzYWdlUnVudGltZS5zd2l0Y2hUb0JyYW5jaCh7IHBvc2l0aW9uOiBcIm5leHRcIiB9KTtcbiAgfSwgW21lc3NhZ2VSdW50aW1lXSk7XG5cbiAgaWYgKGRpc2FibGVkKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGNhbGxiYWNrO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUJyYW5jaFBpY2tlck51bWJlciA9ICgpID0+IHtcbiAgY29uc3QgYnJhbmNoTnVtYmVyID0gdXNlTWVzc2FnZSgocykgPT4gcy5icmFuY2hOdW1iZXIpO1xuICByZXR1cm4gYnJhbmNoTnVtYmVyO1xufTtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICB1c2VNZXNzYWdlLFxuICB1c2VNZXNzYWdlUnVudGltZSxcbn0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvTWVzc2FnZUNvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUJyYW5jaFBpY2tlclByZXZpb3VzID0gKCkgPT4ge1xuICBjb25zdCBtZXNzYWdlUnVudGltZSA9IHVzZU1lc3NhZ2VSdW50aW1lKCk7XG4gIGNvbnN0IGRpc2FibGVkID0gdXNlTWVzc2FnZSgobSkgPT4gbS5icmFuY2hOdW1iZXIgPD0gMSk7XG5cbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgbWVzc2FnZVJ1bnRpbWUuc3dpdGNoVG9CcmFuY2goeyBwb3NpdGlvbjogXCJwcmV2aW91c1wiIH0pO1xuICB9LCBbbWVzc2FnZVJ1bnRpbWVdKTtcblxuICBpZiAoZGlzYWJsZWQpIHJldHVybiBudWxsO1xuICByZXR1cm4gY2FsbGJhY2s7XG59O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VyLCB1c2VDb21wb3NlclJ1bnRpbWUgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlQ29tcG9zZXJDYW5jZWwgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbXBvc2VyUnVudGltZSA9IHVzZUNvbXBvc2VyUnVudGltZSgpO1xuICBjb25zdCBkaXNhYmxlZCA9IHVzZUNvbXBvc2VyKChjKSA9PiAhYy5jYW5DYW5jZWwpO1xuXG4gIGNvbnN0IGNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbXBvc2VyUnVudGltZS5jYW5jZWwoKTtcbiAgfSwgW2NvbXBvc2VyUnVudGltZV0pO1xuXG4gIGlmIChkaXNhYmxlZCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ29tcG9zZXIgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9Db21wb3NlckNvbnRleHRcIjtcbmltcG9ydCB0eXBlIHsgUmVxdWlyZUF0TGVhc3RPbmUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvUmVxdWlyZUF0TGVhc3RPbmVcIjtcblxudHlwZSBDb21wb3NlcklmRmlsdGVycyA9IHtcbiAgZWRpdGluZzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFVzZUNvbXBvc2VySWZQcm9wcyA9IFJlcXVpcmVBdExlYXN0T25lPENvbXBvc2VySWZGaWx0ZXJzPjtcblxuZXhwb3J0IGNvbnN0IHVzZUNvbXBvc2VySWYgPSAocHJvcHM6IFVzZUNvbXBvc2VySWZQcm9wcykgPT4ge1xuICByZXR1cm4gdXNlQ29tcG9zZXIoKGNvbXBvc2VyKSA9PiB7XG4gICAgaWYgKHByb3BzLmVkaXRpbmcgPT09IHRydWUgJiYgIWNvbXBvc2VyLmlzRWRpdGluZykgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwcm9wcy5lZGl0aW5nID09PSBmYWxzZSAmJiBjb21wb3Nlci5pc0VkaXRpbmcpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29tYmluZWRTdG9yZSB9IGZyb20gXCIuLi8uLi91dGlscy9jb21iaW5lZC91c2VDb21iaW5lZFN0b3JlXCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZXJSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUNvbXBvc2VyU2VuZCA9ICgpID0+IHtcbiAgY29uc3QgY29tcG9zZXJSdW50aW1lID0gdXNlQ29tcG9zZXJSdW50aW1lKCk7XG4gIGNvbnN0IHRocmVhZFJ1bnRpbWUgPSB1c2VUaHJlYWRSdW50aW1lKCk7XG5cbiAgY29uc3QgZGlzYWJsZWQgPSB1c2VDb21iaW5lZFN0b3JlKFxuICAgIFt0aHJlYWRSdW50aW1lLCBjb21wb3NlclJ1bnRpbWVdLFxuICAgICh0LCBjKSA9PiB0LmlzUnVubmluZyB8fCAhYy5pc0VkaXRpbmcgfHwgYy5pc0VtcHR5LFxuICApO1xuXG4gIGNvbnN0IGNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghY29tcG9zZXJSdW50aW1lLmdldFN0YXRlKCkuaXNFZGl0aW5nKSByZXR1cm47XG5cbiAgICBjb21wb3NlclJ1bnRpbWUuc2VuZCgpO1xuICB9LCBbdGhyZWFkUnVudGltZV0pO1xuXG4gIGlmIChkaXNhYmxlZCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjYWxsYmFjaztcbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZXIsIHVzZUNvbXBvc2VyUnVudGltZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VDb21wb3NlckFkZEF0dGFjaG1lbnQgPSAoKSA9PiB7XG4gIGNvbnN0IGRpc2FibGVkID0gdXNlQ29tcG9zZXIoKGMpID0+ICFjLmlzRWRpdGluZyk7XG5cbiAgY29uc3QgY29tcG9zZXJSdW50aW1lID0gdXNlQ29tcG9zZXJSdW50aW1lKCk7XG4gIGNvbnN0IGNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGlucHV0LnR5cGUgPSBcImZpbGVcIjtcblxuICAgIGNvbnN0IGF0dGFjaG1lbnRBY2NlcHQgPSBjb21wb3NlclJ1bnRpbWUuZ2V0QXR0YWNobWVudEFjY2VwdCgpO1xuICAgIGlmIChhdHRhY2htZW50QWNjZXB0ICE9PSBcIipcIikge1xuICAgICAgaW5wdXQuYWNjZXB0ID0gYXR0YWNobWVudEFjY2VwdDtcbiAgICB9XG5cbiAgICBpbnB1dC5vbmNoYW5nZSA9IChlKSA9PiB7XG4gICAgICBjb25zdCBmaWxlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzPy5bMF07XG4gICAgICBpZiAoIWZpbGUpIHJldHVybjtcbiAgICAgIGNvbXBvc2VyUnVudGltZS5hZGRBdHRhY2htZW50KGZpbGUpO1xuICAgIH07XG5cbiAgICBpbnB1dC5jbGljaygpO1xuICB9LCBbY29tcG9zZXJSdW50aW1lXSk7XG5cbiAgaWYgKGRpc2FibGVkKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGNhbGxiYWNrO1xufTtcbiIsImltcG9ydCB7IENvbnRlbnRQYXJ0U3RhdGUgfSBmcm9tIFwiLi4vLi4vYXBpL0NvbnRlbnRQYXJ0UnVudGltZVwiO1xuaW1wb3J0IHsgdXNlQ29udGVudFBhcnQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9Db250ZW50UGFydENvbnRleHRcIjtcbmltcG9ydCB7IFVJQ29udGVudFBhcnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUNvbnRlbnRQYXJ0RGlzcGxheSA9ICgpID0+IHtcbiAgY29uc3QgZGlzcGxheSA9IHVzZUNvbnRlbnRQYXJ0KChjKSA9PiB7XG4gICAgaWYgKGMudHlwZSAhPT0gXCJ1aVwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoaXMgY29tcG9uZW50IGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHVpIGNvbnRlbnQgcGFydHMuXCIsXG4gICAgICApO1xuXG4gICAgcmV0dXJuIGMgYXMgQ29udGVudFBhcnRTdGF0ZSAmIFVJQ29udGVudFBhcnQgJiB7IHBhcnQ6IFVJQ29udGVudFBhcnQgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRpc3BsYXk7XG59O1xuIiwiaW1wb3J0IHsgQ29udGVudFBhcnRTdGF0ZSB9IGZyb20gXCIuLi8uLi9hcGkvQ29udGVudFBhcnRSdW50aW1lXCI7XG5pbXBvcnQgeyB1c2VDb250ZW50UGFydCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L0NvbnRlbnRQYXJ0Q29udGV4dFwiO1xuaW1wb3J0IHsgSW1hZ2VDb250ZW50UGFydCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgdXNlQ29udGVudFBhcnRJbWFnZSA9ICgpID0+IHtcbiAgY29uc3QgaW1hZ2UgPSB1c2VDb250ZW50UGFydCgoYykgPT4ge1xuICAgIGlmIChjLnR5cGUgIT09IFwiaW1hZ2VcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJDb250ZW50UGFydEltYWdlIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIGltYWdlIGNvbnRlbnQgcGFydHMuXCIsXG4gICAgICApO1xuXG4gICAgcmV0dXJuIGMgYXMgQ29udGVudFBhcnRTdGF0ZSAmXG4gICAgICBJbWFnZUNvbnRlbnRQYXJ0ICYgeyBwYXJ0OiBJbWFnZUNvbnRlbnRQYXJ0IH07XG4gIH0pO1xuXG4gIHJldHVybiBpbWFnZTtcbn07XG4iLCJpbXBvcnQgeyBDb250ZW50UGFydFN0YXRlIH0gZnJvbSBcIi4uLy4uL2FwaS9Db250ZW50UGFydFJ1bnRpbWVcIjtcbmltcG9ydCB7IHVzZUNvbnRlbnRQYXJ0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvQ29udGVudFBhcnRDb250ZXh0XCI7XG5pbXBvcnQgeyBUZXh0Q29udGVudFBhcnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUNvbnRlbnRQYXJ0VGV4dCA9ICgpID0+IHtcbiAgY29uc3QgdGV4dCA9IHVzZUNvbnRlbnRQYXJ0KChjKSA9PiB7XG4gICAgaWYgKGMudHlwZSAhPT0gXCJ0ZXh0XCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiQ29udGVudFBhcnRUZXh0IGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHRleHQgY29udGVudCBwYXJ0cy5cIixcbiAgICAgICk7XG5cbiAgICByZXR1cm4gYyBhcyBDb250ZW50UGFydFN0YXRlICYgVGV4dENvbnRlbnRQYXJ0ICYgeyBwYXJ0OiBUZXh0Q29udGVudFBhcnQgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRleHQ7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQge1xuICB1c2VNZXNzYWdlUnVudGltZSxcbiAgdXNlTWVzc2FnZVV0aWxzU3RvcmUsXG59IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L01lc3NhZ2VDb250ZXh0XCI7XG5pbXBvcnQgdHlwZSB7IFJlcXVpcmVBdExlYXN0T25lIH0gZnJvbSBcIi4uLy4uL3V0aWxzL1JlcXVpcmVBdExlYXN0T25lXCI7XG5pbXBvcnQgeyB1c2VDb21iaW5lZFN0b3JlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2NvbWJpbmVkL3VzZUNvbWJpbmVkU3RvcmVcIjtcblxudHlwZSBNZXNzYWdlSWZGaWx0ZXJzID0ge1xuICB1c2VyOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBhc3Npc3RhbnQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHN5c3RlbTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgaGFzQnJhbmNoZXM6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGNvcGllZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgbGFzdE9ySG92ZXI6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHNwZWFraW5nOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBoYXNBdHRhY2htZW50czogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgaGFzQ29udGVudDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgc3VibWl0dGVkRmVlZGJhY2s6IFwicG9zaXRpdmVcIiB8IFwibmVnYXRpdmVcIiB8IG51bGwgfCB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IHR5cGUgVXNlTWVzc2FnZUlmUHJvcHMgPSBSZXF1aXJlQXRMZWFzdE9uZTxNZXNzYWdlSWZGaWx0ZXJzPjtcblxuZXhwb3J0IGNvbnN0IHVzZU1lc3NhZ2VJZiA9IChwcm9wczogVXNlTWVzc2FnZUlmUHJvcHMpID0+IHtcbiAgY29uc3QgbWVzc2FnZVJ1bnRpbWUgPSB1c2VNZXNzYWdlUnVudGltZSgpO1xuICBjb25zdCBtZXNzYWdlVXRpbHNTdG9yZSA9IHVzZU1lc3NhZ2VVdGlsc1N0b3JlKCk7XG5cbiAgcmV0dXJuIHVzZUNvbWJpbmVkU3RvcmUoXG4gICAgW21lc3NhZ2VSdW50aW1lLCBtZXNzYWdlVXRpbHNTdG9yZV0sXG4gICAgKFxuICAgICAge1xuICAgICAgICByb2xlLFxuICAgICAgICBhdHRhY2htZW50cyxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgYnJhbmNoQ291bnQsXG4gICAgICAgIGlzTGFzdCxcbiAgICAgICAgc3BlZWNoLFxuICAgICAgICBzdWJtaXR0ZWRGZWVkYmFjayxcbiAgICAgIH0sXG4gICAgICB7IGlzQ29waWVkLCBpc0hvdmVyaW5nIH0sXG4gICAgKSA9PiB7XG4gICAgICBpZiAocHJvcHMuaGFzQnJhbmNoZXMgPT09IHRydWUgJiYgYnJhbmNoQ291bnQgPCAyKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIGlmIChwcm9wcy51c2VyICYmIHJvbGUgIT09IFwidXNlclwiKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAocHJvcHMuYXNzaXN0YW50ICYmIHJvbGUgIT09IFwiYXNzaXN0YW50XCIpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChwcm9wcy5zeXN0ZW0gJiYgcm9sZSAhPT0gXCJzeXN0ZW1cIikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBpZiAocHJvcHMubGFzdE9ySG92ZXIgPT09IHRydWUgJiYgIWlzSG92ZXJpbmcgJiYgIWlzTGFzdCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBpZiAocHJvcHMuY29waWVkID09PSB0cnVlICYmICFpc0NvcGllZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHByb3BzLmNvcGllZCA9PT0gZmFsc2UgJiYgaXNDb3BpZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgaWYgKHByb3BzLnNwZWFraW5nID09PSB0cnVlICYmIHNwZWVjaCA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAocHJvcHMuc3BlYWtpbmcgPT09IGZhbHNlICYmIHNwZWVjaCAhPSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIGlmIChcbiAgICAgICAgcHJvcHMuaGFzQXR0YWNobWVudHMgPT09IHRydWUgJiZcbiAgICAgICAgKHJvbGUgIT09IFwidXNlclwiIHx8ICFhdHRhY2htZW50cy5sZW5ndGgpXG4gICAgICApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChcbiAgICAgICAgcHJvcHMuaGFzQXR0YWNobWVudHMgPT09IGZhbHNlICYmXG4gICAgICAgIHJvbGUgPT09IFwidXNlclwiICYmXG4gICAgICAgICEhYXR0YWNobWVudHMubGVuZ3RoXG4gICAgICApXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgaWYgKHByb3BzLmhhc0NvbnRlbnQgPT09IHRydWUgJiYgY29udGVudC5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChwcm9wcy5oYXNDb250ZW50ID09PSBmYWxzZSAmJiBjb250ZW50Lmxlbmd0aCA+IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgaWYgKFxuICAgICAgICBwcm9wcy5zdWJtaXR0ZWRGZWVkYmFjayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIChzdWJtaXR0ZWRGZWVkYmFjaz8udHlwZSA/PyBudWxsKSAhPT0gcHJvcHMuc3VibWl0dGVkRmVlZGJhY2tcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICApO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VUaHJlYWQgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHR5cGUgeyBSZXF1aXJlQXRMZWFzdE9uZSB9IGZyb20gXCIuLi8uLi91dGlscy9SZXF1aXJlQXRMZWFzdE9uZVwiO1xuXG50eXBlIFRocmVhZElmRmlsdGVycyA9IHtcbiAgZW1wdHk6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJ1bm5pbmc6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGRpc2FibGVkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgVXNlVGhyZWFkSWZQcm9wcyA9IFJlcXVpcmVBdExlYXN0T25lPFRocmVhZElmRmlsdGVycz47XG5cbmV4cG9ydCBjb25zdCB1c2VUaHJlYWRJZiA9IChwcm9wczogVXNlVGhyZWFkSWZQcm9wcykgPT4ge1xuICByZXR1cm4gdXNlVGhyZWFkKCh0aHJlYWQpID0+IHtcbiAgICBpZiAocHJvcHMuZW1wdHkgPT09IHRydWUgJiYgdGhyZWFkLm1lc3NhZ2VzLmxlbmd0aCAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwcm9wcy5lbXB0eSA9PT0gZmFsc2UgJiYgdGhyZWFkLm1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwcm9wcy5ydW5uaW5nID09PSB0cnVlICYmICF0aHJlYWQuaXNSdW5uaW5nKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHByb3BzLnJ1bm5pbmcgPT09IGZhbHNlICYmIHRocmVhZC5pc1J1bm5pbmcpIHJldHVybiBmYWxzZTtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQgPT09IHRydWUgJiYgdGhyZWFkLmlzRGlzYWJsZWQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQgPT09IGZhbHNlICYmIHRocmVhZC5pc0Rpc2FibGVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IHsgdXNlVGhyZWFkSWYgfSBmcm9tIFwiLi91c2VUaHJlYWRJZlwiO1xuXG5leHBvcnQgY29uc3QgdXNlVGhyZWFkRW1wdHkgPSAoKSA9PiB7XG4gIHJldHVybiB1c2VUaHJlYWRJZih7IGVtcHR5OiB0cnVlIH0pO1xufTtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRWaWV3cG9ydCB9IGZyb20gXCIuLi8uLi9jb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRWaWV3cG9ydFN0b3JlIH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlVGhyZWFkU2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gIGNvbnN0IGlzQXRCb3R0b20gPSB1c2VUaHJlYWRWaWV3cG9ydCgocykgPT4gcy5pc0F0Qm90dG9tKTtcblxuICBjb25zdCB0aHJlYWRWaWV3cG9ydFN0b3JlID0gdXNlVGhyZWFkVmlld3BvcnRTdG9yZSgpO1xuXG4gIGNvbnN0IGhhbmRsZVNjcm9sbFRvQm90dG9tID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHRocmVhZFZpZXdwb3J0U3RvcmUuZ2V0U3RhdGUoKS5zY3JvbGxUb0JvdHRvbSgpO1xuICB9LCBbdGhyZWFkVmlld3BvcnRTdG9yZV0pO1xuXG4gIGlmIChpc0F0Qm90dG9tKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGhhbmRsZVNjcm9sbFRvQm90dG9tO1xufTtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VUaHJlYWQgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkUnVudGltZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcblxuZXhwb3J0IHR5cGUgVXNlQXBwbHlUaHJlYWRTdWdnZXN0aW9uUHJvcHMgPSB7XG4gIHByb21wdDogc3RyaW5nO1xuICBtZXRob2Q6IFwicmVwbGFjZVwiO1xuICBhdXRvU2VuZD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlVGhyZWFkU3VnZ2VzdGlvbiA9ICh7XG4gIHByb21wdCxcbiAgYXV0b1NlbmQsXG59OiBVc2VBcHBseVRocmVhZFN1Z2dlc3Rpb25Qcm9wcykgPT4ge1xuICBjb25zdCB0aHJlYWRSdW50aW1lID0gdXNlVGhyZWFkUnVudGltZSgpO1xuXG4gIGNvbnN0IGRpc2FibGVkID0gdXNlVGhyZWFkKCh0KSA9PiB0LmlzRGlzYWJsZWQpO1xuICBjb25zdCBjYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoYXV0b1NlbmQgJiYgIXRocmVhZFJ1bnRpbWUuZ2V0U3RhdGUoKS5pc1J1bm5pbmcpIHtcbiAgICAgIHRocmVhZFJ1bnRpbWUuYXBwZW5kKHByb21wdCk7XG4gICAgICB0aHJlYWRSdW50aW1lLmNvbXBvc2VyLnNldFRleHQoXCJcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocmVhZFJ1bnRpbWUuY29tcG9zZXIuc2V0VGV4dChwcm9tcHQpO1xuICAgIH1cbiAgfSwgW3RocmVhZFJ1bnRpbWUsIGF1dG9TZW5kLCBwcm9tcHRdKTtcblxuICBpZiAoZGlzYWJsZWQpIHJldHVybiBudWxsO1xuICByZXR1cm4gY2FsbGJhY2s7XG59O1xuIiwiZXhwb3J0IHsgQWN0aW9uQmFyUHJpbWl0aXZlUm9vdCBhcyBSb290IH0gZnJvbSBcIi4vQWN0aW9uQmFyUm9vdFwiO1xuZXhwb3J0IHsgQWN0aW9uQmFyUHJpbWl0aXZlQ29weSBhcyBDb3B5IH0gZnJvbSBcIi4vQWN0aW9uQmFyQ29weVwiO1xuZXhwb3J0IHsgQWN0aW9uQmFyUHJpbWl0aXZlUmVsb2FkIGFzIFJlbG9hZCB9IGZyb20gXCIuL0FjdGlvbkJhclJlbG9hZFwiO1xuZXhwb3J0IHsgQWN0aW9uQmFyUHJpbWl0aXZlRWRpdCBhcyBFZGl0IH0gZnJvbSBcIi4vQWN0aW9uQmFyRWRpdFwiO1xuZXhwb3J0IHsgQWN0aW9uQmFyUHJpbWl0aXZlU3BlYWsgYXMgU3BlYWsgfSBmcm9tIFwiLi9BY3Rpb25CYXJTcGVha1wiO1xuZXhwb3J0IHsgQWN0aW9uQmFyUHJpbWl0aXZlU3RvcFNwZWFraW5nIGFzIFN0b3BTcGVha2luZyB9IGZyb20gXCIuL0FjdGlvbkJhclN0b3BTcGVha2luZ1wiO1xuZXhwb3J0IHsgQWN0aW9uQmFyUHJpbWl0aXZlRmVlZGJhY2tQb3NpdGl2ZSBhcyBGZWVkYmFja1Bvc2l0aXZlIH0gZnJvbSBcIi4vQWN0aW9uQmFyRmVlZGJhY2tQb3NpdGl2ZVwiO1xuZXhwb3J0IHsgQWN0aW9uQmFyUHJpbWl0aXZlRmVlZGJhY2tOZWdhdGl2ZSBhcyBGZWVkYmFja05lZ2F0aXZlIH0gZnJvbSBcIi4vQWN0aW9uQmFyRmVlZGJhY2tOZWdhdGl2ZVwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB0eXBlIEVsZW1lbnRSZWYsIGZvcndhcmRSZWYsIENvbXBvbmVudFByb3BzV2l0aG91dFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgdXNlQWN0aW9uQmFyRmxvYXRTdGF0dXMsXG4gIEhpZGVBbmRGbG9hdFN0YXR1cyxcbiAgVXNlQWN0aW9uQmFyRmxvYXRTdGF0dXNQcm9wcyxcbn0gZnJvbSBcIi4vdXNlQWN0aW9uQmFyRmxvYXRTdGF0dXNcIjtcblxudHlwZSBQcmltaXRpdmVEaXZQcm9wcyA9IENvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBBY3Rpb25CYXJQcmltaXRpdmUuUm9vdC5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBBY3Rpb25CYXJQcmltaXRpdmVSb290UHJvcHMgPSBBY3Rpb25CYXJQcmltaXRpdmVSb290LlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIEFjdGlvbkJhclByaW1pdGl2ZVJvb3Qge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gUHJpbWl0aXZlRGl2UHJvcHMgJiBVc2VBY3Rpb25CYXJGbG9hdFN0YXR1c1Byb3BzO1xufVxuXG5leHBvcnQgY29uc3QgQWN0aW9uQmFyUHJpbWl0aXZlUm9vdCA9IGZvcndhcmRSZWY8XG4gIEFjdGlvbkJhclByaW1pdGl2ZVJvb3QuRWxlbWVudCxcbiAgQWN0aW9uQmFyUHJpbWl0aXZlUm9vdC5Qcm9wc1xuPigoeyBoaWRlV2hlblJ1bm5pbmcsIGF1dG9oaWRlLCBhdXRvaGlkZUZsb2F0LCAuLi5yZXN0IH0sIHJlZikgPT4ge1xuICBjb25zdCBoaWRlQW5kZmxvYXRTdGF0dXMgPSB1c2VBY3Rpb25CYXJGbG9hdFN0YXR1cyh7XG4gICAgaGlkZVdoZW5SdW5uaW5nLFxuICAgIGF1dG9oaWRlLFxuICAgIGF1dG9oaWRlRmxvYXQsXG4gIH0pO1xuXG4gIGlmIChoaWRlQW5kZmxvYXRTdGF0dXMgPT09IEhpZGVBbmRGbG9hdFN0YXR1cy5IaWRkZW4pIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPFByaW1pdGl2ZS5kaXZcbiAgICAgIHsuLi4oaGlkZUFuZGZsb2F0U3RhdHVzID09PSBIaWRlQW5kRmxvYXRTdGF0dXMuRmxvYXRpbmdcbiAgICAgICAgPyB7IFwiZGF0YS1mbG9hdGluZ1wiOiBcInRydWVcIiB9XG4gICAgICAgIDogbnVsbCl9XG4gICAgICB7Li4ucmVzdH1cbiAgICAgIHJlZj17cmVmfVxuICAgIC8+XG4gICk7XG59KTtcblxuQWN0aW9uQmFyUHJpbWl0aXZlUm9vdC5kaXNwbGF5TmFtZSA9IFwiQWN0aW9uQmFyUHJpbWl0aXZlLlJvb3RcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHtcbiAgdXNlTWVzc2FnZVJ1bnRpbWUsXG4gIHVzZU1lc3NhZ2VVdGlsc1N0b3JlLFxufSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkUnVudGltZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCB7IHVzZUNvbWJpbmVkU3RvcmUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tYmluZWQvdXNlQ29tYmluZWRTdG9yZVwiO1xuXG5leHBvcnQgZW51bSBIaWRlQW5kRmxvYXRTdGF0dXMge1xuICBIaWRkZW4gPSBcImhpZGRlblwiLFxuICBGbG9hdGluZyA9IFwiZmxvYXRpbmdcIixcbiAgTm9ybWFsID0gXCJub3JtYWxcIixcbn1cblxuZXhwb3J0IHR5cGUgVXNlQWN0aW9uQmFyRmxvYXRTdGF0dXNQcm9wcyA9IHtcbiAgaGlkZVdoZW5SdW5uaW5nPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgYXV0b2hpZGU/OiBcImFsd2F5c1wiIHwgXCJub3QtbGFzdFwiIHwgXCJuZXZlclwiIHwgdW5kZWZpbmVkO1xuICBhdXRvaGlkZUZsb2F0PzogXCJhbHdheXNcIiB8IFwic2luZ2xlLWJyYW5jaFwiIHwgXCJuZXZlclwiIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUFjdGlvbkJhckZsb2F0U3RhdHVzID0gKHtcbiAgaGlkZVdoZW5SdW5uaW5nLFxuICBhdXRvaGlkZSxcbiAgYXV0b2hpZGVGbG9hdCxcbn06IFVzZUFjdGlvbkJhckZsb2F0U3RhdHVzUHJvcHMpID0+IHtcbiAgY29uc3QgdGhyZWFkUnVudGltZSA9IHVzZVRocmVhZFJ1bnRpbWUoKTtcbiAgY29uc3QgbWVzc2FnZVJ1bnRpbWUgPSB1c2VNZXNzYWdlUnVudGltZSgpO1xuICBjb25zdCBtZXNzYWdlVXRpbHNTdG9yZSA9IHVzZU1lc3NhZ2VVdGlsc1N0b3JlKCk7XG5cbiAgcmV0dXJuIHVzZUNvbWJpbmVkU3RvcmUoXG4gICAgW3RocmVhZFJ1bnRpbWUsIG1lc3NhZ2VSdW50aW1lLCBtZXNzYWdlVXRpbHNTdG9yZV0sXG4gICAgKHQsIG0sIG11KSA9PiB7XG4gICAgICBpZiAoaGlkZVdoZW5SdW5uaW5nICYmIHQuaXNSdW5uaW5nKSByZXR1cm4gSGlkZUFuZEZsb2F0U3RhdHVzLkhpZGRlbjtcblxuICAgICAgY29uc3QgYXV0b2hpZGVFbmFibGVkID1cbiAgICAgICAgYXV0b2hpZGUgPT09IFwiYWx3YXlzXCIgfHwgKGF1dG9oaWRlID09PSBcIm5vdC1sYXN0XCIgJiYgIW0uaXNMYXN0KTtcblxuICAgICAgLy8gbm9ybWFsIHN0YXR1c1xuICAgICAgaWYgKCFhdXRvaGlkZUVuYWJsZWQpIHJldHVybiBIaWRlQW5kRmxvYXRTdGF0dXMuTm9ybWFsO1xuXG4gICAgICAvLyBoaWRkZW4gc3RhdHVzXG4gICAgICBpZiAoIW11LmlzSG92ZXJpbmcpIHJldHVybiBIaWRlQW5kRmxvYXRTdGF0dXMuSGlkZGVuO1xuXG4gICAgICAvLyBmbG9hdGluZyBzdGF0dXNcbiAgICAgIGlmIChcbiAgICAgICAgYXV0b2hpZGVGbG9hdCA9PT0gXCJhbHdheXNcIiB8fFxuICAgICAgICAoYXV0b2hpZGVGbG9hdCA9PT0gXCJzaW5nbGUtYnJhbmNoXCIgJiYgbS5icmFuY2hDb3VudCA8PSAxKVxuICAgICAgKVxuICAgICAgICByZXR1cm4gSGlkZUFuZEZsb2F0U3RhdHVzLkZsb2F0aW5nO1xuXG4gICAgICByZXR1cm4gSGlkZUFuZEZsb2F0U3RhdHVzLk5vcm1hbDtcbiAgICB9LFxuICApO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBmb3J3YXJkUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VBY3Rpb25CYXJDb3B5IH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9hY3Rpb25CYXIvdXNlQWN0aW9uQmFyQ29weVwiO1xuaW1wb3J0IHsgQWN0aW9uQnV0dG9uUHJvcHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY3JlYXRlQWN0aW9uQnV0dG9uXCI7XG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZVV0aWxzIH0gZnJvbSBcIi4uLy4uL2NvbnRleHRcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYEFjdGlvbkJhclByaW1pdGl2ZS5Db3B5LlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIEFjdGlvbkJhclByaW1pdGl2ZUNvcHlQcm9wcyA9IEFjdGlvbkJhclByaW1pdGl2ZUNvcHkuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQWN0aW9uQmFyUHJpbWl0aXZlQ29weSB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBBY3Rpb25CdXR0b25Qcm9wczx0eXBlb2YgdXNlQWN0aW9uQmFyQ29weT47XG59XG5cbmV4cG9ydCBjb25zdCBBY3Rpb25CYXJQcmltaXRpdmVDb3B5ID0gZm9yd2FyZFJlZjxcbiAgQWN0aW9uQmFyUHJpbWl0aXZlQ29weS5FbGVtZW50LFxuICBBY3Rpb25CYXJQcmltaXRpdmVDb3B5LlByb3BzXG4+KCh7IGNvcGllZER1cmF0aW9uLCBvbkNsaWNrLCBkaXNhYmxlZCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IGlzQ29waWVkID0gdXNlTWVzc2FnZVV0aWxzKCh1KSA9PiB1LmlzQ29waWVkKTtcbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VBY3Rpb25CYXJDb3B5KHsgY29waWVkRHVyYXRpb24gfSk7XG4gIHJldHVybiAoXG4gICAgPFByaW1pdGl2ZS5idXR0b25cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgey4uLihpc0NvcGllZCA/IHsgXCJkYXRhLWNvcGllZFwiOiBcInRydWVcIiB9IDoge30pfVxuICAgICAgey4uLnByb3BzfVxuICAgICAgcmVmPXtmb3J3YXJkZWRSZWZ9XG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWQgfHwgIWNhbGxiYWNrfVxuICAgICAgb25DbGljaz17Y29tcG9zZUV2ZW50SGFuZGxlcnMob25DbGljaywgKCkgPT4ge1xuICAgICAgICBjYWxsYmFjaz8uKCk7XG4gICAgICB9KX1cbiAgICAvPlxuICApO1xufSk7XG5cbkFjdGlvbkJhclByaW1pdGl2ZUNvcHkuZGlzcGxheU5hbWUgPSBcIkFjdGlvbkJhclByaW1pdGl2ZS5Db3B5XCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiwgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgY29tcG9zZUV2ZW50SGFuZGxlcnMgfSBmcm9tIFwiQHJhZGl4LXVpL3ByaW1pdGl2ZVwiO1xuXG50eXBlIEFjdGlvbkJ1dHRvbkNhbGxiYWNrPFRQcm9wcz4gPSAocHJvcHM6IFRQcm9wcykgPT4gbnVsbCB8ICgoKSA9PiB2b2lkKTtcblxudHlwZSBQcmltaXRpdmVCdXR0b25Qcm9wcyA9IENvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUHJpbWl0aXZlLmJ1dHRvbj47XG5cbmV4cG9ydCB0eXBlIEFjdGlvbkJ1dHRvblByb3BzPFRIb29rPiA9IFByaW1pdGl2ZUJ1dHRvblByb3BzICZcbiAgKFRIb29rIGV4dGVuZHMgKHByb3BzOiBpbmZlciBUUHJvcHMpID0+IHVua25vd24gPyBUUHJvcHMgOiBuZXZlcik7XG5cbmV4cG9ydCB0eXBlIEFjdGlvbkJ1dHRvbkVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuYnV0dG9uPjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUFjdGlvbkJ1dHRvbiA9IDxUUHJvcHMsPihcbiAgZGlzcGxheU5hbWU6IHN0cmluZyxcbiAgdXNlQWN0aW9uQnV0dG9uOiBBY3Rpb25CdXR0b25DYWxsYmFjazxUUHJvcHM+LFxuICBmb3J3YXJkUHJvcHM6IChrZXlvZiBOb25OdWxsYWJsZTxUUHJvcHM+KVtdID0gW10sXG4pID0+IHtcbiAgY29uc3QgQWN0aW9uQnV0dG9uID0gZm9yd2FyZFJlZjxcbiAgICBBY3Rpb25CdXR0b25FbGVtZW50LFxuICAgIFByaW1pdGl2ZUJ1dHRvblByb3BzICYgVFByb3BzXG4gID4oKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCBmb3J3YXJkZWRQcm9wcyA9IHt9IGFzIFRQcm9wcztcbiAgICBjb25zdCBwcmltaXRpdmVQcm9wcyA9IHt9IGFzIFByaW1pdGl2ZUJ1dHRvblByb3BzO1xuXG4gICAgKE9iamVjdC5rZXlzKHByb3BzKSBhcyBBcnJheTxrZXlvZiB0eXBlb2YgcHJvcHM+KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChmb3J3YXJkUHJvcHMuaW5jbHVkZXMoa2V5IGFzIGtleW9mIFRQcm9wcykpIHtcbiAgICAgICAgKGZvcndhcmRlZFByb3BzIGFzIGFueSlba2V5XSA9IHByb3BzW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAocHJpbWl0aXZlUHJvcHMgYXMgYW55KVtrZXldID0gcHJvcHNba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNhbGxiYWNrID0gdXNlQWN0aW9uQnV0dG9uKGZvcndhcmRlZFByb3BzIGFzIFRQcm9wcyk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxQcmltaXRpdmUuYnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICB7Li4ucHJpbWl0aXZlUHJvcHN9XG4gICAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgICBkaXNhYmxlZD17cHJpbWl0aXZlUHJvcHMuZGlzYWJsZWQgfHwgIWNhbGxiYWNrfVxuICAgICAgICBvbkNsaWNrPXtjb21wb3NlRXZlbnRIYW5kbGVycyhwcmltaXRpdmVQcm9wcy5vbkNsaWNrLCAoKSA9PiB7XG4gICAgICAgICAgY2FsbGJhY2s/LigpO1xuICAgICAgICB9KX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSk7XG5cbiAgQWN0aW9uQnV0dG9uLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG5cbiAgcmV0dXJuIEFjdGlvbkJ1dHRvbjtcbn07XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQWN0aW9uQmFyUmVsb2FkIH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9hY3Rpb25CYXIvdXNlQWN0aW9uQmFyUmVsb2FkXCI7XG5pbXBvcnQge1xuICBBY3Rpb25CdXR0b25FbGVtZW50LFxuICBBY3Rpb25CdXR0b25Qcm9wcyxcbiAgY3JlYXRlQWN0aW9uQnV0dG9uLFxufSBmcm9tIFwiLi4vLi4vdXRpbHMvY3JlYXRlQWN0aW9uQnV0dG9uXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBBY3Rpb25CYXJQcmltaXRpdmUuUmVsb2FkLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIEFjdGlvbkJhclByaW1pdGl2ZVJlbG9hZFByb3BzID0gQWN0aW9uQmFyUHJpbWl0aXZlUmVsb2FkLlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIEFjdGlvbkJhclByaW1pdGl2ZVJlbG9hZCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBBY3Rpb25CdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPHR5cGVvZiB1c2VBY3Rpb25CYXJSZWxvYWQ+O1xufVxuXG5leHBvcnQgY29uc3QgQWN0aW9uQmFyUHJpbWl0aXZlUmVsb2FkID0gY3JlYXRlQWN0aW9uQnV0dG9uKFxuICBcIkFjdGlvbkJhclByaW1pdGl2ZS5SZWxvYWRcIixcbiAgdXNlQWN0aW9uQmFyUmVsb2FkLFxuKTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VBY3Rpb25CYXJFZGl0IH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9hY3Rpb25CYXIvdXNlQWN0aW9uQmFyRWRpdFwiO1xuaW1wb3J0IHtcbiAgQWN0aW9uQnV0dG9uRWxlbWVudCxcbiAgQWN0aW9uQnV0dG9uUHJvcHMsXG4gIGNyZWF0ZUFjdGlvbkJ1dHRvbixcbn0gZnJvbSBcIi4uLy4uL3V0aWxzL2NyZWF0ZUFjdGlvbkJ1dHRvblwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgQWN0aW9uQmFyUHJpbWl0aXZlLkVkaXQuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgQWN0aW9uQmFyUHJpbWl0aXZlRWRpdFByb3BzID0gQWN0aW9uQmFyUHJpbWl0aXZlRWRpdC5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBBY3Rpb25CYXJQcmltaXRpdmVFZGl0IHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEFjdGlvbkJ1dHRvbkVsZW1lbnQ7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gQWN0aW9uQnV0dG9uUHJvcHM8dHlwZW9mIHVzZUFjdGlvbkJhckVkaXQ+O1xufVxuXG5leHBvcnQgY29uc3QgQWN0aW9uQmFyUHJpbWl0aXZlRWRpdCA9IGNyZWF0ZUFjdGlvbkJ1dHRvbihcbiAgXCJBY3Rpb25CYXJQcmltaXRpdmUuRWRpdFwiLFxuICB1c2VBY3Rpb25CYXJFZGl0LFxuKTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VBY3Rpb25CYXJTcGVhayB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvYWN0aW9uQmFyL3VzZUFjdGlvbkJhclNwZWFrXCI7XG5pbXBvcnQge1xuICBBY3Rpb25CdXR0b25FbGVtZW50LFxuICBBY3Rpb25CdXR0b25Qcm9wcyxcbiAgY3JlYXRlQWN0aW9uQnV0dG9uLFxufSBmcm9tIFwiLi4vLi4vdXRpbHMvY3JlYXRlQWN0aW9uQnV0dG9uXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBBY3Rpb25CYXJQcmltaXRpdmUuU3BlYWsuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgQWN0aW9uQmFyUHJpbWl0aXZlU3BlYWtQcm9wcyA9IEFjdGlvbkJhclByaW1pdGl2ZVNwZWFrLlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIEFjdGlvbkJhclByaW1pdGl2ZVNwZWFrIHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEFjdGlvbkJ1dHRvbkVsZW1lbnQ7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gQWN0aW9uQnV0dG9uUHJvcHM8dHlwZW9mIHVzZUFjdGlvbkJhclNwZWFrPjtcbn1cblxuZXhwb3J0IGNvbnN0IEFjdGlvbkJhclByaW1pdGl2ZVNwZWFrID0gY3JlYXRlQWN0aW9uQnV0dG9uKFxuICBcIkFjdGlvbkJhclByaW1pdGl2ZS5TcGVha1wiLFxuICB1c2VBY3Rpb25CYXJTcGVhayxcbik7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgZm9yd2FyZFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQWN0aW9uQmFyU3RvcFNwZWFraW5nIH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9hY3Rpb25CYXIvdXNlQWN0aW9uQmFyU3RvcFNwZWFraW5nXCI7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Qcm9wcyB9IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IHVzZUVzY2FwZUtleWRvd24gfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1lc2NhcGUta2V5ZG93blwiO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYEFjdGlvbkJhclByaW1pdGl2ZS5TdG9wU3BlYWtpbmcuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgQWN0aW9uQmFyUHJpbWl0aXZlU3RvcFNwZWFraW5nUHJvcHMgPVxuICBBY3Rpb25CYXJQcmltaXRpdmVTdG9wU3BlYWtpbmcuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQWN0aW9uQmFyUHJpbWl0aXZlU3RvcFNwZWFraW5nIHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEhUTUxCdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPHR5cGVvZiB1c2VBY3Rpb25CYXJTdG9wU3BlYWtpbmc+O1xufVxuXG5leHBvcnQgY29uc3QgQWN0aW9uQmFyUHJpbWl0aXZlU3RvcFNwZWFraW5nID0gZm9yd2FyZFJlZjxcbiAgQWN0aW9uQmFyUHJpbWl0aXZlU3RvcFNwZWFraW5nLkVsZW1lbnQsXG4gIEFjdGlvbkJhclByaW1pdGl2ZVN0b3BTcGVha2luZy5Qcm9wc1xuPigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCBjYWxsYmFjayA9IHVzZUFjdGlvbkJhclN0b3BTcGVha2luZygpO1xuXG4gIC8vIFRPRE8gdGhpcyBzdG9wcyB3b3JraW5nIGlmIHRoZSB1c2VyIGlzIG5vdCBob3ZlcmluZyBvdmVyIGFuIG9sZGVyIG1lc3NhZ2VcbiAgdXNlRXNjYXBlS2V5ZG93bigoZSkgPT4ge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPFByaW1pdGl2ZS5idXR0b25cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgZGlzYWJsZWQ9eyFjYWxsYmFja31cbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIHJlZj17cmVmfVxuICAgICAgb25DbGljaz17Y29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25DbGljaywgKCkgPT4ge1xuICAgICAgICBjYWxsYmFjaz8uKCk7XG4gICAgICB9KX1cbiAgICAvPlxuICApO1xufSk7XG5cbkFjdGlvbkJhclByaW1pdGl2ZVN0b3BTcGVha2luZy5kaXNwbGF5TmFtZSA9IFwiQWN0aW9uQmFyUHJpbWl0aXZlLlN0b3BTcGVha2luZ1wiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IGZvcndhcmRSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUFjdGlvbkJhckZlZWRiYWNrUG9zaXRpdmUgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJGZWVkYmFja1Bvc2l0aXZlXCI7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Qcm9wcyB9IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcbmltcG9ydCB7IHVzZU1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYEFjdGlvbkJhclByaW1pdGl2ZS5GZWVkYmFja1Bvc2l0aXZlLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIEFjdGlvbkJhclByaW1pdGl2ZUZlZWRiYWNrUG9zaXRpdmVQcm9wcyA9XG4gIEFjdGlvbkJhclByaW1pdGl2ZUZlZWRiYWNrUG9zaXRpdmUuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQWN0aW9uQmFyUHJpbWl0aXZlRmVlZGJhY2tQb3NpdGl2ZSB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBBY3Rpb25CdXR0b25Qcm9wczx0eXBlb2YgdXNlQWN0aW9uQmFyRmVlZGJhY2tQb3NpdGl2ZT47XG59XG5cbmV4cG9ydCBjb25zdCBBY3Rpb25CYXJQcmltaXRpdmVGZWVkYmFja1Bvc2l0aXZlID0gZm9yd2FyZFJlZjxcbiAgQWN0aW9uQmFyUHJpbWl0aXZlRmVlZGJhY2tQb3NpdGl2ZS5FbGVtZW50LFxuICBBY3Rpb25CYXJQcmltaXRpdmVGZWVkYmFja1Bvc2l0aXZlLlByb3BzXG4+KCh7IG9uQ2xpY2ssIGRpc2FibGVkLCAuLi5wcm9wcyB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgaXNTdWJtaXR0ZWQgPSB1c2VNZXNzYWdlKFxuICAgICh1KSA9PiB1LnN1Ym1pdHRlZEZlZWRiYWNrPy50eXBlID09PSBcInBvc2l0aXZlXCIsXG4gICk7XG4gIGNvbnN0IGNhbGxiYWNrID0gdXNlQWN0aW9uQmFyRmVlZGJhY2tQb3NpdGl2ZSgpO1xuICByZXR1cm4gKFxuICAgIDxQcmltaXRpdmUuYnV0dG9uXG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgIHsuLi4oaXNTdWJtaXR0ZWQgPyB7IFwiZGF0YS1zdWJtaXR0ZWRcIjogXCJ0cnVlXCIgfSA6IHt9KX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkIHx8ICFjYWxsYmFja31cbiAgICAgIG9uQ2xpY2s9e2NvbXBvc2VFdmVudEhhbmRsZXJzKG9uQ2xpY2ssICgpID0+IHtcbiAgICAgICAgY2FsbGJhY2s/LigpO1xuICAgICAgfSl9XG4gICAgLz5cbiAgKTtcbn0pO1xuXG5BY3Rpb25CYXJQcmltaXRpdmVGZWVkYmFja1Bvc2l0aXZlLmRpc3BsYXlOYW1lID1cbiAgXCJBY3Rpb25CYXJQcmltaXRpdmUuRmVlZGJhY2tQb3NpdGl2ZVwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IGZvcndhcmRSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUFjdGlvbkJhckZlZWRiYWNrTmVnYXRpdmUgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2FjdGlvbkJhci91c2VBY3Rpb25CYXJGZWVkYmFja05lZ2F0aXZlXCI7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Qcm9wcyB9IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcbmltcG9ydCB7IHVzZU1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYEFjdGlvbkJhclByaW1pdGl2ZS5GZWVkYmFja05lZ2F0aXZlLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIEFjdGlvbkJhclByaW1pdGl2ZUZlZWRiYWNrTmVnYXRpdmVQcm9wcyA9XG4gIEFjdGlvbkJhclByaW1pdGl2ZUZlZWRiYWNrTmVnYXRpdmUuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQWN0aW9uQmFyUHJpbWl0aXZlRmVlZGJhY2tOZWdhdGl2ZSB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBBY3Rpb25CdXR0b25Qcm9wczx0eXBlb2YgdXNlQWN0aW9uQmFyRmVlZGJhY2tOZWdhdGl2ZT47XG59XG5cbmV4cG9ydCBjb25zdCBBY3Rpb25CYXJQcmltaXRpdmVGZWVkYmFja05lZ2F0aXZlID0gZm9yd2FyZFJlZjxcbiAgQWN0aW9uQmFyUHJpbWl0aXZlRmVlZGJhY2tOZWdhdGl2ZS5FbGVtZW50LFxuICBBY3Rpb25CYXJQcmltaXRpdmVGZWVkYmFja05lZ2F0aXZlLlByb3BzXG4+KCh7IG9uQ2xpY2ssIGRpc2FibGVkLCAuLi5wcm9wcyB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgaXNTdWJtaXR0ZWQgPSB1c2VNZXNzYWdlKFxuICAgICh1KSA9PiB1LnN1Ym1pdHRlZEZlZWRiYWNrPy50eXBlID09PSBcIm5lZ2F0aXZlXCIsXG4gICk7XG4gIGNvbnN0IGNhbGxiYWNrID0gdXNlQWN0aW9uQmFyRmVlZGJhY2tOZWdhdGl2ZSgpO1xuICByZXR1cm4gKFxuICAgIDxQcmltaXRpdmUuYnV0dG9uXG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgIHsuLi4oaXNTdWJtaXR0ZWQgPyB7IFwiZGF0YS1zdWJtaXR0ZWRcIjogXCJ0cnVlXCIgfSA6IHt9KX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkIHx8ICFjYWxsYmFja31cbiAgICAgIG9uQ2xpY2s9e2NvbXBvc2VFdmVudEhhbmRsZXJzKG9uQ2xpY2ssICgpID0+IHtcbiAgICAgICAgY2FsbGJhY2s/LigpO1xuICAgICAgfSl9XG4gICAgLz5cbiAgKTtcbn0pO1xuXG5BY3Rpb25CYXJQcmltaXRpdmVGZWVkYmFja05lZ2F0aXZlLmRpc3BsYXlOYW1lID1cbiAgXCJBY3Rpb25CYXJQcmltaXRpdmUuRmVlZGJhY2tOZWdhdGl2ZVwiO1xuIiwiZXhwb3J0IHsgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVSb290IGFzIFJvb3QgfSBmcm9tIFwiLi9Bc3Npc3RhbnRNb2RhbFJvb3RcIjtcbmV4cG9ydCB7IEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlVHJpZ2dlciBhcyBUcmlnZ2VyIH0gZnJvbSBcIi4vQXNzaXN0YW50TW9kYWxUcmlnZ2VyXCI7XG5leHBvcnQgeyBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUNvbnRlbnQgYXMgQ29udGVudCB9IGZyb20gXCIuL0Fzc2lzdGFudE1vZGFsQ29udGVudFwiO1xuZXhwb3J0IHsgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVBbmNob3IgYXMgQW5jaG9yIH0gZnJvbSBcIi4vQXNzaXN0YW50TW9kYWxBbmNob3JcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBGQywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUG9wb3ZlclByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXJcIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcbmltcG9ydCB7IFNjb3BlZFByb3BzLCB1c2VQb3BvdmVyU2NvcGUgfSBmcm9tIFwiLi9zY29wZVwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkUnVudGltZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0XCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZS5Sb290LlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlUm9vdFByb3BzID1cbiAgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVSb290LlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlUm9vdCB7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gUG9wb3ZlclByaW1pdGl2ZS5Qb3BvdmVyUHJvcHMgJiB7XG4gICAgdW5zdGFibGVfb3Blbk9uUnVuU3RhcnQ/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICB9O1xufVxuXG5jb25zdCB1c2VBc3Npc3RhbnRNb2RhbE9wZW5TdGF0ZSA9ICh7XG4gIGRlZmF1bHRPcGVuID0gZmFsc2UsXG4gIHVuc3RhYmxlX29wZW5PblJ1blN0YXJ0ID0gdHJ1ZSxcbn06IHtcbiAgZGVmYXVsdE9wZW4/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICB1bnN0YWJsZV9vcGVuT25SdW5TdGFydD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59KSA9PiB7XG4gIGNvbnN0IHN0YXRlID0gdXNlU3RhdGUoZGVmYXVsdE9wZW4pO1xuXG4gIGNvbnN0IFssIHNldE9wZW5dID0gc3RhdGU7XG4gIGNvbnN0IHRocmVhZFJ1bnRpbWUgPSB1c2VUaHJlYWRSdW50aW1lKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF1bnN0YWJsZV9vcGVuT25SdW5TdGFydCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIHJldHVybiB0aHJlYWRSdW50aW1lLnVuc3RhYmxlX29uKFwicnVuLXN0YXJ0XCIsICgpID0+IHtcbiAgICAgIHNldE9wZW4odHJ1ZSk7XG4gICAgfSk7XG4gIH0sIFt1bnN0YWJsZV9vcGVuT25SdW5TdGFydF0pO1xuXG4gIHJldHVybiBzdGF0ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVJvb3Q6IEZDPFxuICBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVJvb3QuUHJvcHNcbj4gPSAoe1xuICBfX3Njb3BlQXNzaXN0YW50TW9kYWwsXG4gIGRlZmF1bHRPcGVuLFxuICB1bnN0YWJsZV9vcGVuT25SdW5TdGFydCxcbiAgb3BlbixcbiAgb25PcGVuQ2hhbmdlLFxuICAuLi5yZXN0XG59OiBTY29wZWRQcm9wczxBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVJvb3QuUHJvcHM+KSA9PiB7XG4gIGNvbnN0IHNjb3BlID0gdXNlUG9wb3ZlclNjb3BlKF9fc2NvcGVBc3Npc3RhbnRNb2RhbCk7XG5cbiAgY29uc3QgW21vZGFsT3Blbiwgc2V0T3Blbl0gPSB1c2VBc3Npc3RhbnRNb2RhbE9wZW5TdGF0ZSh7XG4gICAgZGVmYXVsdE9wZW4sXG4gICAgdW5zdGFibGVfb3Blbk9uUnVuU3RhcnQsXG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPFBvcG92ZXJQcmltaXRpdmUuUm9vdFxuICAgICAgey4uLnNjb3BlfVxuICAgICAgb3Blbj17b3BlbiA9PT0gdW5kZWZpbmVkID8gbW9kYWxPcGVuIDogb3Blbn1cbiAgICAgIG9uT3BlbkNoYW5nZT17Y29tcG9zZUV2ZW50SGFuZGxlcnMob25PcGVuQ2hhbmdlLCBzZXRPcGVuKX1cbiAgICAgIHsuLi5yZXN0fVxuICAgIC8+XG4gICk7XG59O1xuXG5Bc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVJvb3QuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsUHJpbWl0aXZlLlJvb3RcIjtcbiIsImltcG9ydCAqIGFzIFBvcG92ZXJQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wb3BvdmVyXCI7XG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5cbmV4cG9ydCB0eXBlIFNjb3BlZFByb3BzPFA+ID0gUCAmIHsgX19zY29wZUFzc2lzdGFudE1vZGFsPzogU2NvcGUgfTtcbmV4cG9ydCBjb25zdCB1c2VQb3BvdmVyU2NvcGUgPSBQb3BvdmVyUHJpbWl0aXZlLmNyZWF0ZVBvcG92ZXJTY29wZSgpO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IENvbXBvbmVudFByb3BzV2l0aG91dFJlZiwgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUG9wb3ZlclByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXJcIjtcbmltcG9ydCB7IFNjb3BlZFByb3BzLCB1c2VQb3BvdmVyU2NvcGUgfSBmcm9tIFwiLi9zY29wZVwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgQXNzaXN0YW50TW9kYWxQcmltaXRpdmUuVHJpZ2dlci5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVRyaWdnZXJQcm9wcyA9XG4gIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlVHJpZ2dlci5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVRyaWdnZXIge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUG9wb3ZlclByaW1pdGl2ZS5UcmlnZ2VyPjtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFBvcG92ZXJQcmltaXRpdmUuVHJpZ2dlcj47XG59XG5cbmV4cG9ydCBjb25zdCBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVRyaWdnZXIgPSBmb3J3YXJkUmVmPFxuICBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVRyaWdnZXIuRWxlbWVudCxcbiAgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVUcmlnZ2VyLlByb3BzXG4+KFxuICAoXG4gICAge1xuICAgICAgX19zY29wZUFzc2lzdGFudE1vZGFsLFxuICAgICAgLi4ucmVzdFxuICAgIH06IFNjb3BlZFByb3BzPEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlVHJpZ2dlci5Qcm9wcz4sXG4gICAgcmVmLFxuICApID0+IHtcbiAgICBjb25zdCBzY29wZSA9IHVzZVBvcG92ZXJTY29wZShfX3Njb3BlQXNzaXN0YW50TW9kYWwpO1xuXG4gICAgcmV0dXJuIDxQb3BvdmVyUHJpbWl0aXZlLlRyaWdnZXIgey4uLnNjb3BlfSB7Li4ucmVzdH0gcmVmPXtyZWZ9IC8+O1xuICB9LFxuKTtcblxuQXNzaXN0YW50TW9kYWxQcmltaXRpdmVUcmlnZ2VyLmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZS5UcmlnZ2VyXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBFbGVtZW50UmVmLCBmb3J3YXJkUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBQb3BvdmVyUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wb3ZlclwiO1xuaW1wb3J0IHsgU2NvcGVkUHJvcHMsIHVzZVBvcG92ZXJTY29wZSB9IGZyb20gXCIuL3Njb3BlXCI7XG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZS5Db250ZW50LlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudFByb3BzID1cbiAgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVDb250ZW50LlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQb3BvdmVyUHJpbWl0aXZlLkNvbnRlbnQ+O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IENvbXBvbmVudFByb3BzV2l0aG91dFJlZjxcbiAgICB0eXBlb2YgUG9wb3ZlclByaW1pdGl2ZS5Db250ZW50XG4gID4gJiB7XG4gICAgZGlzc21pc3NPbkludGVyYWN0T3V0c2lkZT86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUNvbnRlbnQgPSBmb3J3YXJkUmVmPFxuICBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUNvbnRlbnQuRWxlbWVudCxcbiAgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVDb250ZW50LlByb3BzXG4+KFxuICAoXG4gICAge1xuICAgICAgX19zY29wZUFzc2lzdGFudE1vZGFsLFxuICAgICAgc2lkZSxcbiAgICAgIGFsaWduLFxuICAgICAgb25JbnRlcmFjdE91dHNpZGUsXG4gICAgICBkaXNzbWlzc09uSW50ZXJhY3RPdXRzaWRlID0gZmFsc2UsXG4gICAgICAuLi5wcm9wc1xuICAgIH06IFNjb3BlZFByb3BzPEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlQ29udGVudFByb3BzPixcbiAgICBmb3J3YXJkZWRSZWYsXG4gICkgPT4ge1xuICAgIGNvbnN0IHNjb3BlID0gdXNlUG9wb3ZlclNjb3BlKF9fc2NvcGVBc3Npc3RhbnRNb2RhbCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFBvcG92ZXJQcmltaXRpdmUuUG9ydGFsIHsuLi5zY29wZX0+XG4gICAgICAgIDxQb3BvdmVyUHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgICAgICB7Li4uc2NvcGV9XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgICAgIHNpZGU9e3NpZGUgPz8gXCJ0b3BcIn1cbiAgICAgICAgICBhbGlnbj17YWxpZ24gPz8gXCJlbmRcIn1cbiAgICAgICAgICBvbkludGVyYWN0T3V0c2lkZT17Y29tcG9zZUV2ZW50SGFuZGxlcnMoXG4gICAgICAgICAgICBvbkludGVyYWN0T3V0c2lkZSxcbiAgICAgICAgICAgIGRpc3NtaXNzT25JbnRlcmFjdE91dHNpZGUgPyB1bmRlZmluZWQgOiAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICAgICAgICAgICl9XG4gICAgICAgIC8+XG4gICAgICA8L1BvcG92ZXJQcmltaXRpdmUuUG9ydGFsPlxuICAgICk7XG4gIH0sXG4pO1xuXG5Bc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUNvbnRlbnQuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsUHJpbWl0aXZlLkNvbnRlbnRcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBFbGVtZW50UmVmLCBmb3J3YXJkUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBQb3BvdmVyUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wb3ZlclwiO1xuaW1wb3J0IHsgU2NvcGVkUHJvcHMsIHVzZVBvcG92ZXJTY29wZSB9IGZyb20gXCIuL3Njb3BlXCI7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVBbmNob3Ige1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUG9wb3ZlclByaW1pdGl2ZS5BbmNob3I+O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IENvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUG9wb3ZlclByaW1pdGl2ZS5BbmNob3I+O1xufVxuXG5leHBvcnQgY29uc3QgQXNzaXN0YW50TW9kYWxQcmltaXRpdmVBbmNob3IgPSBmb3J3YXJkUmVmPFxuICBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvci5FbGVtZW50LFxuICBBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvci5Qcm9wc1xuPihcbiAgKFxuICAgIHtcbiAgICAgIF9fc2NvcGVBc3Npc3RhbnRNb2RhbCxcbiAgICAgIC4uLnJlc3RcbiAgICB9OiBTY29wZWRQcm9wczxBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvci5Qcm9wcz4sXG4gICAgcmVmLFxuICApID0+IHtcbiAgICBjb25zdCBzY29wZSA9IHVzZVBvcG92ZXJTY29wZShfX3Njb3BlQXNzaXN0YW50TW9kYWwpO1xuXG4gICAgcmV0dXJuIDxQb3BvdmVyUHJpbWl0aXZlLkFuY2hvciB7Li4uc2NvcGV9IHsuLi5yZXN0fSByZWY9e3JlZn0gLz47XG4gIH0sXG4pO1xuQXNzaXN0YW50TW9kYWxQcmltaXRpdmVBbmNob3IuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsUHJpbWl0aXZlLkFuY2hvclwiO1xuIiwiZXhwb3J0IHsgQXR0YWNobWVudFByaW1pdGl2ZVJvb3QgYXMgUm9vdCB9IGZyb20gXCIuL0F0dGFjaG1lbnRSb290XCI7XG5leHBvcnQgeyBBdHRhY2htZW50UHJpbWl0aXZlVGh1bWIgYXMgdW5zdGFibGVfVGh1bWIgfSBmcm9tIFwiLi9BdHRhY2htZW50VGh1bWJcIjtcbmV4cG9ydCB7IEF0dGFjaG1lbnRQcmltaXRpdmVOYW1lIGFzIE5hbWUgfSBmcm9tIFwiLi9BdHRhY2htZW50TmFtZVwiO1xuZXhwb3J0IHsgQXR0YWNobWVudFByaW1pdGl2ZVJlbW92ZSBhcyBSZW1vdmUgfSBmcm9tIFwiLi9BdHRhY2htZW50UmVtb3ZlXCI7XG4iLCJpbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBFbGVtZW50UmVmLCBmb3J3YXJkUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5cbnR5cGUgUHJpbWl0aXZlRGl2UHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuXG5leHBvcnQgbmFtZXNwYWNlIEF0dGFjaG1lbnRQcmltaXRpdmVSb290IHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFByaW1pdGl2ZURpdlByb3BzO1xufVxuXG5leHBvcnQgY29uc3QgQXR0YWNobWVudFByaW1pdGl2ZVJvb3QgPSBmb3J3YXJkUmVmPFxuICBBdHRhY2htZW50UHJpbWl0aXZlUm9vdC5FbGVtZW50LFxuICBBdHRhY2htZW50UHJpbWl0aXZlUm9vdC5Qcm9wc1xuPigocHJvcHMsIHJlZikgPT4ge1xuICByZXR1cm4gPFByaW1pdGl2ZS5kaXYgey4uLnByb3BzfSByZWY9e3JlZn0gLz47XG59KTtcblxuQXR0YWNobWVudFByaW1pdGl2ZVJvb3QuZGlzcGxheU5hbWUgPSBcIkF0dGFjaG1lbnRQcmltaXRpdmUuUm9vdFwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IENvbXBvbmVudFByb3BzV2l0aG91dFJlZiwgZm9yd2FyZFJlZiwgdHlwZSBFbGVtZW50UmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VBdHRhY2htZW50IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvQXR0YWNobWVudENvbnRleHRcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5cbnR5cGUgUHJpbWl0aXZlRGl2UHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xuXG5leHBvcnQgbmFtZXNwYWNlIEF0dGFjaG1lbnRQcmltaXRpdmVUaHVtYiB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQcmltaXRpdmVEaXZQcm9wcztcbn1cblxuZXhwb3J0IGNvbnN0IEF0dGFjaG1lbnRQcmltaXRpdmVUaHVtYiA9IGZvcndhcmRSZWY8XG4gIEF0dGFjaG1lbnRQcmltaXRpdmVUaHVtYi5FbGVtZW50LFxuICBBdHRhY2htZW50UHJpbWl0aXZlVGh1bWIuUHJvcHNcbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3QgZXh0ID0gdXNlQXR0YWNobWVudCgoYSkgPT4gYS5uYW1lLnNwbGl0KFwiLlwiKS5wb3AoKSk7XG4gIHJldHVybiAoXG4gICAgPFByaW1pdGl2ZS5kaXYgey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAue2V4dH1cbiAgICA8L1ByaW1pdGl2ZS5kaXY+XG4gICk7XG59KTtcblxuQXR0YWNobWVudFByaW1pdGl2ZVRodW1iLmRpc3BsYXlOYW1lID0gXCJBdHRhY2htZW50UHJpbWl0aXZlLlRodW1iXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0U3RvcmVIb29rIH0gZnJvbSBcIi4vdXRpbHMvY3JlYXRlQ29udGV4dFN0b3JlSG9va1wiO1xuaW1wb3J0IHtcbiAgQXR0YWNobWVudFJ1bnRpbWUsXG4gIEF0dGFjaG1lbnRTdGF0ZSxcbn0gZnJvbSBcIi4uLy4uL2FwaS9BdHRhY2htZW50UnVudGltZVwiO1xuaW1wb3J0IHsgVXNlQm91bmRTdG9yZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5cbmV4cG9ydCB0eXBlIEF0dGFjaG1lbnRDb250ZXh0VmFsdWUgPSB7XG4gIHNvdXJjZTogXCJ0aHJlYWQtY29tcG9zZXJcIiB8IFwiZWRpdC1jb21wb3NlclwiIHwgXCJtZXNzYWdlXCI7XG4gIHVzZUF0dGFjaG1lbnQ6IFVzZUJvdW5kU3RvcmU8UmVhZG9ubHlTdG9yZTxBdHRhY2htZW50U3RhdGU+PjtcbiAgdXNlQXR0YWNobWVudFJ1bnRpbWU6IFVzZUJvdW5kU3RvcmU8UmVhZG9ubHlTdG9yZTxBdHRhY2htZW50UnVudGltZT4+O1xufTtcblxudHlwZSBUaHJlYWRDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0VmFsdWUgPSB7XG4gIHNvdXJjZTogXCJ0aHJlYWQtY29tcG9zZXJcIjtcbiAgdXNlQXR0YWNobWVudDogVXNlQm91bmRTdG9yZTxcbiAgICBSZWFkb25seVN0b3JlPEF0dGFjaG1lbnRTdGF0ZSAmIHsgc291cmNlOiBcInRocmVhZC1jb21wb3NlclwiIH0+XG4gID47XG4gIHVzZUF0dGFjaG1lbnRSdW50aW1lOiBVc2VCb3VuZFN0b3JlPFxuICAgIFJlYWRvbmx5U3RvcmU8QXR0YWNobWVudFJ1bnRpbWUgJiB7IHR5cGU6IFwidGhyZWFkLWNvbXBvc2VyXCIgfT5cbiAgPjtcbn07XG50eXBlIEVkaXRDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0VmFsdWUgPSB7XG4gIHNvdXJjZTogXCJlZGl0LWNvbXBvc2VyXCI7XG4gIHVzZUF0dGFjaG1lbnQ6IFVzZUJvdW5kU3RvcmU8XG4gICAgUmVhZG9ubHlTdG9yZTxBdHRhY2htZW50U3RhdGUgJiB7IHNvdXJjZTogXCJlZGl0LWNvbXBvc2VyXCIgfT5cbiAgPjtcbiAgdXNlQXR0YWNobWVudFJ1bnRpbWU6IFVzZUJvdW5kU3RvcmU8XG4gICAgUmVhZG9ubHlTdG9yZTxBdHRhY2htZW50UnVudGltZSAmIHsgdHlwZTogXCJlZGl0LWNvbXBvc2VyXCIgfT5cbiAgPjtcbn07XG5cbnR5cGUgTWVzc2FnZUF0dGFjaG1lbnRDb250ZXh0VmFsdWUgPSB7XG4gIHNvdXJjZTogXCJtZXNzYWdlXCI7XG4gIHVzZUF0dGFjaG1lbnQ6IFVzZUJvdW5kU3RvcmU8XG4gICAgUmVhZG9ubHlTdG9yZTxBdHRhY2htZW50U3RhdGUgJiB7IHNvdXJjZTogXCJtZXNzYWdlXCIgfT5cbiAgPjtcbiAgdXNlQXR0YWNobWVudFJ1bnRpbWU6IFVzZUJvdW5kU3RvcmU8XG4gICAgUmVhZG9ubHlTdG9yZTxBdHRhY2htZW50UnVudGltZSAmIHsgdHlwZTogXCJtZXNzYWdlXCIgfT5cbiAgPjtcbn07XG5cbmV4cG9ydCBjb25zdCBBdHRhY2htZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QXR0YWNobWVudENvbnRleHRWYWx1ZSB8IG51bGw+KFxuICBudWxsLFxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF0dGFjaG1lbnRDb250ZXh0KG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogZmFsc2UgfCB1bmRlZmluZWQ7XG59KTogQXR0YWNobWVudENvbnRleHRWYWx1ZTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VBdHRhY2htZW50Q29udGV4dChvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59KTogQXR0YWNobWVudENvbnRleHRWYWx1ZSB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gdXNlQXR0YWNobWVudENvbnRleHQob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdHRhY2htZW50Q29udGV4dCk7XG4gIGlmICghb3B0aW9ucz8ub3B0aW9uYWwgJiYgIWNvbnRleHQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGlzIGNvbXBvbmVudCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQ29tcG9zZXJQcmltaXRpdmUuQXR0YWNobWVudHMgb3IgTWVzc2FnZVByaW1pdGl2ZS5BdHRhY2htZW50cyBjb21wb25lbnQuXCIsXG4gICAgKTtcblxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZnVuY3Rpb24gdXNlVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50Q29udGV4dChvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGZhbHNlIHwgdW5kZWZpbmVkO1xufSk6IFRocmVhZENvbXBvc2VyQXR0YWNobWVudENvbnRleHRWYWx1ZTtcbmZ1bmN0aW9uIHVzZVRocmVhZENvbXBvc2VyQXR0YWNobWVudENvbnRleHQob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IFRocmVhZENvbXBvc2VyQXR0YWNobWVudENvbnRleHRWYWx1ZSB8IG51bGw7XG5mdW5jdGlvbiB1c2VUaHJlYWRDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0KG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn0pOiBUaHJlYWRDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0VmFsdWUgfCBudWxsIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUF0dGFjaG1lbnRDb250ZXh0KG9wdGlvbnMpO1xuICBpZiAoIWNvbnRleHQpIHJldHVybiBudWxsO1xuICBpZiAoY29udGV4dC5zb3VyY2UgIT09IFwidGhyZWFkLWNvbXBvc2VyXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGlzIGNvbXBvbmVudCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgdGhyZWFkJ3MgQ29tcG9zZXJQcmltaXRpdmUuQXR0YWNobWVudHMgY29tcG9uZW50LlwiLFxuICAgICk7XG4gIHJldHVybiBjb250ZXh0IGFzIFRocmVhZENvbXBvc2VyQXR0YWNobWVudENvbnRleHRWYWx1ZTtcbn1cblxuZnVuY3Rpb24gdXNlRWRpdENvbXBvc2VyQXR0YWNobWVudENvbnRleHQob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBmYWxzZSB8IHVuZGVmaW5lZDtcbn0pOiBFZGl0Q29tcG9zZXJBdHRhY2htZW50Q29udGV4dFZhbHVlO1xuZnVuY3Rpb24gdXNlRWRpdENvbXBvc2VyQXR0YWNobWVudENvbnRleHQob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IEVkaXRDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0VmFsdWUgfCBudWxsO1xuZnVuY3Rpb24gdXNlRWRpdENvbXBvc2VyQXR0YWNobWVudENvbnRleHQob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IEVkaXRDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0VmFsdWUgfCBudWxsIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUF0dGFjaG1lbnRDb250ZXh0KG9wdGlvbnMpO1xuICBpZiAoIWNvbnRleHQpIHJldHVybiBudWxsO1xuICBpZiAoY29udGV4dC5zb3VyY2UgIT09IFwiZWRpdC1jb21wb3NlclwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhpcyBjb21wb25lbnQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIG1lc3NhZ2VzJ3MgQ29tcG9zZXJQcmltaXRpdmUuQXR0YWNobWVudHMgY29tcG9uZW50LlwiLFxuICAgICk7XG4gIHJldHVybiBjb250ZXh0IGFzIEVkaXRDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0VmFsdWU7XG59XG5cbmZ1bmN0aW9uIHVzZU1lc3NhZ2VBdHRhY2htZW50Q29udGV4dChvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGZhbHNlIHwgdW5kZWZpbmVkO1xufSk6IE1lc3NhZ2VBdHRhY2htZW50Q29udGV4dFZhbHVlO1xuZnVuY3Rpb24gdXNlTWVzc2FnZUF0dGFjaG1lbnRDb250ZXh0KG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn0pOiBNZXNzYWdlQXR0YWNobWVudENvbnRleHRWYWx1ZSB8IG51bGw7XG5mdW5jdGlvbiB1c2VNZXNzYWdlQXR0YWNobWVudENvbnRleHQob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IE1lc3NhZ2VBdHRhY2htZW50Q29udGV4dFZhbHVlIHwgbnVsbCB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VBdHRhY2htZW50Q29udGV4dChvcHRpb25zKTtcbiAgaWYgKCFjb250ZXh0KSByZXR1cm4gbnVsbDtcbiAgaWYgKGNvbnRleHQuc291cmNlICE9PSBcIm1lc3NhZ2VcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRoaXMgY29tcG9uZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBNZXNzYWdlUHJpbWl0aXZlLkF0dGFjaG1lbnRzIGNvbXBvbmVudC5cIixcbiAgICApO1xuICByZXR1cm4gY29udGV4dCBhcyBNZXNzYWdlQXR0YWNobWVudENvbnRleHRWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF0dGFjaG1lbnRSdW50aW1lKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogZmFsc2UgfCB1bmRlZmluZWQ7XG59KTogQXR0YWNobWVudFJ1bnRpbWU7XG5leHBvcnQgZnVuY3Rpb24gdXNlQXR0YWNobWVudFJ1bnRpbWUob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IEF0dGFjaG1lbnRSdW50aW1lIHwgbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiB1c2VBdHRhY2htZW50UnVudGltZShvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59KTogQXR0YWNobWVudFJ1bnRpbWUgfCBudWxsIHtcbiAgY29uc3QgYXR0YWNobWVudFJ1bnRpbWUgPSB1c2VBdHRhY2htZW50Q29udGV4dChvcHRpb25zKTtcbiAgaWYgKCFhdHRhY2htZW50UnVudGltZSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBhdHRhY2htZW50UnVudGltZS51c2VBdHRhY2htZW50UnVudGltZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50UnVudGltZShvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGZhbHNlIHwgdW5kZWZpbmVkO1xufSk6IEF0dGFjaG1lbnRSdW50aW1lO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVRocmVhZENvbXBvc2VyQXR0YWNobWVudFJ1bnRpbWUob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IEF0dGFjaG1lbnRSdW50aW1lIHwgbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiB1c2VUaHJlYWRDb21wb3NlckF0dGFjaG1lbnRSdW50aW1lKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn0pOiBBdHRhY2htZW50UnVudGltZSB8IG51bGwge1xuICBjb25zdCBhdHRhY2htZW50UnVudGltZSA9IHVzZVRocmVhZENvbXBvc2VyQXR0YWNobWVudENvbnRleHQob3B0aW9ucyk7XG4gIGlmICghYXR0YWNobWVudFJ1bnRpbWUpIHJldHVybiBudWxsO1xuICByZXR1cm4gYXR0YWNobWVudFJ1bnRpbWUudXNlQXR0YWNobWVudFJ1bnRpbWUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUVkaXRDb21wb3NlckF0dGFjaG1lbnRSdW50aW1lKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogZmFsc2UgfCB1bmRlZmluZWQ7XG59KTogQXR0YWNobWVudFJ1bnRpbWU7XG5leHBvcnQgZnVuY3Rpb24gdXNlRWRpdENvbXBvc2VyQXR0YWNobWVudFJ1bnRpbWUob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IEF0dGFjaG1lbnRSdW50aW1lIHwgbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiB1c2VFZGl0Q29tcG9zZXJBdHRhY2htZW50UnVudGltZShvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59KTogQXR0YWNobWVudFJ1bnRpbWUgfCBudWxsIHtcbiAgY29uc3QgYXR0YWNobWVudFJ1bnRpbWUgPSB1c2VFZGl0Q29tcG9zZXJBdHRhY2htZW50Q29udGV4dChvcHRpb25zKTtcbiAgaWYgKCFhdHRhY2htZW50UnVudGltZSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBhdHRhY2htZW50UnVudGltZS51c2VBdHRhY2htZW50UnVudGltZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWVzc2FnZUF0dGFjaG1lbnRSdW50aW1lKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogZmFsc2UgfCB1bmRlZmluZWQ7XG59KTogQXR0YWNobWVudFJ1bnRpbWU7XG5leHBvcnQgZnVuY3Rpb24gdXNlTWVzc2FnZUF0dGFjaG1lbnRSdW50aW1lKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn0pOiBBdHRhY2htZW50UnVudGltZSB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gdXNlTWVzc2FnZUF0dGFjaG1lbnRSdW50aW1lKG9wdGlvbnM/OiB7XG4gIG9wdGlvbmFsPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn0pOiBBdHRhY2htZW50UnVudGltZSB8IG51bGwge1xuICBjb25zdCBhdHRhY2htZW50UnVudGltZSA9IHVzZU1lc3NhZ2VBdHRhY2htZW50Q29udGV4dChvcHRpb25zKTtcbiAgaWYgKCFhdHRhY2htZW50UnVudGltZSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBhdHRhY2htZW50UnVudGltZS51c2VBdHRhY2htZW50UnVudGltZSgpO1xufVxuXG5leHBvcnQgY29uc3QgeyB1c2VBdHRhY2htZW50IH0gPSBjcmVhdGVDb250ZXh0U3RvcmVIb29rKFxuICB1c2VBdHRhY2htZW50Q29udGV4dCxcbiAgXCJ1c2VBdHRhY2htZW50XCIsXG4pO1xuXG5leHBvcnQgY29uc3QgeyB1c2VBdHRhY2htZW50OiB1c2VUaHJlYWRDb21wb3NlckF0dGFjaG1lbnQgfSA9XG4gIGNyZWF0ZUNvbnRleHRTdG9yZUhvb2sodXNlVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50Q29udGV4dCwgXCJ1c2VBdHRhY2htZW50XCIpO1xuXG5leHBvcnQgY29uc3QgeyB1c2VBdHRhY2htZW50OiB1c2VFZGl0Q29tcG9zZXJBdHRhY2htZW50IH0gPVxuICBjcmVhdGVDb250ZXh0U3RvcmVIb29rKHVzZUVkaXRDb21wb3NlckF0dGFjaG1lbnRDb250ZXh0LCBcInVzZUF0dGFjaG1lbnRcIik7XG5cbmV4cG9ydCBjb25zdCB7IHVzZUF0dGFjaG1lbnQ6IHVzZU1lc3NhZ2VBdHRhY2htZW50IH0gPSBjcmVhdGVDb250ZXh0U3RvcmVIb29rKFxuICB1c2VNZXNzYWdlQXR0YWNobWVudENvbnRleHQsXG4gIFwidXNlQXR0YWNobWVudFwiLFxuKTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VBdHRhY2htZW50IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvQXR0YWNobWVudENvbnRleHRcIjtcblxuZXhwb3J0IG5hbWVzcGFjZSBBdHRhY2htZW50UHJpbWl0aXZlTmFtZSB7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gUmVjb3JkPHN0cmluZywgbmV2ZXI+O1xufVxuXG5leHBvcnQgY29uc3QgQXR0YWNobWVudFByaW1pdGl2ZU5hbWU6IEZDPFxuICBBdHRhY2htZW50UHJpbWl0aXZlTmFtZS5Qcm9wc1xuPiA9ICgpID0+IHtcbiAgY29uc3QgbmFtZSA9IHVzZUF0dGFjaG1lbnQoKGEpID0+IGEubmFtZSk7XG4gIHJldHVybiA8PntuYW1lfTwvPjtcbn07XG5cbkF0dGFjaG1lbnRQcmltaXRpdmVOYW1lLmRpc3BsYXlOYW1lID0gXCJBdHRhY2htZW50UHJpbWl0aXZlLk5hbWVcIjtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VBdHRhY2htZW50UnVudGltZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L0F0dGFjaG1lbnRDb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VBdHRhY2htZW50UmVtb3ZlID0gKCkgPT4ge1xuICBjb25zdCBhdHRhY2htZW50UnVudGltZSA9IHVzZUF0dGFjaG1lbnRSdW50aW1lKCk7XG5cbiAgY29uc3QgaGFuZGxlUmVtb3ZlQXR0YWNobWVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBhdHRhY2htZW50UnVudGltZS5yZW1vdmUoKTtcbiAgfSwgW2F0dGFjaG1lbnRSdW50aW1lXSk7XG5cbiAgcmV0dXJuIGhhbmRsZVJlbW92ZUF0dGFjaG1lbnQ7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUF0dGFjaG1lbnRSZW1vdmUgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2F0dGFjaG1lbnQvdXNlQXR0YWNobWVudFJlbW92ZVwiO1xuaW1wb3J0IHtcbiAgQWN0aW9uQnV0dG9uRWxlbWVudCxcbiAgQWN0aW9uQnV0dG9uUHJvcHMsXG4gIGNyZWF0ZUFjdGlvbkJ1dHRvbixcbn0gZnJvbSBcIi4uLy4uL3V0aWxzL2NyZWF0ZUFjdGlvbkJ1dHRvblwiO1xuXG5leHBvcnQgbmFtZXNwYWNlIEF0dGFjaG1lbnRQcmltaXRpdmVSZW1vdmUge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gQWN0aW9uQnV0dG9uRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBBY3Rpb25CdXR0b25Qcm9wczx0eXBlb2YgdXNlQXR0YWNobWVudFJlbW92ZT47XG59XG5cbmV4cG9ydCBjb25zdCBBdHRhY2htZW50UHJpbWl0aXZlUmVtb3ZlID0gY3JlYXRlQWN0aW9uQnV0dG9uKFxuICBcIkF0dGFjaG1lbnRQcmltaXRpdmUuUmVtb3ZlXCIsXG4gIHVzZUF0dGFjaG1lbnRSZW1vdmUsXG4pO1xuIiwiZXhwb3J0IHsgQnJhbmNoUGlja2VyUHJpbWl0aXZlTmV4dCBhcyBOZXh0IH0gZnJvbSBcIi4vQnJhbmNoUGlja2VyTmV4dFwiO1xuZXhwb3J0IHsgQnJhbmNoUGlja2VyUHJpbWl0aXZlUHJldmlvdXMgYXMgUHJldmlvdXMgfSBmcm9tIFwiLi9CcmFuY2hQaWNrZXJQcmV2aW91c1wiO1xuZXhwb3J0IHsgQnJhbmNoUGlja2VyUHJpbWl0aXZlQ291bnQgYXMgQ291bnQgfSBmcm9tIFwiLi9CcmFuY2hQaWNrZXJDb3VudFwiO1xuZXhwb3J0IHsgQnJhbmNoUGlja2VyUHJpbWl0aXZlTnVtYmVyIGFzIE51bWJlciB9IGZyb20gXCIuL0JyYW5jaFBpY2tlck51bWJlclwiO1xuZXhwb3J0IHsgQnJhbmNoUGlja2VyUHJpbWl0aXZlUm9vdCBhcyBSb290IH0gZnJvbSBcIi4vQnJhbmNoUGlja2VyUm9vdFwiO1xuIiwiXG5cInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQnJhbmNoUGlja2VyTmV4dCB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvYnJhbmNoUGlja2VyL3VzZUJyYW5jaFBpY2tlck5leHRcIjtcbmltcG9ydCB7XG4gIEFjdGlvbkJ1dHRvbkVsZW1lbnQsXG4gIEFjdGlvbkJ1dHRvblByb3BzLFxuICBjcmVhdGVBY3Rpb25CdXR0b24sXG59IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYEJyYW5jaFBpY2tlclByaW1pdGl2ZS5OZXh0LlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIEJyYW5jaFBpY2tlclByaW1pdGl2ZU5leHRQcm9wcyA9IEJyYW5jaFBpY2tlclByaW1pdGl2ZU5leHQuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQnJhbmNoUGlja2VyUHJpbWl0aXZlTmV4dCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBBY3Rpb25CdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPHR5cGVvZiB1c2VCcmFuY2hQaWNrZXJOZXh0Pjtcbn1cblxuZXhwb3J0IGNvbnN0IEJyYW5jaFBpY2tlclByaW1pdGl2ZU5leHQgPSBjcmVhdGVBY3Rpb25CdXR0b24oXG4gIFwiQnJhbmNoUGlja2VyUHJpbWl0aXZlLk5leHRcIixcbiAgdXNlQnJhbmNoUGlja2VyTmV4dCxcbik7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQnJhbmNoUGlja2VyUHJldmlvdXMgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2JyYW5jaFBpY2tlci91c2VCcmFuY2hQaWNrZXJQcmV2aW91c1wiO1xuaW1wb3J0IHtcbiAgQWN0aW9uQnV0dG9uRWxlbWVudCxcbiAgQWN0aW9uQnV0dG9uUHJvcHMsXG4gIGNyZWF0ZUFjdGlvbkJ1dHRvbixcbn0gZnJvbSBcIi4uLy4uL3V0aWxzL2NyZWF0ZUFjdGlvbkJ1dHRvblwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgQnJhbmNoUGlja2VyUHJpbWl0aXZlLlByZXZpb3VzLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIEJyYW5jaFBpY2tlclByaW1pdGl2ZVByZXZpb3VzUHJvcHMgPSBCcmFuY2hQaWNrZXJQcmltaXRpdmVQcmV2aW91cy5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBCcmFuY2hQaWNrZXJQcmltaXRpdmVQcmV2aW91cyB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBBY3Rpb25CdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPHR5cGVvZiB1c2VCcmFuY2hQaWNrZXJQcmV2aW91cz47XG59XG5cbmV4cG9ydCBjb25zdCBCcmFuY2hQaWNrZXJQcmltaXRpdmVQcmV2aW91cyA9IGNyZWF0ZUFjdGlvbkJ1dHRvbihcbiAgXCJCcmFuY2hQaWNrZXJQcmltaXRpdmUuUHJldmlvdXNcIixcbiAgdXNlQnJhbmNoUGlja2VyUHJldmlvdXNcbik7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHR5cGUgeyBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQnJhbmNoUGlja2VyQ291bnQgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2JyYW5jaFBpY2tlci91c2VCcmFuY2hQaWNrZXJDb3VudFwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgQnJhbmNoUGlja2VyUHJpbWl0aXZlLkNvdW50LlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIEJyYW5jaFBpY2tlclByaW1pdGl2ZUNvdW50UHJvcHMgPSBCcmFuY2hQaWNrZXJQcmltaXRpdmVDb3VudC5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBCcmFuY2hQaWNrZXJQcmltaXRpdmVDb3VudCB7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gUmVjb3JkPHN0cmluZywgbmV2ZXI+O1xufVxuXG5leHBvcnQgY29uc3QgQnJhbmNoUGlja2VyUHJpbWl0aXZlQ291bnQ6IEZDPFxuICBCcmFuY2hQaWNrZXJQcmltaXRpdmVDb3VudC5Qcm9wc1xuPiA9ICgpID0+IHtcbiAgY29uc3QgYnJhbmNoQ291bnQgPSB1c2VCcmFuY2hQaWNrZXJDb3VudCgpO1xuICByZXR1cm4gPD57YnJhbmNoQ291bnR9PC8+O1xufTtcblxuQnJhbmNoUGlja2VyUHJpbWl0aXZlQ291bnQuZGlzcGxheU5hbWUgPSBcIkJyYW5jaFBpY2tlclByaW1pdGl2ZS5Db3VudFwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUJyYW5jaFBpY2tlck51bWJlciB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvYnJhbmNoUGlja2VyL3VzZUJyYW5jaFBpY2tlck51bWJlclwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgQnJhbmNoUGlja2VyUHJpbWl0aXZlLk51bWJlci5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBCcmFuY2hQaWNrZXJQcmltaXRpdmVOdW1iZXJQcm9wcyA9IEJyYW5jaFBpY2tlclByaW1pdGl2ZU51bWJlci5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBCcmFuY2hQaWNrZXJQcmltaXRpdmVOdW1iZXIge1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFJlY29yZDxzdHJpbmcsIG5ldmVyPjtcbn1cblxuZXhwb3J0IGNvbnN0IEJyYW5jaFBpY2tlclByaW1pdGl2ZU51bWJlcjogRkM8XG4gIEJyYW5jaFBpY2tlclByaW1pdGl2ZU51bWJlci5Qcm9wc1xuPiA9ICgpID0+IHtcbiAgY29uc3QgYnJhbmNoTnVtYmVyID0gdXNlQnJhbmNoUGlja2VyTnVtYmVyKCk7XG4gIHJldHVybiA8PnticmFuY2hOdW1iZXJ9PC8+O1xufTtcblxuQnJhbmNoUGlja2VyUHJpbWl0aXZlTnVtYmVyLmRpc3BsYXlOYW1lID0gXCJCcmFuY2hQaWNrZXJQcmltaXRpdmUuTnVtYmVyXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IHR5cGUgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiwgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBJZiB9IGZyb20gXCIuLi9tZXNzYWdlXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBCcmFuY2hQaWNrZXJQcmltaXRpdmUuUm9vdC5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBCcmFuY2hQaWNrZXJQcmltaXRpdmVSb290UHJvcHMgPSBCcmFuY2hQaWNrZXJQcmltaXRpdmVSb290LlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIEJyYW5jaFBpY2tlclByaW1pdGl2ZVJvb3Qge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PiAmIHtcbiAgICBoaWRlV2hlblNpbmdsZUJyYW5jaD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBCcmFuY2hQaWNrZXJQcmltaXRpdmVSb290ID0gZm9yd2FyZFJlZjxcbiAgQnJhbmNoUGlja2VyUHJpbWl0aXZlUm9vdC5FbGVtZW50LFxuICBCcmFuY2hQaWNrZXJQcmltaXRpdmVSb290LlByb3BzXG4+KCh7IGhpZGVXaGVuU2luZ2xlQnJhbmNoLCAuLi5yZXN0IH0sIHJlZikgPT4ge1xuICByZXR1cm4gKFxuICAgIDxJZiBoYXNCcmFuY2hlcz17aGlkZVdoZW5TaW5nbGVCcmFuY2ggPyB0cnVlIDogdW5kZWZpbmVkfT5cbiAgICAgIDxQcmltaXRpdmUuZGl2IHsuLi5yZXN0fSByZWY9e3JlZn0gLz5cbiAgICA8L0lmPlxuICApO1xufSk7XG5cbkJyYW5jaFBpY2tlclByaW1pdGl2ZVJvb3QuZGlzcGxheU5hbWUgPSBcIkJyYW5jaFBpY2tlclByaW1pdGl2ZS5Sb290XCI7XG4iLCJleHBvcnQgeyBNZXNzYWdlUHJpbWl0aXZlUm9vdCBhcyBSb290IH0gZnJvbSBcIi4vTWVzc2FnZVJvb3RcIjtcbmV4cG9ydCB7IE1lc3NhZ2VQcmltaXRpdmVJZiBhcyBJZiB9IGZyb20gXCIuL01lc3NhZ2VJZlwiO1xuZXhwb3J0IHsgTWVzc2FnZVByaW1pdGl2ZUNvbnRlbnQgYXMgQ29udGVudCB9IGZyb20gXCIuL01lc3NhZ2VDb250ZW50XCI7XG5leHBvcnQgeyBNZXNzYWdlUHJpbWl0aXZlSW5Qcm9ncmVzcyBhcyBJblByb2dyZXNzIH0gZnJvbSBcIi4vTWVzc2FnZUluUHJvZ3Jlc3NcIjtcbmV4cG9ydCB7IE1lc3NhZ2VQcmltaXRpdmVBdHRhY2htZW50cyBhcyBBdHRhY2htZW50cyB9IGZyb20gXCIuL01lc3NhZ2VBdHRhY2htZW50c1wiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQge1xuICB0eXBlIEVsZW1lbnRSZWYsXG4gIGZvcndhcmRSZWYsXG4gIENvbXBvbmVudFByb3BzV2l0aG91dFJlZixcbiAgdXNlQ2FsbGJhY2ssXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZVV0aWxzU3RvcmUgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlTWFuYWdlZFJlZiB9IGZyb20gXCIuLi8uLi91dGlscy9ob29rcy91c2VNYW5hZ2VkUmVmXCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuXG5jb25zdCB1c2VJc0hvdmVyaW5nUmVmID0gKCkgPT4ge1xuICBjb25zdCBtZXNzYWdlVXRpbHNTdG9yZSA9IHVzZU1lc3NhZ2VVdGlsc1N0b3JlKCk7XG4gIGNvbnN0IGNhbGxiYWNrUmVmID0gdXNlQ2FsbGJhY2soXG4gICAgKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3Qgc2V0SXNIb3ZlcmluZyA9IG1lc3NhZ2VVdGlsc1N0b3JlLmdldFN0YXRlKCkuc2V0SXNIb3ZlcmluZztcblxuICAgICAgY29uc3QgaGFuZGxlTW91c2VFbnRlciA9ICgpID0+IHtcbiAgICAgICAgc2V0SXNIb3ZlcmluZyh0cnVlKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0hvdmVyaW5nKGZhbHNlKTtcbiAgICAgIH07XG5cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIGhhbmRsZU1vdXNlRW50ZXIpO1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgaGFuZGxlTW91c2VMZWF2ZSk7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIGhhbmRsZU1vdXNlRW50ZXIpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBoYW5kbGVNb3VzZUxlYXZlKTtcbiAgICAgICAgc2V0SXNIb3ZlcmluZyhmYWxzZSk7XG4gICAgICB9O1xuICAgIH0sXG4gICAgW21lc3NhZ2VVdGlsc1N0b3JlXSxcbiAgKTtcblxuICByZXR1cm4gdXNlTWFuYWdlZFJlZihjYWxsYmFja1JlZik7XG59O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgTWVzc2FnZVByaW1pdGl2ZS5Sb290LlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIE1lc3NhZ2VQcmltaXRpdmVSb290UHJvcHMgPSBNZXNzYWdlUHJpbWl0aXZlUm9vdC5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlUHJpbWl0aXZlUm9vdCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xufVxuXG5leHBvcnQgY29uc3QgTWVzc2FnZVByaW1pdGl2ZVJvb3QgPSBmb3J3YXJkUmVmPFxuICBNZXNzYWdlUHJpbWl0aXZlUm9vdC5FbGVtZW50LFxuICBNZXNzYWdlUHJpbWl0aXZlUm9vdC5Qcm9wc1xuPigocHJvcHMsIGZvcndhcmRSZWYpID0+IHtcbiAgY29uc3QgaXNIb3ZlcmluZ1JlZiA9IHVzZUlzSG92ZXJpbmdSZWYoKTtcbiAgY29uc3QgcmVmID0gdXNlQ29tcG9zZWRSZWZzPEhUTUxEaXZFbGVtZW50Pihmb3J3YXJkUmVmLCBpc0hvdmVyaW5nUmVmKTtcblxuICByZXR1cm4gPFByaW1pdGl2ZS5kaXYgey4uLnByb3BzfSByZWY9e3JlZn0gLz47XG59KTtcblxuTWVzc2FnZVByaW1pdGl2ZVJvb3QuZGlzcGxheU5hbWUgPSBcIk1lc3NhZ2VQcmltaXRpdmUuUm9vdFwiO1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY29uc3QgdXNlTWFuYWdlZFJlZiA9IDxUTm9kZT4oXG4gIGNhbGxiYWNrOiAobm9kZTogVE5vZGUpID0+ICgoKSA9PiB2b2lkKSB8IHZvaWQsXG4pID0+IHtcbiAgY29uc3QgY2xlYW51cFJlZiA9IHVzZVJlZjwoKCkgPT4gdm9pZCkgfCB2b2lkPigpO1xuXG4gIGNvbnN0IHJlZiA9IHVzZUNhbGxiYWNrKFxuICAgIChlbDogVE5vZGUgfCBudWxsKSA9PiB7XG4gICAgICAvLyBDYWxsIHRoZSBwcmV2aW91cyBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgICBpZiAoY2xlYW51cFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFudXBSZWYuY3VycmVudCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxsIHRoZSBuZXcgY2FsbGJhY2sgYW5kIHN0b3JlIGl0cyBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgY2xlYW51cFJlZi5jdXJyZW50ID0gY2FsbGJhY2soZWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2NhbGxiYWNrXSxcbiAgKTtcblxuICByZXR1cm4gcmVmO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZDLCBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgVXNlTWVzc2FnZUlmUHJvcHMsXG4gIHVzZU1lc3NhZ2VJZixcbn0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9tZXNzYWdlL3VzZU1lc3NhZ2VJZlwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgTWVzc2FnZVByaW1pdGl2ZS5JZi5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBNZXNzYWdlUHJpbWl0aXZlSWZQcm9wcyA9IE1lc3NhZ2VQcmltaXRpdmVJZi5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBNZXNzYWdlUHJpbWl0aXZlSWYge1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFByb3BzV2l0aENoaWxkcmVuPFVzZU1lc3NhZ2VJZlByb3BzPjtcbn1cblxuZXhwb3J0IGNvbnN0IE1lc3NhZ2VQcmltaXRpdmVJZjogRkM8TWVzc2FnZVByaW1pdGl2ZUlmLlByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICAuLi5xdWVyeVxufSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSB1c2VNZXNzYWdlSWYocXVlcnkpO1xuICByZXR1cm4gcmVzdWx0ID8gY2hpbGRyZW4gOiBudWxsO1xufTtcblxuTWVzc2FnZVByaW1pdGl2ZUlmLmRpc3BsYXlOYW1lID0gXCJNZXNzYWdlUHJpbWl0aXZlLklmXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdHlwZSBDb21wb25lbnRUeXBlLCB0eXBlIEZDLCBtZW1vLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICB1c2VDb250ZW50UGFydCxcbiAgdXNlQ29udGVudFBhcnRSdW50aW1lLFxuICB1c2VUb29sVUlzLFxufSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHtcbiAgdXNlTWVzc2FnZSxcbiAgdXNlTWVzc2FnZVJ1bnRpbWUsXG59IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L01lc3NhZ2VDb250ZXh0XCI7XG5pbXBvcnQgeyBDb250ZW50UGFydFJ1bnRpbWVQcm92aWRlciB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3Byb3ZpZGVycy9Db250ZW50UGFydFJ1bnRpbWVQcm92aWRlclwiO1xuaW1wb3J0IHsgQ29udGVudFBhcnRQcmltaXRpdmVUZXh0IH0gZnJvbSBcIi4uL2NvbnRlbnRQYXJ0L0NvbnRlbnRQYXJ0VGV4dFwiO1xuaW1wb3J0IHsgQ29udGVudFBhcnRQcmltaXRpdmVJbWFnZSB9IGZyb20gXCIuLi9jb250ZW50UGFydC9Db250ZW50UGFydEltYWdlXCI7XG5pbXBvcnQgeyBDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXkgfSBmcm9tIFwiLi4vY29udGVudFBhcnQvQ29udGVudFBhcnREaXNwbGF5XCI7XG5pbXBvcnQgdHlwZSB7XG4gIEVtcHR5Q29udGVudFBhcnRDb21wb25lbnQsXG4gIEltYWdlQ29udGVudFBhcnRDb21wb25lbnQsXG4gIFRleHRDb250ZW50UGFydENvbXBvbmVudCxcbiAgVG9vbENhbGxDb250ZW50UGFydENvbXBvbmVudCxcbiAgVG9vbENhbGxDb250ZW50UGFydFByb3BzLFxuICBVSUNvbnRlbnRQYXJ0Q29tcG9uZW50LFxufSBmcm9tIFwiLi4vLi4vdHlwZXMvQ29udGVudFBhcnRDb21wb25lbnRUeXBlc1wiO1xuaW1wb3J0IHsgQ29udGVudFBhcnRQcmltaXRpdmVJblByb2dyZXNzIH0gZnJvbSBcIi4uL2NvbnRlbnRQYXJ0L0NvbnRlbnRQYXJ0SW5Qcm9ncmVzc1wiO1xuaW1wb3J0IHsgRU1QVFlfQ09OVEVOVCB9IGZyb20gXCIuLi8uLi9hcGkvTWVzc2FnZVJ1bnRpbWVcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYE1lc3NhZ2VQcmltaXRpdmUuQ29udGVudC5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBNZXNzYWdlUHJpbWl0aXZlQ29udGVudFByb3BzID0gTWVzc2FnZVByaW1pdGl2ZUNvbnRlbnQuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgTWVzc2FnZVByaW1pdGl2ZUNvbnRlbnQge1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IHtcbiAgICBjb21wb25lbnRzPzpcbiAgICAgIHwge1xuICAgICAgICAgIEVtcHR5PzogRW1wdHlDb250ZW50UGFydENvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBUZXh0PzogVGV4dENvbnRlbnRQYXJ0Q29tcG9uZW50IHwgdW5kZWZpbmVkO1xuICAgICAgICAgIEltYWdlPzogSW1hZ2VDb250ZW50UGFydENvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBVST86IFVJQ29udGVudFBhcnRDb21wb25lbnQgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgdG9vbHM/OlxuICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgYnlfbmFtZT86XG4gICAgICAgICAgICAgICAgICB8IFJlY29yZDxzdHJpbmcsIFRvb2xDYWxsQ29udGVudFBhcnRDb21wb25lbnQgfCB1bmRlZmluZWQ+XG4gICAgICAgICAgICAgICAgICB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBGYWxsYmFjaz86IENvbXBvbmVudFR5cGU8VG9vbENhbGxDb250ZW50UGFydFByb3BzPiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfCB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIHwgdW5kZWZpbmVkO1xuICB9O1xufVxuXG5jb25zdCBUb29sVUlEaXNwbGF5ID0gKHtcbiAgVUksXG4gIC4uLnByb3BzXG59OiB7XG4gIFVJOiBUb29sQ2FsbENvbnRlbnRQYXJ0Q29tcG9uZW50IHwgdW5kZWZpbmVkO1xufSAmIFRvb2xDYWxsQ29udGVudFBhcnRQcm9wcykgPT4ge1xuICBjb25zdCBSZW5kZXIgPSB1c2VUb29sVUlzKChzKSA9PiBzLmdldFRvb2xVSShwcm9wcy50b29sTmFtZSkpID8/IFVJO1xuICBpZiAoIVJlbmRlcikgcmV0dXJuIG51bGw7XG4gIHJldHVybiA8UmVuZGVyIHsuLi5wcm9wc30gLz47XG59O1xuXG5jb25zdCBkZWZhdWx0Q29tcG9uZW50cyA9IHtcbiAgVGV4dDogKCkgPT4gKFxuICAgIDxwIHN0eWxlPXt7IHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIiB9fT5cbiAgICAgIDxDb250ZW50UGFydFByaW1pdGl2ZVRleHQgLz5cbiAgICAgIDxDb250ZW50UGFydFByaW1pdGl2ZUluUHJvZ3Jlc3M+XG4gICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRGYW1pbHk6IFwicmV2ZXJ0XCIgfX0+e1wiIFxcdTI1Q0ZcIn08L3NwYW4+XG4gICAgICA8L0NvbnRlbnRQYXJ0UHJpbWl0aXZlSW5Qcm9ncmVzcz5cbiAgICA8L3A+XG4gICksXG4gIEltYWdlOiAoKSA9PiA8Q29udGVudFBhcnRQcmltaXRpdmVJbWFnZSAvPixcbiAgVUk6ICgpID0+IDxDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXkgLz4sXG59IHNhdGlzZmllcyBNZXNzYWdlUHJpbWl0aXZlQ29udGVudC5Qcm9wc1tcImNvbXBvbmVudHNcIl07XG5cbnR5cGUgTWVzc2FnZUNvbnRlbnRQYXJ0Q29tcG9uZW50UHJvcHMgPSB7XG4gIGNvbXBvbmVudHM6IE1lc3NhZ2VQcmltaXRpdmVDb250ZW50LlByb3BzW1wiY29tcG9uZW50c1wiXTtcbn07XG5cbmNvbnN0IE1lc3NhZ2VDb250ZW50UGFydENvbXBvbmVudDogRkM8TWVzc2FnZUNvbnRlbnRQYXJ0Q29tcG9uZW50UHJvcHM+ID0gKHtcbiAgY29tcG9uZW50czoge1xuICAgIFRleHQgPSBkZWZhdWx0Q29tcG9uZW50cy5UZXh0LFxuICAgIEVtcHR5LFxuICAgIEltYWdlID0gZGVmYXVsdENvbXBvbmVudHMuSW1hZ2UsXG4gICAgVUkgPSBkZWZhdWx0Q29tcG9uZW50cy5VSSxcbiAgICB0b29sczogeyBieV9uYW1lID0ge30sIEZhbGxiYWNrID0gdW5kZWZpbmVkIH0gPSB7fSxcbiAgfSA9IHt9LFxufSkgPT4ge1xuICBjb25zdCBjb250ZW50UGFydFJ1bnRpbWUgPSB1c2VDb250ZW50UGFydFJ1bnRpbWUoKTtcblxuICBjb25zdCBwYXJ0ID0gdXNlQ29udGVudFBhcnQoKTtcblxuICBjb25zdCB0eXBlID0gcGFydC50eXBlO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgaWYgKHBhcnQuc3RhdHVzLnR5cGUgPT09IFwicmVxdWlyZXMtYWN0aW9uXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY291bnRlcmVkIHVuZXhwZWN0ZWQgcmVxdWlyZXMtYWN0aW9uIHN0YXR1c1wiKTtcbiAgICAgIGlmIChwYXJ0LnBhcnQgPT09IEVNUFRZX0NPTlRFTlQgJiYgISFFbXB0eSkge1xuICAgICAgICByZXR1cm4gPEVtcHR5IHN0YXR1cz17cGFydC5zdGF0dXN9IC8+O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gPFRleHQgey4uLnBhcnR9IHBhcnQ9e3BhcnR9IC8+O1xuXG4gICAgY2FzZSBcImltYWdlXCI6XG4gICAgICBpZiAocGFydC5zdGF0dXMudHlwZSA9PT0gXCJyZXF1aXJlcy1hY3Rpb25cIilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW5jb3VudGVyZWQgdW5leHBlY3RlZCByZXF1aXJlcy1hY3Rpb24gc3RhdHVzXCIpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2FsdC10ZXh0XG4gICAgICByZXR1cm4gPEltYWdlIHsuLi5wYXJ0fSBwYXJ0PXtwYXJ0fSAvPjtcblxuICAgIGNhc2UgXCJ1aVwiOlxuICAgICAgaWYgKHBhcnQuc3RhdHVzLnR5cGUgPT09IFwicmVxdWlyZXMtYWN0aW9uXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY291bnRlcmVkIHVuZXhwZWN0ZWQgcmVxdWlyZXMtYWN0aW9uIHN0YXR1c1wiKTtcbiAgICAgIHJldHVybiA8VUkgey4uLnBhcnR9IHBhcnQ9e3BhcnR9IC8+O1xuXG4gICAgY2FzZSBcInRvb2wtY2FsbFwiOiB7XG4gICAgICBjb25zdCBUb29sID0gYnlfbmFtZVtwYXJ0LnRvb2xOYW1lXSB8fCBGYWxsYmFjaztcbiAgICAgIGNvbnN0IGFkZFJlc3VsdCA9IChyZXN1bHQ6IGFueSkgPT5cbiAgICAgICAgY29udGVudFBhcnRSdW50aW1lLmFkZFRvb2xSZXN1bHQocmVzdWx0KTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxUb29sVUlEaXNwbGF5IHsuLi5wYXJ0fSBwYXJ0PXtwYXJ0fSBVST17VG9vbH0gYWRkUmVzdWx0PXthZGRSZXN1bHR9IC8+XG4gICAgICApO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogbmV2ZXIgPSB0eXBlO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNvbnRlbnQgcGFydCB0eXBlOiAke3VuaGFuZGxlZFR5cGV9YCk7XG4gIH1cbn07XG5cbnR5cGUgTWVzc2FnZUNvbnRlbnRQYXJ0UHJvcHMgPSB7XG4gIHBhcnRJbmRleDogbnVtYmVyO1xuICBjb21wb25lbnRzOiBNZXNzYWdlUHJpbWl0aXZlQ29udGVudC5Qcm9wc1tcImNvbXBvbmVudHNcIl07XG59O1xuXG5jb25zdCBNZXNzYWdlQ29udGVudFBhcnRJbXBsOiBGQzxNZXNzYWdlQ29udGVudFBhcnRQcm9wcz4gPSAoe1xuICBwYXJ0SW5kZXgsXG4gIGNvbXBvbmVudHMsXG59KSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2VSdW50aW1lID0gdXNlTWVzc2FnZVJ1bnRpbWUoKTtcbiAgY29uc3QgcnVudGltZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gbWVzc2FnZVJ1bnRpbWUuZ2V0Q29udGVudFBhcnRCeUluZGV4KHBhcnRJbmRleCksXG4gICAgW21lc3NhZ2VSdW50aW1lLCBwYXJ0SW5kZXhdLFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPENvbnRlbnRQYXJ0UnVudGltZVByb3ZpZGVyIHJ1bnRpbWU9e3J1bnRpbWV9PlxuICAgICAgPE1lc3NhZ2VDb250ZW50UGFydENvbXBvbmVudCBjb21wb25lbnRzPXtjb21wb25lbnRzfSAvPlxuICAgIDwvQ29udGVudFBhcnRSdW50aW1lUHJvdmlkZXI+XG4gICk7XG59O1xuXG5jb25zdCBNZXNzYWdlQ29udGVudFBhcnQgPSBtZW1vKFxuICBNZXNzYWdlQ29udGVudFBhcnRJbXBsLFxuICAocHJldiwgbmV4dCkgPT5cbiAgICBwcmV2LnBhcnRJbmRleCA9PT0gbmV4dC5wYXJ0SW5kZXggJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LlRleHQgPT09IG5leHQuY29tcG9uZW50cz8uVGV4dCAmJlxuICAgIHByZXYuY29tcG9uZW50cz8uSW1hZ2UgPT09IG5leHQuY29tcG9uZW50cz8uSW1hZ2UgJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LlVJID09PSBuZXh0LmNvbXBvbmVudHM/LlVJICYmXG4gICAgcHJldi5jb21wb25lbnRzPy50b29scyA9PT0gbmV4dC5jb21wb25lbnRzPy50b29scyxcbik7XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlUHJpbWl0aXZlQ29udGVudDogRkM8TWVzc2FnZVByaW1pdGl2ZUNvbnRlbnQuUHJvcHM+ID0gKHtcbiAgY29tcG9uZW50cyxcbn0pID0+IHtcbiAgY29uc3QgY29udGVudExlbmd0aCA9IHVzZU1lc3NhZ2UoKHMpID0+IHMuY29udGVudC5sZW5ndGgpIHx8IDE7XG5cbiAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IGNvbnRlbnRMZW5ndGggfSwgKF8sIGluZGV4KSA9PiAoXG4gICAgPE1lc3NhZ2VDb250ZW50UGFydCBrZXk9e2luZGV4fSBwYXJ0SW5kZXg9e2luZGV4fSBjb21wb25lbnRzPXtjb21wb25lbnRzfSAvPlxuICApKTtcbn07XG5cbk1lc3NhZ2VQcmltaXRpdmVDb250ZW50LmRpc3BsYXlOYW1lID0gXCJNZXNzYWdlUHJpbWl0aXZlLkNvbnRlbnRcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB0eXBlIEZDLCB0eXBlIFByb3BzV2l0aENoaWxkcmVuLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHsgQ29udGVudFBhcnRDb250ZXh0IH0gZnJvbSBcIi4uL3JlYWN0L0NvbnRlbnRQYXJ0Q29udGV4dFwiO1xuaW1wb3J0IHR5cGUgeyBDb250ZW50UGFydENvbnRleHRWYWx1ZSB9IGZyb20gXCIuLi9yZWFjdC9Db250ZW50UGFydENvbnRleHRcIjtcbmltcG9ydCB7IHdyaXRhYmxlU3RvcmUgfSBmcm9tIFwiLi4vUmVhZG9ubHlTdG9yZVwiO1xuaW1wb3J0IHsgQ29udGVudFBhcnRSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2FwaVwiO1xuXG50eXBlIENvbnRlbnRQYXJ0UHJvdmlkZXJQcm9wcyA9IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgcnVudGltZTogQ29udGVudFBhcnRSdW50aW1lO1xufT47XG5cbmNvbnN0IHVzZUNvbnRlbnRQYXJ0UnVudGltZVN0b3JlID0gKHJ1bnRpbWU6IENvbnRlbnRQYXJ0UnVudGltZSkgPT4ge1xuICBjb25zdCBbc3RvcmVdID0gdXNlU3RhdGUoKCkgPT4gY3JlYXRlKCgpID0+IHJ1bnRpbWUpKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHdyaXRhYmxlU3RvcmUoc3RvcmUpLnNldFN0YXRlKHJ1bnRpbWUsIHRydWUpO1xuICB9LCBbcnVudGltZSwgc3RvcmVdKTtcblxuICByZXR1cm4gc3RvcmU7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQ29udGVudFBhcnRTdG9yZSA9IChydW50aW1lOiBDb250ZW50UGFydFJ1bnRpbWUpID0+IHtcbiAgY29uc3QgW3N0b3JlXSA9IHVzZVN0YXRlKCgpID0+IGNyZWF0ZSgoKSA9PiBydW50aW1lLmdldFN0YXRlKCkpKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cGRhdGVTdGF0ZSA9ICgpID0+XG4gICAgICB3cml0YWJsZVN0b3JlKHN0b3JlKS5zZXRTdGF0ZShydW50aW1lLmdldFN0YXRlKCksIHRydWUpO1xuICAgIHVwZGF0ZVN0YXRlKCk7XG4gICAgcmV0dXJuIHJ1bnRpbWUuc3Vic2NyaWJlKHVwZGF0ZVN0YXRlKTtcbiAgfSwgW3J1bnRpbWUsIHN0b3JlXSk7XG5cbiAgcmV0dXJuIHN0b3JlO1xufTtcblxuZXhwb3J0IGNvbnN0IENvbnRlbnRQYXJ0UnVudGltZVByb3ZpZGVyOiBGQzxDb250ZW50UGFydFByb3ZpZGVyUHJvcHM+ID0gKHtcbiAgcnVudGltZSxcbiAgY2hpbGRyZW4sXG59KSA9PiB7XG4gIGNvbnN0IHVzZUNvbnRlbnRQYXJ0UnVudGltZSA9IHVzZUNvbnRlbnRQYXJ0UnVudGltZVN0b3JlKHJ1bnRpbWUpO1xuICBjb25zdCB1c2VDb250ZW50UGFydCA9IHVzZUNvbnRlbnRQYXJ0U3RvcmUocnVudGltZSk7XG4gIGNvbnN0IFtjb250ZXh0XSA9IHVzZVN0YXRlPENvbnRlbnRQYXJ0Q29udGV4dFZhbHVlPigoKSA9PiB7XG4gICAgcmV0dXJuIHsgdXNlQ29udGVudFBhcnRSdW50aW1lLCB1c2VDb250ZW50UGFydCB9O1xuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxDb250ZW50UGFydENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQ29udGVudFBhcnRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHtcbiAgdHlwZSBFbGVtZW50UmVmLFxuICBmb3J3YXJkUmVmLFxuICBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYsXG4gIEVsZW1lbnRUeXBlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRlbnRQYXJ0VGV4dCB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvY29udGVudFBhcnQvdXNlQ29udGVudFBhcnRUZXh0XCI7XG5pbXBvcnQgeyB1c2VTbW9vdGggfSBmcm9tIFwiLi4vLi4vdXRpbHMvc21vb3RoL3VzZVNtb290aFwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgQ29udGVudFBhcnRQcmltaXRpdmUuVGV4dC5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBDb250ZW50UGFydFByaW1pdGl2ZVRleHRQcm9wcyA9IENvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dC5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBDb250ZW50UGFydFByaW1pdGl2ZVRleHQge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLnNwYW4+O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IE9taXQ8XG4gICAgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuc3Bhbj4sXG4gICAgXCJjaGlsZHJlblwiIHwgXCJhc0NoaWxkXCJcbiAgPiAmIHtcbiAgICBzbW9vdGg/OiBib29sZWFuO1xuICAgIGNvbXBvbmVudD86IEVsZW1lbnRUeXBlO1xuICB9O1xufVxuXG5leHBvcnQgY29uc3QgQ29udGVudFBhcnRQcmltaXRpdmVUZXh0ID0gZm9yd2FyZFJlZjxcbiAgQ29udGVudFBhcnRQcmltaXRpdmVUZXh0LkVsZW1lbnQsXG4gIENvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dC5Qcm9wc1xuPigoeyBzbW9vdGggPSB0cnVlLCBjb21wb25lbnQ6IENvbXBvbmVudCA9IFwic3BhblwiLCAuLi5yZXN0IH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7IHRleHQsIHN0YXR1cyB9ID0gdXNlU21vb3RoKHVzZUNvbnRlbnRQYXJ0VGV4dCgpLCBzbW9vdGgpO1xuXG4gIHJldHVybiAoXG4gICAgPENvbXBvbmVudCBkYXRhLXN0YXR1cz17c3RhdHVzLnR5cGV9IHsuLi5yZXN0fSByZWY9e2ZvcndhcmRlZFJlZn0+XG4gICAgICB7dGV4dH1cbiAgICA8L0NvbXBvbmVudD5cbiAgKTtcbn0pO1xuXG5Db250ZW50UGFydFByaW1pdGl2ZVRleHQuZGlzcGxheU5hbWUgPSBcIkNvbnRlbnRQYXJ0UHJpbWl0aXZlLlRleHRcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZU1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHsgQ29udGVudFBhcnRTdGF0dXMsIFRleHRDb250ZW50UGFydCB9IGZyb20gXCIuLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2tSZWYgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1jYWxsYmFjay1yZWZcIjtcbmltcG9ydCB7IHVzZVNtb290aFN0YXR1c1N0b3JlIH0gZnJvbSBcIi4vU21vb3RoQ29udGV4dFwiO1xuaW1wb3J0IHsgd3JpdGFibGVTdG9yZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L1JlYWRvbmx5U3RvcmVcIjtcbmltcG9ydCB7IENvbnRlbnRQYXJ0U3RhdGUgfSBmcm9tIFwiLi4vLi4vYXBpL0NvbnRlbnRQYXJ0UnVudGltZVwiO1xuXG5jbGFzcyBUZXh0U3RyZWFtQW5pbWF0b3Ige1xuICBwcml2YXRlIGFuaW1hdGlvbkZyYW1lSWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGxhc3RVcGRhdGVUaW1lOiBudW1iZXIgPSBEYXRlLm5vdygpO1xuXG4gIHB1YmxpYyB0YXJnZXRUZXh0OiBzdHJpbmcgPSBcIlwiO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBjdXJyZW50VGV4dDogc3RyaW5nLFxuICAgIHByaXZhdGUgc2V0VGV4dDogKG5ld1RleHQ6IHN0cmluZykgPT4gdm9pZCxcbiAgKSB7fVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICh0aGlzLmFuaW1hdGlvbkZyYW1lSWQgIT09IG51bGwpIHJldHVybjtcbiAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLmFuaW1hdGUoKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uRnJhbWVJZCAhPT0gbnVsbCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25GcmFtZUlkKTtcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJZCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhbmltYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBkZWx0YVRpbWUgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFVwZGF0ZVRpbWU7XG4gICAgbGV0IHRpbWVUb0NvbnN1bWUgPSBkZWx0YVRpbWU7XG5cbiAgICBjb25zdCByZW1haW5pbmdDaGFycyA9IHRoaXMudGFyZ2V0VGV4dC5sZW5ndGggLSB0aGlzLmN1cnJlbnRUZXh0Lmxlbmd0aDtcbiAgICBjb25zdCBiYXNlVGltZVBlckNoYXIgPSBNYXRoLm1pbig1LCAyNTAgLyByZW1haW5pbmdDaGFycyk7XG5cbiAgICBsZXQgY2hhcnNUb0FkZCA9IDA7XG4gICAgd2hpbGUgKHRpbWVUb0NvbnN1bWUgPj0gYmFzZVRpbWVQZXJDaGFyICYmIGNoYXJzVG9BZGQgPCByZW1haW5pbmdDaGFycykge1xuICAgICAgY2hhcnNUb0FkZCsrO1xuICAgICAgdGltZVRvQ29uc3VtZSAtPSBiYXNlVGltZVBlckNoYXI7XG4gICAgfVxuXG4gICAgaWYgKGNoYXJzVG9BZGQgIT09IHJlbWFpbmluZ0NoYXJzKSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNoYXJzVG9BZGQgPT09IDApIHJldHVybjtcblxuICAgIHRoaXMuY3VycmVudFRleHQgPSB0aGlzLnRhcmdldFRleHQuc2xpY2UoXG4gICAgICAwLFxuICAgICAgdGhpcy5jdXJyZW50VGV4dC5sZW5ndGggKyBjaGFyc1RvQWRkLFxuICAgICk7XG4gICAgdGhpcy5sYXN0VXBkYXRlVGltZSA9IGN1cnJlbnRUaW1lIC0gdGltZVRvQ29uc3VtZTtcbiAgICB0aGlzLnNldFRleHQodGhpcy5jdXJyZW50VGV4dCk7XG4gIH07XG59XG5cbmNvbnN0IFNNT09USF9TVEFUVVM6IENvbnRlbnRQYXJ0U3RhdHVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIHR5cGU6IFwicnVubmluZ1wiLFxufSk7XG5cbmV4cG9ydCBjb25zdCB1c2VTbW9vdGggPSAoXG4gIHN0YXRlOiBDb250ZW50UGFydFN0YXRlICYgVGV4dENvbnRlbnRQYXJ0LFxuICBzbW9vdGg6IGJvb2xlYW4gPSBmYWxzZSxcbik6IENvbnRlbnRQYXJ0U3RhdGUgJiBUZXh0Q29udGVudFBhcnQgPT4ge1xuICBjb25zdCB7IHRleHQgfSA9IHN0YXRlO1xuICBjb25zdCBpZCA9IHVzZU1lc3NhZ2Uoe1xuICAgIG9wdGlvbmFsOiB0cnVlLFxuICAgIHNlbGVjdG9yOiAobTogeyBpZDogc3RyaW5nIH0pID0+IG0uaWQsXG4gIH0pO1xuXG4gIGNvbnN0IGlkUmVmID0gdXNlUmVmKGlkKTtcbiAgY29uc3QgW2Rpc3BsYXllZFRleHQsIHNldERpc3BsYXllZFRleHRdID0gdXNlU3RhdGUodGV4dCk7XG5cbiAgY29uc3Qgc21vb3RoU3RhdHVzU3RvcmUgPSB1c2VTbW9vdGhTdGF0dXNTdG9yZSh7IG9wdGlvbmFsOiB0cnVlIH0pO1xuICBjb25zdCBzZXRUZXh0ID0gdXNlQ2FsbGJhY2tSZWYoKHRleHQ6IHN0cmluZykgPT4ge1xuICAgIHNldERpc3BsYXllZFRleHQodGV4dCk7XG4gICAgaWYgKHNtb290aFN0YXR1c1N0b3JlKSB7XG4gICAgICB3cml0YWJsZVN0b3JlKHNtb290aFN0YXR1c1N0b3JlKS5zZXRTdGF0ZShcbiAgICAgICAgdGV4dCAhPT0gc3RhdGUudGV4dCA/IFNNT09USF9TVEFUVVMgOiBzdGF0ZS5zdGF0dXMsXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVE9ETyB0aGlzIGlzIGhhY2t5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNtb290aFN0YXR1c1N0b3JlKSB7XG4gICAgICB3cml0YWJsZVN0b3JlKHNtb290aFN0YXR1c1N0b3JlKS5zZXRTdGF0ZShcbiAgICAgICAgdGV4dCAhPT0gc3RhdGUudGV4dCA/IFNNT09USF9TVEFUVVMgOiBzdGF0ZS5zdGF0dXMsXG4gICAgICApO1xuICAgIH1cbiAgfSwgW3Ntb290aFN0YXR1c1N0b3JlLCB0ZXh0LCBkaXNwbGF5ZWRUZXh0LCBzdGF0ZS5zdGF0dXMsIHN0YXRlLnRleHRdKTtcblxuICBjb25zdCBbYW5pbWF0b3JSZWZdID0gdXNlU3RhdGU8VGV4dFN0cmVhbUFuaW1hdG9yPihcbiAgICBuZXcgVGV4dFN0cmVhbUFuaW1hdG9yKHRleHQsIHNldFRleHQpLFxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzbW9vdGgpIHtcbiAgICAgIGFuaW1hdG9yUmVmLnN0b3AoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaWRSZWYuY3VycmVudCAhPT0gaWQgfHwgIXRleHQuc3RhcnRzV2l0aChhbmltYXRvclJlZi50YXJnZXRUZXh0KSkge1xuICAgICAgaWRSZWYuY3VycmVudCA9IGlkO1xuICAgICAgc2V0VGV4dCh0ZXh0KTtcblxuICAgICAgYW5pbWF0b3JSZWYuY3VycmVudFRleHQgPSB0ZXh0O1xuICAgICAgYW5pbWF0b3JSZWYudGFyZ2V0VGV4dCA9IHRleHQ7XG4gICAgICBhbmltYXRvclJlZi5zdG9wKCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhbmltYXRvclJlZi50YXJnZXRUZXh0ID0gdGV4dDtcbiAgICBhbmltYXRvclJlZi5zdGFydCgpO1xuICB9LCBbc2V0VGV4dCwgYW5pbWF0b3JSZWYsIGlkLCBzbW9vdGgsIHRleHRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhbmltYXRvclJlZi5zdG9wKCk7XG4gICAgfTtcbiAgfSwgW2FuaW1hdG9yUmVmXSk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIHNtb290aFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgdGV4dDogZGlzcGxheWVkVGV4dCxcbiAgICAgICAgICAgIHBhcnQ6IHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IGRpc3BsYXllZFRleHQgfSxcbiAgICAgICAgICAgIHN0YXR1czogdGV4dCA9PT0gZGlzcGxheWVkVGV4dCA/IHN0YXRlLnN0YXR1cyA6IFNNT09USF9TVEFUVVMsXG4gICAgICAgICAgfVxuICAgICAgICA6IHN0YXRlLFxuICAgIFtzbW9vdGgsIGRpc3BsYXllZFRleHQsIHN0YXRlLCB0ZXh0XSxcbiAgKTtcbn07XG4iLCJpbXBvcnQge1xuICBDb21wb25lbnRUeXBlLFxuICBjcmVhdGVDb250ZXh0LFxuICBGQyxcbiAgZm9yd2FyZFJlZixcbiAgUHJvcHNXaXRoQ2hpbGRyZW4sXG4gIHVzZUNvbnRleHQsXG4gIHVzZVN0YXRlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFJlYWRvbmx5U3RvcmUgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBjcmVhdGUsIFVzZUJvdW5kU3RvcmUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHtcbiAgQ29udGVudFBhcnRTdGF0dXMsXG4gIFRvb2xDYWxsQ29udGVudFBhcnRTdGF0dXMsXG59IGZyb20gXCIuLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuaW1wb3J0IHsgdXNlQ29udGVudFBhcnRTdG9yZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L0NvbnRlbnRQYXJ0Q29udGV4dFwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFN0b3JlSG9vayB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L3V0aWxzL2NyZWF0ZUNvbnRleHRTdG9yZUhvb2tcIjtcblxudHlwZSBTbW9vdGhDb250ZXh0VmFsdWUgPSB7XG4gIHVzZVNtb290aFN0YXR1czogVXNlQm91bmRTdG9yZTxcbiAgICBSZWFkb25seVN0b3JlPENvbnRlbnRQYXJ0U3RhdHVzIHwgVG9vbENhbGxDb250ZW50UGFydFN0YXR1cz5cbiAgPjtcbn07XG5cbmNvbnN0IFNtb290aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PFNtb290aENvbnRleHRWYWx1ZSB8IG51bGw+KG51bGwpO1xuXG5jb25zdCBtYWtlU21vb3RoQ29udGV4dCA9IChcbiAgaW5pdGlhbFN0YXRlOiBDb250ZW50UGFydFN0YXR1cyB8IFRvb2xDYWxsQ29udGVudFBhcnRTdGF0dXMsXG4pID0+IHtcbiAgY29uc3QgdXNlU21vb3RoU3RhdHVzID0gY3JlYXRlKCgpID0+IGluaXRpYWxTdGF0ZSk7XG4gIHJldHVybiB7IHVzZVNtb290aFN0YXR1cyB9O1xufTtcblxuZXhwb3J0IGNvbnN0IFNtb290aENvbnRleHRQcm92aWRlcjogRkM8UHJvcHNXaXRoQ2hpbGRyZW4+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBvdXRlciA9IHVzZVNtb290aENvbnRleHQoeyBvcHRpb25hbDogdHJ1ZSB9KTtcbiAgY29uc3QgY29udGVudFBhcnRTdG9yZSA9IHVzZUNvbnRlbnRQYXJ0U3RvcmUoKTtcblxuICBjb25zdCBbY29udGV4dF0gPSB1c2VTdGF0ZSgoKSA9PlxuICAgIG1ha2VTbW9vdGhDb250ZXh0KGNvbnRlbnRQYXJ0U3RvcmUuZ2V0U3RhdGUoKS5zdGF0dXMpLFxuICApO1xuXG4gIC8vIGRvIG5vdCB3cmFwIGlmIHRoZXJlIGlzIGFuIG91dGVyIFNtb290aENvbnRleHRQcm92aWRlclxuICBpZiAob3V0ZXIpIHJldHVybiBjaGlsZHJlbjtcblxuICByZXR1cm4gKFxuICAgIDxTbW9vdGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT57Y2hpbGRyZW59PC9TbW9vdGhDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhTbW9vdGhDb250ZXh0UHJvdmlkZXIgPSA8QyBleHRlbmRzIENvbXBvbmVudFR5cGU8YW55Pj4oXG4gIENvbXBvbmVudDogQyxcbik6IEMgPT4ge1xuICBjb25zdCBXcmFwcGVkID0gZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8U21vb3RoQ29udGV4dFByb3ZpZGVyPlxuICAgICAgICA8Q29tcG9uZW50IHsuLi4ocHJvcHMgYXMgYW55KX0gcmVmPXtyZWZ9IC8+XG4gICAgICA8L1Ntb290aENvbnRleHRQcm92aWRlcj5cbiAgICApO1xuICB9KTtcbiAgV3JhcHBlZC5kaXNwbGF5TmFtZSA9IENvbXBvbmVudC5kaXNwbGF5TmFtZTtcbiAgcmV0dXJuIFdyYXBwZWQgYXMgYW55O1xufTtcblxuZnVuY3Rpb24gdXNlU21vb3RoQ29udGV4dChvcHRpb25zPzoge1xuICBvcHRpb25hbD86IGZhbHNlIHwgdW5kZWZpbmVkO1xufSk6IFNtb290aENvbnRleHRWYWx1ZTtcbmZ1bmN0aW9uIHVzZVNtb290aENvbnRleHQob3B0aW9ucz86IHtcbiAgb3B0aW9uYWw/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xufSk6IFNtb290aENvbnRleHRWYWx1ZSB8IG51bGw7XG5mdW5jdGlvbiB1c2VTbW9vdGhDb250ZXh0KG9wdGlvbnM/OiB7IG9wdGlvbmFsPzogYm9vbGVhbiB8IHVuZGVmaW5lZCB9KSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFNtb290aENvbnRleHQpO1xuICBpZiAoIW9wdGlvbnM/Lm9wdGlvbmFsICYmICFjb250ZXh0KVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhpcyBjb21wb25lbnQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFNtb290aENvbnRleHRQcm92aWRlci5cIixcbiAgICApO1xuICByZXR1cm4gY29udGV4dDtcbn1cblxuZXhwb3J0IGNvbnN0IHsgdXNlU21vb3RoU3RhdHVzLCB1c2VTbW9vdGhTdGF0dXNTdG9yZSB9ID0gY3JlYXRlQ29udGV4dFN0b3JlSG9vayhcbiAgdXNlU21vb3RoQ29udGV4dCxcbiAgXCJ1c2VTbW9vdGhTdGF0dXNcIixcbik7XG4iLCJpbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgdHlwZSBFbGVtZW50UmVmLCBmb3J3YXJkUmVmLCBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRlbnRQYXJ0SW1hZ2UgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL2NvbnRlbnRQYXJ0L3VzZUNvbnRlbnRQYXJ0SW1hZ2VcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYENvbnRlbnRQYXJ0UHJpbWl0aXZlLkltYWdlLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIENvbnRlbnRQYXJ0UHJpbWl0aXZlSW1hZ2VQcm9wcyA9IENvbnRlbnRQYXJ0UHJpbWl0aXZlSW1hZ2UuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29udGVudFBhcnRQcmltaXRpdmVJbWFnZSB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuaW1nPjtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5pbWc+O1xufVxuXG5leHBvcnQgY29uc3QgQ29udGVudFBhcnRQcmltaXRpdmVJbWFnZSA9IGZvcndhcmRSZWY8XG4gIENvbnRlbnRQYXJ0UHJpbWl0aXZlSW1hZ2UuRWxlbWVudCxcbiAgQ29udGVudFBhcnRQcmltaXRpdmVJbWFnZS5Qcm9wc1xuPigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7IGltYWdlIH0gPSB1c2VDb250ZW50UGFydEltYWdlKCk7XG4gIHJldHVybiA8UHJpbWl0aXZlLmltZyBzcmM9e2ltYWdlfSB7Li4ucHJvcHN9IHJlZj17Zm9yd2FyZGVkUmVmfSAvPjtcbn0pO1xuXG5Db250ZW50UGFydFByaW1pdGl2ZUltYWdlLmRpc3BsYXlOYW1lID0gXCJDb250ZW50UGFydFByaW1pdGl2ZS5JbWFnZVwiO1xuIiwiaW1wb3J0IHR5cGUgeyBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29udGVudFBhcnREaXNwbGF5IH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9jb250ZW50UGFydC91c2VDb250ZW50UGFydERpc3BsYXlcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYENvbnRlbnRQYXJ0UHJpbWl0aXZlLkRpc3BsYXkuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgQ29udGVudFBhcnRQcmltaXRpdmVEaXNwbGF5UHJvcHMgPVxuICBDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXkuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29udGVudFBhcnRQcmltaXRpdmVEaXNwbGF5IHtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBSZWNvcmQ8c3RyaW5nLCBuZXZlcj47XG59XG5cbmV4cG9ydCBjb25zdCBDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXk6IEZDPFxuICBDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXkuUHJvcHNcbj4gPSAoKSA9PiB7XG4gIGNvbnN0IHsgZGlzcGxheSB9ID0gdXNlQ29udGVudFBhcnREaXNwbGF5KCk7XG4gIHJldHVybiBkaXNwbGF5ID8/IG51bGw7XG59O1xuXG5Db250ZW50UGFydFByaW1pdGl2ZURpc3BsYXkuZGlzcGxheU5hbWUgPSBcIkNvbnRlbnRQYXJ0UHJpbWl0aXZlLkRpc3BsYXlcIjtcbiIsImltcG9ydCB7IEZDLCBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29udGVudFBhcnQgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgQ29udGVudFBhcnRQcmltaXRpdmUuSW5Qcm9ncmVzcy5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBDb250ZW50UGFydFByaW1pdGl2ZUluUHJvZ3Jlc3NQcm9wcyA9XG4gIENvbnRlbnRQYXJ0UHJpbWl0aXZlSW5Qcm9ncmVzcy5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBDb250ZW50UGFydFByaW1pdGl2ZUluUHJvZ3Jlc3Mge1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFByb3BzV2l0aENoaWxkcmVuO1xufVxuXG4vLyBUT0RPIHNob3VsZCB0aGlzIGJlIHJlbmFtZWQgdG8gSXNSdW5uaW5nP1xuZXhwb3J0IGNvbnN0IENvbnRlbnRQYXJ0UHJpbWl0aXZlSW5Qcm9ncmVzczogRkM8XG4gIENvbnRlbnRQYXJ0UHJpbWl0aXZlSW5Qcm9ncmVzcy5Qcm9wc1xuPiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgaXNJblByb2dyZXNzID0gdXNlQ29udGVudFBhcnQoKGMpID0+IGMuc3RhdHVzLnR5cGUgPT09IFwicnVubmluZ1wiKTtcblxuICByZXR1cm4gaXNJblByb2dyZXNzID8gY2hpbGRyZW4gOiBudWxsO1xufTtcblxuQ29udGVudFBhcnRQcmltaXRpdmVJblByb2dyZXNzLmRpc3BsYXlOYW1lID0gXCJDb250ZW50UGFydFByaW1pdGl2ZS5JblByb2dyZXNzXCI7XG4iLCJpbXBvcnQgdHlwZSB7XG4gIEFwcGVuZE1lc3NhZ2UsXG4gIFRleHRDb250ZW50UGFydCxcbiAgVGhyZWFkTWVzc2FnZSxcbn0gZnJvbSBcIi4uL3R5cGVzL0Fzc2lzdGFudFR5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRUaHJlYWRNZXNzYWdlVGV4dCA9IChcbiAgbWVzc2FnZTogVGhyZWFkTWVzc2FnZSB8IEFwcGVuZE1lc3NhZ2UsXG4pID0+IHtcbiAgY29uc3QgdGV4dFBhcnRzID0gbWVzc2FnZS5jb250ZW50LmZpbHRlcihcbiAgICAocGFydCkgPT4gcGFydC50eXBlID09PSBcInRleHRcIixcbiAgKSBhcyBUZXh0Q29udGVudFBhcnRbXTtcblxuICByZXR1cm4gdGV4dFBhcnRzLm1hcCgocGFydCkgPT4gcGFydC50ZXh0KS5qb2luKFwiXFxuXFxuXCIpO1xufTtcbiIsImltcG9ydCB7IFN1YnNjcmliYWJsZVdpdGhTdGF0ZSB9IGZyb20gXCIuL3N1YnNjcmliYWJsZS9TdWJzY3JpYmFibGVcIjtcblxuaW1wb3J0IHsgQ29tcG9zZXJSdW50aW1lQ29yZUJpbmRpbmcgfSBmcm9tIFwiLi9Db21wb3NlclJ1bnRpbWVcIjtcbmltcG9ydCB7XG4gIEF0dGFjaG1lbnQsXG4gIENvbXBsZXRlQXR0YWNobWVudCxcbiAgUGVuZGluZ0F0dGFjaG1lbnQsXG4gIFVuc3Vic2NyaWJlLFxufSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IEF0dGFjaG1lbnRSdW50aW1lUGF0aCB9IGZyb20gXCIuL1BhdGhUeXBlc1wiO1xuXG50eXBlIE1lc3NhZ2VBdHRhY2htZW50U3RhdGUgPSBDb21wbGV0ZUF0dGFjaG1lbnQgJiB7XG4gIHNvdXJjZTogXCJtZXNzYWdlXCI7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBZb3UgY2FuIGRpcmVjdGx5IGFjY2VzcyBjb250ZW50IHBhcnQgZmllbGRzIGluIHRoZSBzdGF0ZS4gUmVwbGFjZSBgLmF0dGFjaG1lbnQudHlwZWAgd2l0aCBgLnR5cGVgIGV0Yy4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBhdHRhY2htZW50OiBDb21wbGV0ZUF0dGFjaG1lbnQ7XG59O1xuXG50eXBlIFRocmVhZENvbXBvc2VyQXR0YWNobWVudFN0YXRlID0gUGVuZGluZ0F0dGFjaG1lbnQgJiB7XG4gIHNvdXJjZTogXCJ0aHJlYWQtY29tcG9zZXJcIjtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFlvdSBjYW4gZGlyZWN0bHkgYWNjZXNzIGNvbnRlbnQgcGFydCBmaWVsZHMgaW4gdGhlIHN0YXRlLiBSZXBsYWNlIGAuYXR0YWNobWVudC50eXBlYCB3aXRoIGAudHlwZWAgZXRjLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIGF0dGFjaG1lbnQ6IFBlbmRpbmdBdHRhY2htZW50O1xufTtcblxudHlwZSBFZGl0Q29tcG9zZXJBdHRhY2htZW50U3RhdGUgPSBBdHRhY2htZW50ICYge1xuICBzb3VyY2U6IFwiZWRpdC1jb21wb3NlclwiO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgWW91IGNhbiBkaXJlY3RseSBhY2Nlc3MgY29udGVudCBwYXJ0IGZpZWxkcyBpbiB0aGUgc3RhdGUuIFJlcGxhY2UgYC5hdHRhY2htZW50LnR5cGVgIHdpdGggYC50eXBlYCBldGMuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgYXR0YWNobWVudDogQXR0YWNobWVudDtcbn07XG5cbmV4cG9ydCB0eXBlIEF0dGFjaG1lbnRTdGF0ZSA9XG4gIHwgVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50U3RhdGVcbiAgfCBFZGl0Q29tcG9zZXJBdHRhY2htZW50U3RhdGVcbiAgfCBNZXNzYWdlQXR0YWNobWVudFN0YXRlO1xuXG50eXBlIEF0dGFjaG1lbnRTbmFwc2hvdEJpbmRpbmc8U291cmNlIGV4dGVuZHMgQXR0YWNobWVudFJ1bnRpbWVTb3VyY2U+ID1cbiAgU3Vic2NyaWJhYmxlV2l0aFN0YXRlPFxuICAgIEF0dGFjaG1lbnRTdGF0ZSAmIHsgc291cmNlOiBTb3VyY2UgfSxcbiAgICBBdHRhY2htZW50UnVudGltZVBhdGggJiB7IGF0dGFjaG1lbnRTb3VyY2U6IFNvdXJjZSB9XG4gID47XG5cbnR5cGUgQXR0YWNobWVudFJ1bnRpbWVTb3VyY2UgPSBBdHRhY2htZW50U3RhdGVbXCJzb3VyY2VcIl07XG5cbmV4cG9ydCB0eXBlIEF0dGFjaG1lbnRSdW50aW1lPFxuICBUU291cmNlIGV4dGVuZHMgQXR0YWNobWVudFJ1bnRpbWVTb3VyY2UgPSBBdHRhY2htZW50UnVudGltZVNvdXJjZSxcbj4gPSB7XG4gIHBhdGg6IEF0dGFjaG1lbnRSdW50aW1lUGF0aCAmIHsgYXR0YWNobWVudFNvdXJjZTogVFNvdXJjZSB9O1xuICByZWFkb25seSBzb3VyY2U6IFRTb3VyY2U7XG4gIGdldFN0YXRlKCk6IEF0dGFjaG1lbnRTdGF0ZSAmIHsgc291cmNlOiBUU291cmNlIH07XG4gIHJlbW92ZSgpOiBQcm9taXNlPHZvaWQ+O1xuICBzdWJzY3JpYmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBVbnN1YnNjcmliZTtcbn07XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBdHRhY2htZW50UnVudGltZUltcGw8XG4gIFNvdXJjZSBleHRlbmRzIEF0dGFjaG1lbnRSdW50aW1lU291cmNlID0gQXR0YWNobWVudFJ1bnRpbWVTb3VyY2UsXG4+IGltcGxlbWVudHMgQXR0YWNobWVudFJ1bnRpbWVcbntcbiAgcHVibGljIGdldCBwYXRoKCkge1xuICAgIHJldHVybiB0aGlzLl9jb3JlLnBhdGg7XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgZ2V0IHNvdXJjZSgpOiBTb3VyY2U7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfY29yZTogQXR0YWNobWVudFNuYXBzaG90QmluZGluZzxTb3VyY2U+KSB7fVxuXG4gIHB1YmxpYyBnZXRTdGF0ZSgpOiBBdHRhY2htZW50U3RhdGUgJiB7IHNvdXJjZTogU291cmNlIH0ge1xuICAgIHJldHVybiB0aGlzLl9jb3JlLmdldFN0YXRlKCk7XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgcmVtb3ZlKCk6IFByb21pc2U8dm9pZD47XG5cbiAgcHVibGljIHN1YnNjcmliZShjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIHJldHVybiB0aGlzLl9jb3JlLnN1YnNjcmliZShjYWxsYmFjayk7XG4gIH1cbn1cblxuYWJzdHJhY3QgY2xhc3MgQ29tcG9zZXJBdHRhY2htZW50UnVudGltZTxcbiAgU291cmNlIGV4dGVuZHMgXCJ0aHJlYWQtY29tcG9zZXJcIiB8IFwiZWRpdC1jb21wb3NlclwiLFxuPiBleHRlbmRzIEF0dGFjaG1lbnRSdW50aW1lSW1wbDxTb3VyY2U+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgY29yZTogQXR0YWNobWVudFNuYXBzaG90QmluZGluZzxTb3VyY2U+LFxuICAgIHByaXZhdGUgX2NvbXBvc2VyQXBpOiBDb21wb3NlclJ1bnRpbWVDb3JlQmluZGluZyxcbiAgKSB7XG4gICAgc3VwZXIoY29yZSk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlKCkge1xuICAgIGNvbnN0IGNvcmUgPSB0aGlzLl9jb21wb3NlckFwaS5nZXRTdGF0ZSgpO1xuICAgIGlmICghY29yZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9zZXIgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICByZXR1cm4gY29yZS5yZW1vdmVBdHRhY2htZW50KHRoaXMuZ2V0U3RhdGUoKS5pZCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRocmVhZENvbXBvc2VyQXR0YWNobWVudFJ1bnRpbWVJbXBsIGV4dGVuZHMgQ29tcG9zZXJBdHRhY2htZW50UnVudGltZTxcInRocmVhZC1jb21wb3NlclwiPiB7XG4gIHB1YmxpYyBnZXQgc291cmNlKCk6IFwidGhyZWFkLWNvbXBvc2VyXCIge1xuICAgIHJldHVybiBcInRocmVhZC1jb21wb3NlclwiO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGl0Q29tcG9zZXJBdHRhY2htZW50UnVudGltZUltcGwgZXh0ZW5kcyBDb21wb3NlckF0dGFjaG1lbnRSdW50aW1lPFwiZWRpdC1jb21wb3NlclwiPiB7XG4gIHB1YmxpYyBnZXQgc291cmNlKCk6IFwiZWRpdC1jb21wb3NlclwiIHtcbiAgICByZXR1cm4gXCJlZGl0LWNvbXBvc2VyXCI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VBdHRhY2htZW50UnVudGltZUltcGwgZXh0ZW5kcyBBdHRhY2htZW50UnVudGltZUltcGw8XCJtZXNzYWdlXCI+IHtcbiAgcHVibGljIGdldCBzb3VyY2UoKTogXCJtZXNzYWdlXCIge1xuICAgIHJldHVybiBcIm1lc3NhZ2VcIjtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGNvcmU6IEF0dGFjaG1lbnRTbmFwc2hvdEJpbmRpbmc8XCJtZXNzYWdlXCI+KSB7XG4gICAgc3VwZXIoY29yZSk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlKCk6IG5ldmVyIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlIGF0dGFjaG1lbnRzIGNhbm5vdCBiZSByZW1vdmVkXCIpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBVbnN1YnNjcmliZSB9IGZyb20gXCIuLi8uLi90eXBlcy9VbnN1YnNjcmliZVwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVN1YmplY3Qge1xuICBwcml2YXRlIF9zdWJzY3JpcHRpb25zID0gbmV3IFNldDwoKSA9PiB2b2lkPigpO1xuICBwcml2YXRlIF9jb25uZWN0aW9uOiBVbnN1YnNjcmliZSB8IHVuZGVmaW5lZDtcblxuICBwcm90ZWN0ZWQgZ2V0IGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2Nvbm5lY3Rpb247XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgX2Nvbm5lY3QoKTogVW5zdWJzY3JpYmU7XG5cbiAgcHJvdGVjdGVkIG5vdGlmeVN1YnNjcmliZXJzKCkge1xuICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgdGhpcy5fc3Vic2NyaXB0aW9ucykgY2FsbGJhY2soKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZUNvbm5lY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbnMuc2l6ZSA+IDApIHtcbiAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uKSByZXR1cm47XG4gICAgICB0aGlzLl9jb25uZWN0aW9uID0gdGhpcy5fY29ubmVjdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb25uZWN0aW9uPy4oKTtcbiAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN1YnNjcmliZShjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMuYWRkKGNhbGxiYWNrKTtcbiAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvbigpO1xuICAgIH07XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBTS0lQX1VQREFURSA9IFN5bWJvbChcInNraXAtdXBkYXRlXCIpO1xuZXhwb3J0IHR5cGUgU0tJUF9VUERBVEUgPSB0eXBlb2YgU0tJUF9VUERBVEU7XG4iLCJpbXBvcnQgeyBCYXNlU3ViamVjdCB9IGZyb20gXCIuL0Jhc2VTdWJqZWN0XCI7XG5pbXBvcnQgeyBTS0lQX1VQREFURSB9IGZyb20gXCIuL1NLSVBfVVBEQVRFXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmFibGVXaXRoU3RhdGUgfSBmcm9tIFwiLi9TdWJzY3JpYmFibGVcIjtcblxuZXhwb3J0IGNsYXNzIExhenlNZW1vaXplU3ViamVjdDxUU3RhdGUgZXh0ZW5kcyBvYmplY3QsIFRQYXRoPlxuICBleHRlbmRzIEJhc2VTdWJqZWN0XG4gIGltcGxlbWVudHMgU3Vic2NyaWJhYmxlV2l0aFN0YXRlPFRTdGF0ZSwgVFBhdGg+XG57XG4gIHB1YmxpYyBnZXQgcGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kaW5nLnBhdGg7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGJpbmRpbmc6IFN1YnNjcmliYWJsZVdpdGhTdGF0ZTxUU3RhdGUgfCBTS0lQX1VQREFURSwgVFBhdGg+LFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcHJldmlvdXNTdGF0ZURpcnR5ID0gdHJ1ZTtcbiAgcHJpdmF0ZSBfcHJldmlvdXNTdGF0ZTogVFN0YXRlIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgZ2V0U3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkIHx8IHRoaXMuX3ByZXZpb3VzU3RhdGVEaXJ0eSkge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSB0aGlzLmJpbmRpbmcuZ2V0U3RhdGUoKTtcbiAgICAgIGlmIChuZXdTdGF0ZSAhPT0gU0tJUF9VUERBVEUpIHtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgfVxuICAgICAgdGhpcy5fcHJldmlvdXNTdGF0ZURpcnR5ID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLl9wcmV2aW91c1N0YXRlID09PSB1bmRlZmluZWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbnRyeSBub3QgYXZhaWxhYmxlIGluIHRoZSBzdG9yZVwiKTtcbiAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNTdGF0ZTtcbiAgfTtcblxuICBwcm90ZWN0ZWQgX2Nvbm5lY3QoKSB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9wcmV2aW91c1N0YXRlRGlydHkgPSB0cnVlO1xuICAgICAgdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5iaW5kaW5nLnN1YnNjcmliZShjYWxsYmFjayk7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBzaGFsbG93RXF1YWw8VCBleHRlbmRzIG9iamVjdD4oXG4gIG9iakE6IFQgfCB1bmRlZmluZWQsXG4gIG9iakI6IFQgfCB1bmRlZmluZWQsXG4pIHtcbiAgaWYgKG9iakEgPT09IHVuZGVmaW5lZCAmJiBvYmpCID09PSB1bmRlZmluZWQpIHJldHVybiB0cnVlO1xuICBpZiAob2JqQSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gIGlmIChvYmpCID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvYmpBKSkge1xuICAgIGNvbnN0IHZhbHVlQSA9IG9iakFba2V5IGFzIGtleW9mIFRdO1xuICAgIGNvbnN0IHZhbHVlQiA9IG9iakJba2V5IGFzIGtleW9mIFRdO1xuICAgIGlmICghT2JqZWN0LmlzKHZhbHVlQSwgdmFsdWVCKSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4iLCJpbXBvcnQgeyBzaGFsbG93RXF1YWwgfSBmcm9tIFwiLi9zaGFsbG93RXF1YWxcIjtcbmltcG9ydCB7IEJhc2VTdWJqZWN0IH0gZnJvbSBcIi4vQmFzZVN1YmplY3RcIjtcbmltcG9ydCB7IFN1YnNjcmliYWJsZVdpdGhTdGF0ZSB9IGZyb20gXCIuL1N1YnNjcmliYWJsZVwiO1xuaW1wb3J0IHsgU0tJUF9VUERBVEUgfSBmcm9tIFwiLi9TS0lQX1VQREFURVwiO1xuXG5leHBvcnQgY2xhc3MgU2hhbGxvd01lbW9pemVTdWJqZWN0PFRTdGF0ZSBleHRlbmRzIG9iamVjdCwgVFBhdGg+XG4gIGV4dGVuZHMgQmFzZVN1YmplY3RcbiAgaW1wbGVtZW50cyBTdWJzY3JpYmFibGVXaXRoU3RhdGU8VFN0YXRlLCBUUGF0aD5cbntcbiAgcHVibGljIGdldCBwYXRoKCkge1xuICAgIHJldHVybiB0aGlzLmJpbmRpbmcucGF0aDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgYmluZGluZzogU3Vic2NyaWJhYmxlV2l0aFN0YXRlPFRTdGF0ZSB8IFNLSVBfVVBEQVRFLCBUUGF0aD4sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3Qgc3RhdGUgPSBiaW5kaW5nLmdldFN0YXRlKCk7XG4gICAgaWYgKHN0YXRlID09PSBTS0lQX1VQREFURSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVudHJ5IG5vdCBhdmFpbGFibGUgaW4gdGhlIHN0b3JlXCIpO1xuICAgIHRoaXMuX3ByZXZpb3VzU3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIHByaXZhdGUgX3ByZXZpb3VzU3RhdGU6IFRTdGF0ZTtcbiAgcHVibGljIGdldFN0YXRlID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkgdGhpcy5fc3luY1N0YXRlKCk7XG4gICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzU3RhdGU7XG4gIH07XG5cbiAgcHJpdmF0ZSBfc3luY1N0YXRlKCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5iaW5kaW5nLmdldFN0YXRlKCk7XG4gICAgaWYgKHN0YXRlID09PSBTS0lQX1VQREFURSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChzaGFsbG93RXF1YWwoc3RhdGUsIHRoaXMuX3ByZXZpb3VzU3RhdGUpKSByZXR1cm4gZmFsc2U7XG4gICAgdGhpcy5fcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9jb25uZWN0KCkge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX3N5bmNTdGF0ZSgpKSB7XG4gICAgICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuYmluZGluZy5zdWJzY3JpYmUoY2FsbGJhY2spO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBdHRhY2htZW50LCBQZW5kaW5nQXR0YWNobWVudCB9IGZyb20gXCIuLi90eXBlcy9BdHRhY2htZW50VHlwZXNcIjtcbmltcG9ydCB7XG4gIENvbXBvc2VyUnVudGltZUNvcmUsXG4gIFRocmVhZENvbXBvc2VyUnVudGltZUNvcmUsXG59IGZyb20gXCIuLi9ydW50aW1lcy9jb3JlL0NvbXBvc2VyUnVudGltZUNvcmVcIjtcbmltcG9ydCB7IFVuc3Vic2NyaWJlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmFibGVXaXRoU3RhdGUgfSBmcm9tIFwiLi9zdWJzY3JpYmFibGUvU3Vic2NyaWJhYmxlXCI7XG5pbXBvcnQgeyBMYXp5TWVtb2l6ZVN1YmplY3QgfSBmcm9tIFwiLi9zdWJzY3JpYmFibGUvTGF6eU1lbW9pemVTdWJqZWN0XCI7XG5pbXBvcnQge1xuICBBdHRhY2htZW50UnVudGltZSxcbiAgQXR0YWNobWVudFN0YXRlLFxuICBFZGl0Q29tcG9zZXJBdHRhY2htZW50UnVudGltZUltcGwsXG4gIFRocmVhZENvbXBvc2VyQXR0YWNobWVudFJ1bnRpbWVJbXBsLFxufSBmcm9tIFwiLi9BdHRhY2htZW50UnVudGltZVwiO1xuaW1wb3J0IHsgU2hhbGxvd01lbW9pemVTdWJqZWN0IH0gZnJvbSBcIi4vc3Vic2NyaWJhYmxlL1NoYWxsb3dNZW1vaXplU3ViamVjdFwiO1xuaW1wb3J0IHsgU0tJUF9VUERBVEUgfSBmcm9tIFwiLi9zdWJzY3JpYmFibGUvU0tJUF9VUERBVEVcIjtcbmltcG9ydCB7IENvbXBvc2VyUnVudGltZVBhdGggfSBmcm9tIFwiLi9QYXRoVHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgVGhyZWFkQ29tcG9zZXJSdW50aW1lQ29yZUJpbmRpbmcgPSBTdWJzY3JpYmFibGVXaXRoU3RhdGU8XG4gIFRocmVhZENvbXBvc2VyUnVudGltZUNvcmUgfCB1bmRlZmluZWQsXG4gIENvbXBvc2VyUnVudGltZVBhdGggJiB7IGNvbXBvc2VyU291cmNlOiBcInRocmVhZFwiIH1cbj47XG5cbmV4cG9ydCB0eXBlIEVkaXRDb21wb3NlclJ1bnRpbWVDb3JlQmluZGluZyA9IFN1YnNjcmliYWJsZVdpdGhTdGF0ZTxcbiAgQ29tcG9zZXJSdW50aW1lQ29yZSB8IHVuZGVmaW5lZCxcbiAgQ29tcG9zZXJSdW50aW1lUGF0aCAmIHsgY29tcG9zZXJTb3VyY2U6IFwiZWRpdFwiIH1cbj47XG5cbmV4cG9ydCB0eXBlIENvbXBvc2VyUnVudGltZUNvcmVCaW5kaW5nID0gU3Vic2NyaWJhYmxlV2l0aFN0YXRlPFxuICBDb21wb3NlclJ1bnRpbWVDb3JlIHwgdW5kZWZpbmVkLFxuICBDb21wb3NlclJ1bnRpbWVQYXRoXG4+O1xuXG50eXBlIExlZ2FjeUVkaXRDb21wb3NlclN0YXRlID0gUmVhZG9ubHk8e1xuICB0eXBlOiBcImVkaXRcIjtcblxuICAvKiogQGRlcHJlY2F0ZWQgVXNlIGB0ZXh0YCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC4gKi9cbiAgdmFsdWU6IHN0cmluZztcbiAgLyoqIEBkZXByZWNhdGVkIFVzZSBgdXNlQ29tcG9zZXJSdW50aW1lKCkuc2V0VGV4dCgpYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC4gKi9cbiAgc2V0VmFsdWU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIHRleHQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgdXNlQ29tcG9zZXJSdW50aW1lKCkuc2V0VGV4dCgpYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHNldFRleHQ6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIGNhbkNhbmNlbDogYm9vbGVhbjtcbiAgaXNFZGl0aW5nOiBib29sZWFuO1xuICBpc0VtcHR5OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdXNlQ29tcG9zZXJSdW50aW1lKCkuYmVnaW5FZGl0KCkgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBlZGl0OiAoKSA9PiB2b2lkO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGB1c2VDb21wb3NlclJ1bnRpbWUoKS5zZW5kKClgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgc2VuZDogKCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgdXNlQ29tcG9zZXJSdW50aW1lKCkuY2FuY2VsKClgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgY2FuY2VsOiAoKSA9PiB2b2lkO1xufT47XG5cbnR5cGUgTGVnYWN5VGhyZWFkQ29tcG9zZXJTdGF0ZSA9IFJlYWRvbmx5PHtcbiAgdHlwZTogXCJ0aHJlYWRcIjtcblxuICAvKiogQGRlcHJlY2F0ZWQgVXNlIGB0ZXh0YCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC4gKi9cbiAgdmFsdWU6IHN0cmluZztcbiAgLyoqIEBkZXByZWNhdGVkIFVzZSBgdXNlQ29tcG9zZXJSdW50aW1lKCkuc2V0VGV4dGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuICovXG4gIHNldFZhbHVlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcblxuICBhdHRhY2htZW50czogcmVhZG9ubHkgQXR0YWNobWVudFtdO1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHVzZUNvbXBvc2VyUnVudGltZSgpLmFkZEF0dGFjaG1lbnRgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLiAqL1xuICBhZGRBdHRhY2htZW50OiAoZmlsZTogRmlsZSkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgLyoqIEBkZXByZWNhdGVkIFVzZSBgdXNlQ29tcG9zZXJSdW50aW1lKCkucmVtb3ZlQXR0YWNobWVudGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuICovXG4gIHJlbW92ZUF0dGFjaG1lbnQ6IChhdHRhY2htZW50SWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcblxuICB0ZXh0OiBzdHJpbmc7XG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHVzZUNvbXBvc2VyUnVudGltZSgpLnNldFRleHRgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLiAqL1xuICBzZXRUZXh0OiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcblxuICAvKiogQGRlcHJlY2F0ZWQgVXNlIGB1c2VDb21wb3NlclJ1bnRpbWUoKS5yZXNldGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuICovXG4gIHJlc2V0OiAoKSA9PiB2b2lkO1xuXG4gIGNhbkNhbmNlbDogYm9vbGVhbjtcbiAgaXNFZGl0aW5nOiBib29sZWFuO1xuICBpc0VtcHR5OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYHVzZUNvbXBvc2VyUnVudGltZSgpLnNlbmRgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKiovXG4gIHNlbmQ6ICgpID0+IHZvaWQ7XG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHVzZUNvbXBvc2VyUnVudGltZSgpLmNhbmNlbGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuICovXG4gIGNhbmNlbDogKCkgPT4gdm9pZDtcbn0+O1xuXG50eXBlIEJhc2VDb21wb3NlclN0YXRlID0ge1xuICB0ZXh0OiBzdHJpbmc7XG4gIGF0dGFjaG1lbnRzOiByZWFkb25seSBBdHRhY2htZW50W107XG5cbiAgY2FuQ2FuY2VsOiBib29sZWFuO1xuICBpc0VkaXRpbmc6IGJvb2xlYW47XG4gIGlzRW1wdHk6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBUaHJlYWRDb21wb3NlclN0YXRlID0gTGVnYWN5VGhyZWFkQ29tcG9zZXJTdGF0ZSAmXG4gIEJhc2VDb21wb3NlclN0YXRlICYge1xuICAgIHR5cGU6IFwidGhyZWFkXCI7XG5cbiAgICBhdHRhY2htZW50czogcmVhZG9ubHkgUGVuZGluZ0F0dGFjaG1lbnRbXTtcbiAgfTtcblxuZXhwb3J0IHR5cGUgRWRpdENvbXBvc2VyU3RhdGUgPSBMZWdhY3lFZGl0Q29tcG9zZXJTdGF0ZSAmXG4gIEJhc2VDb21wb3NlclN0YXRlICYge1xuICAgIHR5cGU6IFwiZWRpdFwiO1xuICB9O1xuXG5leHBvcnQgdHlwZSBDb21wb3NlclN0YXRlID0gVGhyZWFkQ29tcG9zZXJTdGF0ZSB8IEVkaXRDb21wb3NlclN0YXRlO1xuXG5jb25zdCBNRVRIT0RfTk9UX1NVUFBPUlRFRCA9ICgpID0+IHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9zZXIgaXMgbm90IGF2YWlsYWJsZVwiKTtcbn07XG5jb25zdCBFTVBUWV9BUlJBWSA9IE9iamVjdC5mcmVlemUoW10pO1xuY29uc3QgZ2V0VGhyZWFkQ29tcG9zZXJTdGF0ZSA9IChcbiAgcnVudGltZTogVGhyZWFkQ29tcG9zZXJSdW50aW1lQ29yZSB8IHVuZGVmaW5lZCxcbik6IFRocmVhZENvbXBvc2VyU3RhdGUgPT4ge1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgdHlwZTogXCJ0aHJlYWRcIixcblxuICAgIGlzRWRpdGluZzogcnVudGltZT8uaXNFZGl0aW5nID8/IGZhbHNlLFxuICAgIGNhbkNhbmNlbDogcnVudGltZT8uY2FuQ2FuY2VsID8/IGZhbHNlLFxuICAgIGlzRW1wdHk6IHJ1bnRpbWU/LmlzRW1wdHkgPz8gdHJ1ZSxcbiAgICB0ZXh0OiBydW50aW1lPy50ZXh0ID8/IFwiXCIsXG4gICAgYXR0YWNobWVudHM6IHJ1bnRpbWU/LmF0dGFjaG1lbnRzID8/IEVNUFRZX0FSUkFZLFxuXG4gICAgdmFsdWU6IHJ1bnRpbWU/LnRleHQgPz8gXCJcIixcbiAgICBzZXRWYWx1ZTogcnVudGltZT8uc2V0VGV4dC5iaW5kKHJ1bnRpbWUpID8/IE1FVEhPRF9OT1RfU1VQUE9SVEVELFxuICAgIHNldFRleHQ6IHJ1bnRpbWU/LnNldFRleHQuYmluZChydW50aW1lKSA/PyBNRVRIT0RfTk9UX1NVUFBPUlRFRCxcbiAgICAvLyBlZGl0OiBiZWdpbkVkaXQsXG4gICAgc2VuZDogcnVudGltZT8uc2VuZC5iaW5kKHJ1bnRpbWUpID8/IE1FVEhPRF9OT1RfU1VQUE9SVEVELFxuICAgIGNhbmNlbDogcnVudGltZT8uY2FuY2VsLmJpbmQocnVudGltZSkgPz8gTUVUSE9EX05PVF9TVVBQT1JURUQsXG4gICAgcmVzZXQ6IHJ1bnRpbWU/LnJlc2V0LmJpbmQocnVudGltZSkgPz8gTUVUSE9EX05PVF9TVVBQT1JURUQsXG5cbiAgICBhZGRBdHRhY2htZW50OiBydW50aW1lPy5hZGRBdHRhY2htZW50LmJpbmQocnVudGltZSkgPz8gTUVUSE9EX05PVF9TVVBQT1JURUQsXG4gICAgcmVtb3ZlQXR0YWNobWVudDpcbiAgICAgIHJ1bnRpbWU/LnJlbW92ZUF0dGFjaG1lbnQuYmluZChydW50aW1lKSA/PyBNRVRIT0RfTk9UX1NVUFBPUlRFRCxcbiAgfSk7XG59O1xuXG5jb25zdCBnZXRFZGl0Q29tcG9zZXJTdGF0ZSA9IChcbiAgcnVudGltZTogQ29tcG9zZXJSdW50aW1lQ29yZSB8IHVuZGVmaW5lZCxcbiAgYmVnaW5FZGl0OiAoKSA9PiB2b2lkLFxuKTogRWRpdENvbXBvc2VyU3RhdGUgPT4ge1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgdHlwZTogXCJlZGl0XCIsXG5cbiAgICBpc0VkaXRpbmc6IHJ1bnRpbWU/LmlzRWRpdGluZyA/PyBmYWxzZSxcbiAgICBjYW5DYW5jZWw6IHJ1bnRpbWU/LmNhbkNhbmNlbCA/PyBmYWxzZSxcbiAgICBpc0VtcHR5OiBydW50aW1lPy5pc0VtcHR5ID8/IHRydWUsXG4gICAgdGV4dDogcnVudGltZT8udGV4dCA/PyBcIlwiLFxuICAgIGF0dGFjaG1lbnRzOiBydW50aW1lPy5hdHRhY2htZW50cyA/PyBFTVBUWV9BUlJBWSxcblxuICAgIHZhbHVlOiBydW50aW1lPy50ZXh0ID8/IFwiXCIsXG4gICAgc2V0VmFsdWU6IHJ1bnRpbWU/LnNldFRleHQuYmluZChydW50aW1lKSA/PyBNRVRIT0RfTk9UX1NVUFBPUlRFRCxcbiAgICBzZXRUZXh0OiBydW50aW1lPy5zZXRUZXh0LmJpbmQocnVudGltZSkgPz8gTUVUSE9EX05PVF9TVVBQT1JURUQsXG4gICAgZWRpdDogYmVnaW5FZGl0LFxuICAgIHNlbmQ6IHJ1bnRpbWU/LnNlbmQuYmluZChydW50aW1lKSA/PyBNRVRIT0RfTk9UX1NVUFBPUlRFRCxcbiAgICBjYW5jZWw6IHJ1bnRpbWU/LmNhbmNlbC5iaW5kKHJ1bnRpbWUpID8/IE1FVEhPRF9OT1RfU1VQUE9SVEVELFxuICB9KTtcbn07XG5cbmV4cG9ydCB0eXBlIENvbXBvc2VyUnVudGltZSA9IHtcbiAgcGF0aDogQ29tcG9zZXJSdW50aW1lUGF0aDtcbiAgcmVhZG9ubHkgdHlwZTogXCJlZGl0XCIgfCBcInRocmVhZFwiO1xuICBnZXRTdGF0ZSgpOiBDb21wb3NlclN0YXRlO1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkuaXNFZGl0aW5nYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC4gKi9cbiAgcmVhZG9ubHkgaXNFZGl0aW5nOiBib29sZWFuO1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkuaXNFbXB0eWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuICovXG4gIHJlYWRvbmx5IGlzRW1wdHk6IGJvb2xlYW47XG5cbiAgLyoqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5jYW5DYW5jZWxgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLiAqL1xuICByZWFkb25seSBjYW5DYW5jZWw6IGJvb2xlYW47XG5cbiAgLyoqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS50ZXh0YCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC4gKi9cbiAgcmVhZG9ubHkgdGV4dDogc3RyaW5nO1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkuYXR0YWNobWVudHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLiAqL1xuICByZWFkb25seSBhdHRhY2htZW50czogcmVhZG9ubHkgQXR0YWNobWVudFtdO1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkudGV4dGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuICovXG4gIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmc7XG5cbiAgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpOiB2b2lkO1xuICBzZXRWYWx1ZSh0ZXh0OiBzdHJpbmcpOiB2b2lkO1xuXG4gIGdldEF0dGFjaG1lbnRBY2NlcHQoKTogc3RyaW5nO1xuICBhZGRBdHRhY2htZW50KGZpbGU6IEZpbGUpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgYGdldEF0dGFjaG1lbnRCeUlkKGlkKS5yZW1vdmVBdHRhY2htZW50KClgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLiAqL1xuICByZW1vdmVBdHRhY2htZW50KGF0dGFjaG1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKiogQGRlcHJlY2F0ZWQgVGhpcyBtZXRob2Qgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLiBTdWJtaXQgZmVlZGJhY2sgaWYgeW91IG5lZWQgdGhpcyBmdW5jdGlvbmFsaXR5LiAqL1xuICByZXNldCgpOiB2b2lkO1xuXG4gIHNlbmQoKTogdm9pZDtcbiAgY2FuY2VsKCk6IHZvaWQ7XG4gIHN1YnNjcmliZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IFVuc3Vic2NyaWJlO1xuICBnZXRBdHRhY2htZW50QnlJbmRleChpZHg6IG51bWJlcik6IEF0dGFjaG1lbnRSdW50aW1lO1xufTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbXBvc2VyUnVudGltZUltcGxcbiAgaW1wbGVtZW50cyBDb21wb3NlclJ1bnRpbWVDb3JlLCBDb21wb3NlclJ1bnRpbWVcbntcbiAgcHVibGljIGdldCBwYXRoKCkge1xuICAgIHJldHVybiB0aGlzLl9jb3JlLnBhdGg7XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgZ2V0IHR5cGUoKTogXCJlZGl0XCIgfCBcInRocmVhZFwiO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfY29yZTogQ29tcG9zZXJSdW50aW1lQ29yZUJpbmRpbmcpIHt9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5pc0VkaXRpbmdgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgcHVibGljIGdldCBpc0VkaXRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoKS5pc0VkaXRpbmc7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRTdGF0ZSgpLmlzRW1wdHlgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgcHVibGljIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0YXRlKCkuaXNFbXB0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkuY2FuQ2FuY2VsYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyBnZXQgY2FuQ2FuY2VsKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0YXRlKCkuY2FuQ2FuY2VsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS50ZXh0YCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZSgpLnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRTdGF0ZSgpLmF0dGFjaG1lbnRzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyBnZXQgYXR0YWNobWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoKS5hdHRhY2htZW50cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkudGV4dGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnRleHQ7XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgZ2V0U3RhdGUoKTogQ29tcG9zZXJTdGF0ZTtcblxuICBwdWJsaWMgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb3JlID0gdGhpcy5fY29yZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghY29yZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9zZXIgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICBjb3JlLnNldFRleHQodGV4dCk7XG4gIH1cblxuICBwdWJsaWMgc2V0VmFsdWUodGV4dDogc3RyaW5nKSB7XG4gICAgdGhpcy5zZXRUZXh0KHRleHQpO1xuICB9XG5cbiAgcHVibGljIGFkZEF0dGFjaG1lbnQoZmlsZTogRmlsZSkge1xuICAgIGNvbnN0IGNvcmUgPSB0aGlzLl9jb3JlLmdldFN0YXRlKCk7XG4gICAgaWYgKCFjb3JlKSB0aHJvdyBuZXcgRXJyb3IoXCJDb21wb3NlciBpcyBub3QgYXZhaWxhYmxlXCIpO1xuICAgIHJldHVybiBjb3JlLmFkZEF0dGFjaG1lbnQoZmlsZSk7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRBdHRhY2htZW50QnlJZChpZCkucmVtb3ZlQXR0YWNobWVudCgpYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyByZW1vdmVBdHRhY2htZW50KGF0dGFjaG1lbnRJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgY29yZSA9IHRoaXMuX2NvcmUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoIWNvcmUpIHRocm93IG5ldyBFcnJvcihcIkNvbXBvc2VyIGlzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgcmV0dXJuIGNvcmUucmVtb3ZlQXR0YWNobWVudChhdHRhY2htZW50SWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFRoaXMgbWV0aG9kIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC4gU3VibWl0IGZlZWRiYWNrIGlmIHlvdSBuZWVkIHRoaXMgZnVuY3Rpb25hbGl0eS5cbiAgICovXG4gIHB1YmxpYyByZXNldCgpIHtcbiAgICBjb25zdCBjb3JlID0gdGhpcy5fY29yZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghY29yZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9zZXIgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICBjb3JlLnJlc2V0KCk7XG4gIH1cblxuICBwdWJsaWMgc2VuZCgpIHtcbiAgICBjb25zdCBjb3JlID0gdGhpcy5fY29yZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghY29yZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9zZXIgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICBjb3JlLnNlbmQoKTtcbiAgfVxuXG4gIHB1YmxpYyBjYW5jZWwoKSB7XG4gICAgY29uc3QgY29yZSA9IHRoaXMuX2NvcmUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoIWNvcmUpIHRocm93IG5ldyBFcnJvcihcIkNvbXBvc2VyIGlzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgY29yZS5jYW5jZWwoKTtcbiAgfVxuXG4gIHB1YmxpYyBzdWJzY3JpYmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5zdWJzY3JpYmUoY2FsbGJhY2spO1xuICB9XG5cbiAgcHVibGljIGdldEF0dGFjaG1lbnRBY2NlcHQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjb3JlID0gdGhpcy5fY29yZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghY29yZSkgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9zZXIgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICByZXR1cm4gY29yZS5nZXRBdHRhY2htZW50QWNjZXB0KCk7XG4gIH1cblxuICBwdWJsaWMgYWJzdHJhY3QgZ2V0QXR0YWNobWVudEJ5SW5kZXgoaWR4OiBudW1iZXIpOiBBdHRhY2htZW50UnVudGltZTtcbn1cblxuZXhwb3J0IHR5cGUgVGhyZWFkQ29tcG9zZXJSdW50aW1lID0gT21pdDxcbiAgQ29tcG9zZXJSdW50aW1lLFxuICBcImdldFN0YXRlXCIgfCBcImdldEF0dGFjaG1lbnRCeUluZGV4XCJcbj4gJiB7XG4gIHJlYWRvbmx5IHBhdGg6IENvbXBvc2VyUnVudGltZVBhdGggJiB7IGNvbXBvc2VyU291cmNlOiBcInRocmVhZFwiIH07XG4gIHJlYWRvbmx5IHR5cGU6IFwidGhyZWFkXCI7XG4gIGdldFN0YXRlKCk6IFRocmVhZENvbXBvc2VyU3RhdGU7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5hdHRhY2htZW50c2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBhdHRhY2htZW50czogcmVhZG9ubHkgUGVuZGluZ0F0dGFjaG1lbnRbXTtcblxuICBnZXRBdHRhY2htZW50QnlJbmRleChcbiAgICBpZHg6IG51bWJlcixcbiAgKTogQXR0YWNobWVudFJ1bnRpbWUgJiB7IHNvdXJjZTogXCJ0aHJlYWQtY29tcG9zZXJcIiB9O1xufTtcblxuZXhwb3J0IGNsYXNzIFRocmVhZENvbXBvc2VyUnVudGltZUltcGxcbiAgZXh0ZW5kcyBDb21wb3NlclJ1bnRpbWVJbXBsXG4gIGltcGxlbWVudHMgVGhyZWFkQ29tcG9zZXJSdW50aW1lLCBUaHJlYWRDb21wb3NlclN0YXRlXG57XG4gIHB1YmxpYyBvdmVycmlkZSBnZXQgcGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5wYXRoIGFzIENvbXBvc2VyUnVudGltZVBhdGggJiB7XG4gICAgICBjb21wb3NlclNvdXJjZTogXCJ0aHJlYWRcIjtcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiBcInRocmVhZFwiIGFzIGNvbnN0O1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0U3RhdGU7XG5cbiAgY29uc3RydWN0b3IoY29yZTogVGhyZWFkQ29tcG9zZXJSdW50aW1lQ29yZUJpbmRpbmcpIHtcbiAgICBjb25zdCBzdGF0ZUJpbmRpbmcgPSBuZXcgTGF6eU1lbW9pemVTdWJqZWN0KHtcbiAgICAgIHBhdGg6IGNvcmUucGF0aCxcbiAgICAgIGdldFN0YXRlOiAoKSA9PiBnZXRUaHJlYWRDb21wb3NlclN0YXRlKGNvcmUuZ2V0U3RhdGUoKSksXG4gICAgICBzdWJzY3JpYmU6IChjYWxsYmFjaykgPT4gY29yZS5zdWJzY3JpYmUoY2FsbGJhY2spLFxuICAgIH0pO1xuICAgIHN1cGVyKHtcbiAgICAgIHBhdGg6IGNvcmUucGF0aCxcbiAgICAgIGdldFN0YXRlOiAoKSA9PiBjb3JlLmdldFN0YXRlKCksXG4gICAgICBzdWJzY3JpYmU6IChjYWxsYmFjaykgPT4gc3RhdGVCaW5kaW5nLnN1YnNjcmliZShjYWxsYmFjayksXG4gICAgfSk7XG4gICAgdGhpcy5fZ2V0U3RhdGUgPSBzdGF0ZUJpbmRpbmcuZ2V0U3RhdGUuYmluZChzdGF0ZUJpbmRpbmcpO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIGdldCBhdHRhY2htZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZSgpPy5hdHRhY2htZW50cyA/PyBFTVBUWV9BUlJBWTtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBnZXRTdGF0ZSgpOiBUaHJlYWRDb21wb3NlclN0YXRlIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U3RhdGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRBdHRhY2htZW50QnlJbmRleChpZHg6IG51bWJlcikge1xuICAgIHJldHVybiBuZXcgVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50UnVudGltZUltcGwoXG4gICAgICBuZXcgU2hhbGxvd01lbW9pemVTdWJqZWN0KHtcbiAgICAgICAgcGF0aDoge1xuICAgICAgICAgIC4uLnRoaXMucGF0aCxcbiAgICAgICAgICBhdHRhY2htZW50U291cmNlOiBcInRocmVhZC1jb21wb3NlclwiLFxuICAgICAgICAgIGF0dGFjaG1lbnRTZWxlY3RvcjogeyB0eXBlOiBcImluZGV4XCIsIGluZGV4OiBpZHggfSxcbiAgICAgICAgICByZWY6IHRoaXMucGF0aC5yZWYgKyBgJHt0aGlzLnBhdGgucmVmfS5hdHRhY2htZW50c1ske2lkeH1dYCxcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3RhdGU6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBhdHRhY2htZW50cyA9IHRoaXMuZ2V0U3RhdGUoKS5hdHRhY2htZW50cztcbiAgICAgICAgICBjb25zdCBhdHRhY2htZW50ID0gYXR0YWNobWVudHNbaWR4XTtcbiAgICAgICAgICBpZiAoIWF0dGFjaG1lbnQpIHJldHVybiBTS0lQX1VQREFURTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgYXR0YWNobWVudDogYXR0YWNobWVudCxcbiAgICAgICAgICAgIHNvdXJjZTogXCJ0aHJlYWQtY29tcG9zZXJcIixcbiAgICAgICAgICB9IHNhdGlzZmllcyBBdHRhY2htZW50U3RhdGUgJiB7IHNvdXJjZTogXCJ0aHJlYWQtY29tcG9zZXJcIiB9O1xuICAgICAgICB9LFxuICAgICAgICBzdWJzY3JpYmU6IChjYWxsYmFjaykgPT4gdGhpcy5fY29yZS5zdWJzY3JpYmUoY2FsbGJhY2spLFxuICAgICAgfSksXG4gICAgICB0aGlzLl9jb3JlLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgRWRpdENvbXBvc2VyUnVudGltZSA9IE9taXQ8XG4gIENvbXBvc2VyUnVudGltZSxcbiAgXCJnZXRTdGF0ZVwiIHwgXCJnZXRBdHRhY2htZW50QnlJbmRleFwiXG4+ICYge1xuICByZWFkb25seSBwYXRoOiBDb21wb3NlclJ1bnRpbWVQYXRoICYgeyBjb21wb3NlclNvdXJjZTogXCJlZGl0XCIgfTtcbiAgcmVhZG9ubHkgdHlwZTogXCJlZGl0XCI7XG5cbiAgZ2V0U3RhdGUoKTogRWRpdENvbXBvc2VyU3RhdGU7XG4gIGJlZ2luRWRpdCgpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGJlZ2luRWRpdCgpYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIGVkaXQoKTogdm9pZDtcblxuICBnZXRBdHRhY2htZW50QnlJbmRleChcbiAgICBpZHg6IG51bWJlcixcbiAgKTogQXR0YWNobWVudFJ1bnRpbWUgJiB7IHNvdXJjZTogXCJlZGl0LWNvbXBvc2VyXCIgfTtcbn07XG5cbmV4cG9ydCBjbGFzcyBFZGl0Q29tcG9zZXJSdW50aW1lSW1wbFxuICBleHRlbmRzIENvbXBvc2VyUnVudGltZUltcGxcbiAgaW1wbGVtZW50cyBFZGl0Q29tcG9zZXJSdW50aW1lLCBFZGl0Q29tcG9zZXJTdGF0ZVxue1xuICBwdWJsaWMgb3ZlcnJpZGUgZ2V0IHBhdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvcmUucGF0aCBhcyBDb21wb3NlclJ1bnRpbWVQYXRoICYgeyBjb21wb3NlclNvdXJjZTogXCJlZGl0XCIgfTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gXCJlZGl0XCIgYXMgY29uc3Q7XG4gIH1cblxuICBwcml2YXRlIF9nZXRTdGF0ZTtcbiAgY29uc3RydWN0b3IoXG4gICAgY29yZTogRWRpdENvbXBvc2VyUnVudGltZUNvcmVCaW5kaW5nLFxuICAgIHByaXZhdGUgX2JlZ2luRWRpdDogKCkgPT4gdm9pZCxcbiAgKSB7XG4gICAgY29uc3Qgc3RhdGVCaW5kaW5nID0gbmV3IExhenlNZW1vaXplU3ViamVjdCh7XG4gICAgICBwYXRoOiBjb3JlLnBhdGgsXG4gICAgICBnZXRTdGF0ZTogKCkgPT4gZ2V0RWRpdENvbXBvc2VyU3RhdGUoY29yZS5nZXRTdGF0ZSgpLCB0aGlzLl9iZWdpbkVkaXQpLFxuICAgICAgc3Vic2NyaWJlOiAoY2FsbGJhY2spID0+IGNvcmUuc3Vic2NyaWJlKGNhbGxiYWNrKSxcbiAgICB9KTtcblxuICAgIHN1cGVyKHtcbiAgICAgIHBhdGg6IGNvcmUucGF0aCxcbiAgICAgIGdldFN0YXRlOiAoKSA9PiBjb3JlLmdldFN0YXRlKCksXG4gICAgICBzdWJzY3JpYmU6IChjYWxsYmFjaykgPT4gc3RhdGVCaW5kaW5nLnN1YnNjcmliZShjYWxsYmFjayksXG4gICAgfSk7XG5cbiAgICB0aGlzLl9nZXRTdGF0ZSA9IHN0YXRlQmluZGluZy5nZXRTdGF0ZS5iaW5kKHN0YXRlQmluZGluZyk7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgZ2V0U3RhdGUoKTogRWRpdENvbXBvc2VyU3RhdGUge1xuICAgIHJldHVybiB0aGlzLl9nZXRTdGF0ZSgpO1xuICB9XG5cbiAgcHVibGljIGJlZ2luRWRpdCgpIHtcbiAgICB0aGlzLl9iZWdpbkVkaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGJlZ2luRWRpdCgpYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyBlZGl0KCkge1xuICAgIHRoaXMuYmVnaW5FZGl0KCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXR0YWNobWVudEJ5SW5kZXgoaWR4OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IEVkaXRDb21wb3NlckF0dGFjaG1lbnRSdW50aW1lSW1wbChcbiAgICAgIG5ldyBTaGFsbG93TWVtb2l6ZVN1YmplY3Qoe1xuICAgICAgICBwYXRoOiB7XG4gICAgICAgICAgLi4udGhpcy5wYXRoLFxuICAgICAgICAgIGF0dGFjaG1lbnRTb3VyY2U6IFwiZWRpdC1jb21wb3NlclwiLFxuICAgICAgICAgIGF0dGFjaG1lbnRTZWxlY3RvcjogeyB0eXBlOiBcImluZGV4XCIsIGluZGV4OiBpZHggfSxcbiAgICAgICAgICByZWY6IHRoaXMucGF0aC5yZWYgKyBgJHt0aGlzLnBhdGgucmVmfS5hdHRhY2htZW50c1ske2lkeH1dYCxcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3RhdGU6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBhdHRhY2htZW50cyA9IHRoaXMuZ2V0U3RhdGUoKS5hdHRhY2htZW50cztcbiAgICAgICAgICBjb25zdCBhdHRhY2htZW50ID0gYXR0YWNobWVudHNbaWR4XTtcbiAgICAgICAgICBpZiAoIWF0dGFjaG1lbnQpIHJldHVybiBTS0lQX1VQREFURTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgYXR0YWNobWVudDogYXR0YWNobWVudCxcbiAgICAgICAgICAgIHNvdXJjZTogXCJlZGl0LWNvbXBvc2VyXCIsXG4gICAgICAgICAgfSBzYXRpc2ZpZXMgQXR0YWNobWVudFN0YXRlICYgeyBzb3VyY2U6IFwiZWRpdC1jb21wb3NlclwiIH07XG4gICAgICAgIH0sXG4gICAgICAgIHN1YnNjcmliZTogKGNhbGxiYWNrKSA9PiB0aGlzLl9jb3JlLnN1YnNjcmliZShjYWxsYmFjayksXG4gICAgICB9KSxcbiAgICAgIHRoaXMuX2NvcmUsXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgVW5zdWJzY3JpYmUgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IEJhc2VTdWJqZWN0IH0gZnJvbSBcIi4vQmFzZVN1YmplY3RcIjtcbmltcG9ydCB7XG4gIE5lc3RlZFN1YnNjcmliYWJsZSxcbiAgU3Vic2NyaWJhYmxlLFxuICBTdWJzY3JpYmFibGVXaXRoU3RhdGUsXG59IGZyb20gXCIuL1N1YnNjcmliYWJsZVwiO1xuXG5leHBvcnQgY2xhc3MgTmVzdGVkU3Vic2NyaXB0aW9uU3ViamVjdDxUU3RhdGUgZXh0ZW5kcyBTdWJzY3JpYmFibGUgfCB1bmRlZmluZWQsIFRQYXRoPlxuICBleHRlbmRzIEJhc2VTdWJqZWN0XG4gIGltcGxlbWVudHMgU3Vic2NyaWJhYmxlV2l0aFN0YXRlPFRTdGF0ZSwgVFBhdGg+LCBOZXN0ZWRTdWJzY3JpYmFibGU8VFN0YXRlLCBUUGF0aD5cbntcbiAgcHVibGljIGdldCBwYXRoKCkge1xuICAgIHJldHVybiB0aGlzLmJpbmRpbmcucGF0aDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYmluZGluZzogTmVzdGVkU3Vic2NyaWJhYmxlPFRTdGF0ZSwgVFBhdGg+KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kaW5nLmdldFN0YXRlKCk7XG4gIH1cblxuICBwdWJsaWMgb3V0ZXJTdWJzY3JpYmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kaW5nLnN1YnNjcmliZShjYWxsYmFjayk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2Nvbm5lY3QoKTogVW5zdWJzY3JpYmUge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpO1xuICAgIH07XG5cbiAgICBsZXQgbGFzdFN0YXRlID0gdGhpcy5iaW5kaW5nLmdldFN0YXRlKCk7XG4gICAgbGV0IGlubmVyVW5zdWJzY3JpYmUgPSBsYXN0U3RhdGU/LnN1YnNjcmliZShjYWxsYmFjayk7XG4gICAgY29uc3Qgb25SdW50aW1lVXBkYXRlID0gKCkgPT4ge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSB0aGlzLmJpbmRpbmcuZ2V0U3RhdGUoKTtcbiAgICAgIGlmIChuZXdTdGF0ZSA9PT0gbGFzdFN0YXRlKSByZXR1cm47XG4gICAgICBsYXN0U3RhdGUgPSBuZXdTdGF0ZTtcblxuICAgICAgaW5uZXJVbnN1YnNjcmliZT8uKCk7XG4gICAgICBpbm5lclVuc3Vic2NyaWJlID0gdGhpcy5iaW5kaW5nLmdldFN0YXRlKCk/LnN1YnNjcmliZShjYWxsYmFjayk7XG5cbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG91dGVyVW5zdWJzY3JpYmUgPSB0aGlzLm91dGVyU3Vic2NyaWJlKG9uUnVudGltZVVwZGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG91dGVyVW5zdWJzY3JpYmU/LigpO1xuICAgICAgaW5uZXJVbnN1YnNjcmliZT8uKCk7XG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgU3BlZWNoU3RhdGUsXG4gIFN1Ym1pdHRlZEZlZWRiYWNrLFxufSBmcm9tIFwiLi4vcnVudGltZXMvY29yZS9UaHJlYWRSdW50aW1lQ29yZVwiO1xuaW1wb3J0IHtcbiAgVGhyZWFkTWVzc2FnZSxcbiAgVGhyZWFkQXNzaXN0YW50Q29udGVudFBhcnQsXG4gIFRocmVhZFVzZXJDb250ZW50UGFydCxcbiAgVW5zdWJzY3JpYmUsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHtcbiAgQ29udGVudFBhcnRTdGF0dXMsXG4gIFRvb2xDYWxsQ29udGVudFBhcnRTdGF0dXMsXG59IGZyb20gXCIuLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuaW1wb3J0IHsgZ2V0VGhyZWFkTWVzc2FnZVRleHQgfSBmcm9tIFwiLi4vdXRpbHMvZ2V0VGhyZWFkTWVzc2FnZVRleHRcIjtcbmltcG9ydCB7XG4gIEF0dGFjaG1lbnRSdW50aW1lLFxuICBBdHRhY2htZW50U3RhdGUsXG4gIE1lc3NhZ2VBdHRhY2htZW50UnVudGltZUltcGwsXG59IGZyb20gXCIuL0F0dGFjaG1lbnRSdW50aW1lXCI7XG5pbXBvcnQge1xuICBFZGl0Q29tcG9zZXJSdW50aW1lLFxuICBFZGl0Q29tcG9zZXJSdW50aW1lSW1wbCxcbn0gZnJvbSBcIi4vQ29tcG9zZXJSdW50aW1lXCI7XG5pbXBvcnQge1xuICBDb250ZW50UGFydFJ1bnRpbWUsXG4gIENvbnRlbnRQYXJ0UnVudGltZUltcGwsXG4gIENvbnRlbnRQYXJ0U3RhdGUsXG59IGZyb20gXCIuL0NvbnRlbnRQYXJ0UnVudGltZVwiO1xuaW1wb3J0IHsgTWVzc2FnZVJ1bnRpbWVQYXRoIH0gZnJvbSBcIi4vUGF0aFR5cGVzXCI7XG5pbXBvcnQgeyBUaHJlYWRSdW50aW1lQ29yZUJpbmRpbmcgfSBmcm9tIFwiLi9UaHJlYWRSdW50aW1lXCI7XG5pbXBvcnQgeyBOZXN0ZWRTdWJzY3JpcHRpb25TdWJqZWN0IH0gZnJvbSBcIi4vc3Vic2NyaWJhYmxlL05lc3RlZFN1YnNjcmlwdGlvblN1YmplY3RcIjtcbmltcG9ydCB7IFNLSVBfVVBEQVRFIH0gZnJvbSBcIi4vc3Vic2NyaWJhYmxlL1NLSVBfVVBEQVRFXCI7XG5pbXBvcnQgeyBTaGFsbG93TWVtb2l6ZVN1YmplY3QgfSBmcm9tIFwiLi9zdWJzY3JpYmFibGUvU2hhbGxvd01lbW9pemVTdWJqZWN0XCI7XG5pbXBvcnQgeyBTdWJzY3JpYmFibGVXaXRoU3RhdGUgfSBmcm9tIFwiLi9zdWJzY3JpYmFibGUvU3Vic2NyaWJhYmxlXCI7XG5cbmNvbnN0IENPTVBMRVRFX1NUQVRVUzogQ29udGVudFBhcnRTdGF0dXMgPSB7XG4gIHR5cGU6IFwiY29tcGxldGVcIixcbn07XG5cbmV4cG9ydCBjb25zdCB0b0NvbnRlbnRQYXJ0U3RhdHVzID0gKFxuICBtZXNzYWdlOiBUaHJlYWRNZXNzYWdlLFxuICBwYXJ0SW5kZXg6IG51bWJlcixcbiAgcGFydDogVGhyZWFkVXNlckNvbnRlbnRQYXJ0IHwgVGhyZWFkQXNzaXN0YW50Q29udGVudFBhcnQsXG4pOiBUb29sQ2FsbENvbnRlbnRQYXJ0U3RhdHVzID0+IHtcbiAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJhc3Npc3RhbnRcIikgcmV0dXJuIENPTVBMRVRFX1NUQVRVUztcblxuICBjb25zdCBpc0xhc3RQYXJ0ID0gcGFydEluZGV4ID09PSBNYXRoLm1heCgwLCBtZXNzYWdlLmNvbnRlbnQubGVuZ3RoIC0gMSk7XG4gIGlmIChwYXJ0LnR5cGUgIT09IFwidG9vbC1jYWxsXCIpIHtcbiAgICBpZiAoXG4gICAgICBcInJlYXNvblwiIGluIG1lc3NhZ2Uuc3RhdHVzICYmXG4gICAgICBtZXNzYWdlLnN0YXR1cy5yZWFzb24gPT09IFwidG9vbC1jYWxsc1wiICYmXG4gICAgICBpc0xhc3RQYXJ0XG4gICAgKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkVuY291bnRlcmVkIHVuZXhwZWN0ZWQgcmVxdWlyZXMtYWN0aW9uIHN0YXR1cy4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICk7XG5cbiAgICByZXR1cm4gaXNMYXN0UGFydCA/IChtZXNzYWdlLnN0YXR1cyBhcyBDb250ZW50UGFydFN0YXR1cykgOiBDT01QTEVURV9TVEFUVVM7XG4gIH1cblxuICBpZiAoISFwYXJ0LnJlc3VsdCkge1xuICAgIHJldHVybiBDT01QTEVURV9TVEFUVVM7XG4gIH1cblxuICByZXR1cm4gbWVzc2FnZS5zdGF0dXMgYXMgVG9vbENhbGxDb250ZW50UGFydFN0YXR1cztcbn07XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9DT05URU5UID0gT2JqZWN0LmZyZWV6ZSh7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlwiIH0pO1xuXG5jb25zdCBnZXRDb250ZW50UGFydFN0YXRlID0gKFxuICBtZXNzYWdlOiBNZXNzYWdlU3RhdGUsXG4gIHBhcnRJbmRleDogbnVtYmVyLFxuKTogQ29udGVudFBhcnRTdGF0ZSB8IFNLSVBfVVBEQVRFID0+IHtcbiAgbGV0IHBhcnQgPSBtZXNzYWdlLmNvbnRlbnRbcGFydEluZGV4XTtcbiAgaWYgKCFwYXJ0KSB7XG4gICAgLy8gZm9yIGVtcHR5IG1lc3NhZ2VzLCBzaG93IGFuIGVtcHR5IHRleHQgY29udGVudCBwYXJ0XG4gICAgaWYgKG1lc3NhZ2UuY29udGVudC5sZW5ndGggPT09IDAgJiYgcGFydEluZGV4ID09PSAwKSB7XG4gICAgICBwYXJ0ID0gRU1QVFlfQ09OVEVOVDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFNLSVBfVVBEQVRFO1xuICAgIH1cbiAgfSBlbHNlIGlmIChcbiAgICBtZXNzYWdlLmNvbnRlbnQubGVuZ3RoID09PSAxICYmXG4gICAgcGFydC50eXBlID09PSBcInRleHRcIiAmJlxuICAgIHBhcnQudGV4dC5sZW5ndGggPT09IDBcbiAgKSB7XG4gICAgLy8gZW5zdXJlIHJlZmVyZW5jZSBlcXVhbGl0eSBmb3IgZXF1aXZhbGVudCBlbXB0eSB0ZXh0IHBhcnRzXG4gICAgcGFydCA9IEVNUFRZX0NPTlRFTlQ7XG4gIH1cblxuICAvLyBpZiB0aGUgY29udGVudCBwYXJ0IGlzIHRoZSBzYW1lLCBkb24ndCB1cGRhdGVcbiAgY29uc3Qgc3RhdHVzID0gdG9Db250ZW50UGFydFN0YXR1cyhtZXNzYWdlLCBwYXJ0SW5kZXgsIHBhcnQpO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7IC4uLnBhcnQsIHBhcnQsIHN0YXR1cyB9KTtcbn07XG5cbmV4cG9ydCB0eXBlIE1lc3NhZ2VTdGF0ZSA9IFRocmVhZE1lc3NhZ2UgJiB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBZb3UgY2FuIGRpcmVjdGx5IGFjY2VzcyBtZXNzYWdlIGZpZWxkcyBpbiB0aGUgc3RhdGUuIFJlcGxhY2UgYC5tZXNzYWdlLmNvbnRlbnRgIHdpdGggYC5jb250ZW50YCBldGMuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgbWVzc2FnZTogVGhyZWFkTWVzc2FnZTtcbiAgcGFyZW50SWQ6IHN0cmluZyB8IG51bGw7XG4gIGlzTGFzdDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgYnJhbmNoTnVtYmVyYCBhbmQgYGJyYW5jaENvdW50YCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIGJyYW5jaGVzOiByZWFkb25seSBzdHJpbmdbXTtcblxuICBicmFuY2hOdW1iZXI6IG51bWJlcjtcbiAgYnJhbmNoQ291bnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVGhpcyBBUEkgaXMgc3RpbGwgdW5kZXIgYWN0aXZlIGRldmVsb3BtZW50IGFuZCBtaWdodCBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAqL1xuICBzcGVlY2g6IFNwZWVjaFN0YXRlIHwgdW5kZWZpbmVkO1xuICBzdWJtaXR0ZWRGZWVkYmFjazogU3VibWl0dGVkRmVlZGJhY2sgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlU3RhdGVCaW5kaW5nID0gU3Vic2NyaWJhYmxlV2l0aFN0YXRlPFxuICBNZXNzYWdlU3RhdGUsXG4gIE1lc3NhZ2VSdW50aW1lUGF0aFxuPjtcblxuZXhwb3J0IHR5cGUgTWVzc2FnZVJ1bnRpbWUgPSB7XG4gIHJlYWRvbmx5IHBhdGg6IE1lc3NhZ2VSdW50aW1lUGF0aDtcblxuICByZWFkb25seSBjb21wb3NlcjogRWRpdENvbXBvc2VyUnVudGltZTtcblxuICBnZXRTdGF0ZSgpOiBNZXNzYWdlU3RhdGU7XG4gIHJlbG9hZCgpOiB2b2lkO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVGhpcyBBUEkgaXMgc3RpbGwgdW5kZXIgYWN0aXZlIGRldmVsb3BtZW50IGFuZCBtaWdodCBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAqL1xuICBzcGVhaygpOiB2b2lkO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVGhpcyBBUEkgaXMgc3RpbGwgdW5kZXIgYWN0aXZlIGRldmVsb3BtZW50IGFuZCBtaWdodCBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAqL1xuICBzdG9wU3BlYWtpbmcoKTogdm9pZDtcbiAgc3VibWl0RmVlZGJhY2soeyB0eXBlIH06IHsgdHlwZTogXCJwb3NpdGl2ZVwiIHwgXCJuZWdhdGl2ZVwiIH0pOiB2b2lkO1xuICBzd2l0Y2hUb0JyYW5jaCh7XG4gICAgcG9zaXRpb24sXG4gICAgYnJhbmNoSWQsXG4gIH06IHtcbiAgICBwb3NpdGlvbj86IFwicHJldmlvdXNcIiB8IFwibmV4dFwiIHwgdW5kZWZpbmVkO1xuICAgIGJyYW5jaElkPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICB9KTogdm9pZDtcbiAgdW5zdGFibGVfZ2V0Q29weVRleHQoKTogc3RyaW5nO1xuXG4gIHN1YnNjcmliZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IFVuc3Vic2NyaWJlO1xuXG4gIGdldENvbnRlbnRQYXJ0QnlJbmRleChpZHg6IG51bWJlcik6IENvbnRlbnRQYXJ0UnVudGltZTtcbiAgZ2V0Q29udGVudFBhcnRCeVRvb2xDYWxsSWQodG9vbENhbGxJZDogc3RyaW5nKTogQ29udGVudFBhcnRSdW50aW1lO1xuXG4gIGdldEF0dGFjaG1lbnRCeUluZGV4KGlkeDogbnVtYmVyKTogQXR0YWNobWVudFJ1bnRpbWUgJiB7IHNvdXJjZTogXCJtZXNzYWdlXCIgfTtcbn07XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlUnVudGltZUltcGwgaW1wbGVtZW50cyBNZXNzYWdlUnVudGltZSB7XG4gIHB1YmxpYyBnZXQgcGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5wYXRoO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfY29yZTogTWVzc2FnZVN0YXRlQmluZGluZyxcbiAgICBwcml2YXRlIF90aHJlYWRCaW5kaW5nOiBUaHJlYWRSdW50aW1lQ29yZUJpbmRpbmcsXG4gICkge1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgRWRpdENvbXBvc2VyUnVudGltZUltcGwoXG4gICAgICBuZXcgTmVzdGVkU3Vic2NyaXB0aW9uU3ViamVjdCh7XG4gICAgICAgIHBhdGg6IHtcbiAgICAgICAgICAuLi50aGlzLnBhdGgsXG4gICAgICAgICAgcmVmOiB0aGlzLnBhdGgucmVmICsgYCR7dGhpcy5wYXRoLnJlZn0uY29tcG9zZXJgLFxuICAgICAgICAgIGNvbXBvc2VyU291cmNlOiBcImVkaXRcIixcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3RhdGU6ICgpID0+XG4gICAgICAgICAgdGhpcy5fdGhyZWFkQmluZGluZ1xuICAgICAgICAgICAgLmdldFN0YXRlKClcbiAgICAgICAgICAgIC5nZXRFZGl0Q29tcG9zZXIodGhpcy5fY29yZS5nZXRTdGF0ZSgpLmlkKSxcbiAgICAgICAgc3Vic2NyaWJlOiAoY2FsbGJhY2spID0+IHRoaXMuX3RocmVhZEJpbmRpbmcuc3Vic2NyaWJlKGNhbGxiYWNrKSxcbiAgICAgIH0pLFxuICAgICAgKCkgPT4gdGhpcy5fdGhyZWFkQmluZGluZy5nZXRTdGF0ZSgpLmJlZ2luRWRpdCh0aGlzLl9jb3JlLmdldFN0YXRlKCkuaWQpLFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgY29tcG9zZXI7XG5cbiAgcHVibGljIGdldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9jb3JlLmdldFN0YXRlKCk7XG4gIH1cblxuICBwdWJsaWMgcmVsb2FkKCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fY29yZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghc3RhdGUpIHRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICBpZiAoc3RhdGUucm9sZSAhPT0gXCJhc3Npc3RhbnRcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbiBvbmx5IHJlbG9hZCBhc3Npc3RhbnQgbWVzc2FnZXNcIik7XG5cbiAgICB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCkuc3RhcnRSdW4oc3RhdGUucGFyZW50SWQpO1xuICB9XG5cbiAgcHVibGljIHNwZWFrKCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fY29yZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghc3RhdGUpIHRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgaXMgbm90IGF2YWlsYWJsZVwiKTtcblxuICAgIHJldHVybiB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCkuc3BlYWsoc3RhdGUuaWQpO1xuICB9XG5cbiAgcHVibGljIHN0b3BTcGVha2luZygpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2NvcmUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoIXN0YXRlKSB0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlIGlzIG5vdCBhdmFpbGFibGVcIik7XG5cbiAgICBjb25zdCB0aHJlYWQgPSB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCk7XG4gICAgaWYgKHRocmVhZC5zcGVlY2g/Lm1lc3NhZ2VJZCA9PT0gc3RhdGUuaWQpIHtcbiAgICAgIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5zdG9wU3BlYWtpbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVzc2FnZSBpcyBub3QgYmVpbmcgc3Bva2VuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdWJtaXRGZWVkYmFjayh7IHR5cGUgfTogeyB0eXBlOiBcInBvc2l0aXZlXCIgfCBcIm5lZ2F0aXZlXCIgfSkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fY29yZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghc3RhdGUpIHRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgaXMgbm90IGF2YWlsYWJsZVwiKTtcblxuICAgIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5zdWJtaXRGZWVkYmFjayh7XG4gICAgICBtZXNzYWdlSWQ6IHN0YXRlLmlkLFxuICAgICAgdHlwZSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBzd2l0Y2hUb0JyYW5jaCh7XG4gICAgcG9zaXRpb24sXG4gICAgYnJhbmNoSWQsXG4gIH06IHtcbiAgICBwb3NpdGlvbj86IFwicHJldmlvdXNcIiB8IFwibmV4dFwiIHwgdW5kZWZpbmVkO1xuICAgIGJyYW5jaElkPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICB9KSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9jb3JlLmdldFN0YXRlKCk7XG4gICAgaWYgKCFzdGF0ZSkgdGhyb3cgbmV3IEVycm9yKFwiTWVzc2FnZSBpcyBub3QgYXZhaWxhYmxlXCIpO1xuXG4gICAgaWYgKGJyYW5jaElkICYmIHBvc2l0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYXkgbm90IHNwZWNpZnkgYm90aCBicmFuY2hJZCBhbmQgcG9zaXRpb25cIik7XG4gICAgfSBlbHNlIGlmICghYnJhbmNoSWQgJiYgIXBvc2l0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHNwZWNpZnkgZWl0aGVyIGJyYW5jaElkIG9yIHBvc2l0aW9uXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IHRocmVhZCA9IHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBicmFuY2hlcyA9IHRocmVhZC5nZXRCcmFuY2hlcyhzdGF0ZS5pZCk7XG4gICAgbGV0IHRhcmdldEJyYW5jaCA9IGJyYW5jaElkO1xuICAgIGlmIChwb3NpdGlvbiA9PT0gXCJwcmV2aW91c1wiKSB7XG4gICAgICB0YXJnZXRCcmFuY2ggPSBicmFuY2hlc1tzdGF0ZS5icmFuY2hOdW1iZXIgLSAyXTtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSBcIm5leHRcIikge1xuICAgICAgdGFyZ2V0QnJhbmNoID0gYnJhbmNoZXNbc3RhdGUuYnJhbmNoTnVtYmVyXTtcbiAgICB9XG4gICAgaWYgKCF0YXJnZXRCcmFuY2gpIHRocm93IG5ldyBFcnJvcihcIkJyYW5jaCBub3QgZm91bmRcIik7XG5cbiAgICB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCkuc3dpdGNoVG9CcmFuY2godGFyZ2V0QnJhbmNoKTtcbiAgfVxuXG4gIHB1YmxpYyB1bnN0YWJsZV9nZXRDb3B5VGV4dCgpIHtcbiAgICByZXR1cm4gZ2V0VGhyZWFkTWVzc2FnZVRleHQodGhpcy5nZXRTdGF0ZSgpKTtcbiAgfVxuXG4gIHB1YmxpYyBzdWJzY3JpYmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5zdWJzY3JpYmUoY2FsbGJhY2spO1xuICB9XG5cbiAgcHVibGljIGdldENvbnRlbnRQYXJ0QnlJbmRleChpZHg6IG51bWJlcikge1xuICAgIGlmIChpZHggPCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJDb250ZW50IHBhcnQgaW5kZXggbXVzdCBiZSA+PSAwXCIpO1xuICAgIHJldHVybiBuZXcgQ29udGVudFBhcnRSdW50aW1lSW1wbChcbiAgICAgIG5ldyBTaGFsbG93TWVtb2l6ZVN1YmplY3Qoe1xuICAgICAgICBwYXRoOiB7XG4gICAgICAgICAgLi4udGhpcy5wYXRoLFxuICAgICAgICAgIHJlZjogdGhpcy5wYXRoLnJlZiArIGAke3RoaXMucGF0aC5yZWZ9LmNvbnRlbnRbJHtpZHh9XWAsXG4gICAgICAgICAgY29udGVudFBhcnRTZWxlY3RvcjogeyB0eXBlOiBcImluZGV4XCIsIGluZGV4OiBpZHggfSxcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3RhdGU6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gZ2V0Q29udGVudFBhcnRTdGF0ZSh0aGlzLmdldFN0YXRlKCksIGlkeCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN1YnNjcmliZTogKGNhbGxiYWNrKSA9PiB0aGlzLl9jb3JlLnN1YnNjcmliZShjYWxsYmFjayksXG4gICAgICB9KSxcbiAgICAgIHRoaXMuX2NvcmUsXG4gICAgICB0aGlzLl90aHJlYWRCaW5kaW5nLFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29udGVudFBhcnRCeVRvb2xDYWxsSWQodG9vbENhbGxJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBDb250ZW50UGFydFJ1bnRpbWVJbXBsKFxuICAgICAgbmV3IFNoYWxsb3dNZW1vaXplU3ViamVjdCh7XG4gICAgICAgIHBhdGg6IHtcbiAgICAgICAgICAuLi50aGlzLnBhdGgsXG4gICAgICAgICAgcmVmOlxuICAgICAgICAgICAgdGhpcy5wYXRoLnJlZiArXG4gICAgICAgICAgICBgJHt0aGlzLnBhdGgucmVmfS5jb250ZW50W3Rvb2xDYWxsSWQ9JHtKU09OLnN0cmluZ2lmeSh0b29sQ2FsbElkKX1dYCxcbiAgICAgICAgICBjb250ZW50UGFydFNlbGVjdG9yOiB7IHR5cGU6IFwidG9vbENhbGxJZFwiLCB0b29sQ2FsbElkIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGdldFN0YXRlOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9jb3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgY29uc3QgaWR4ID0gc3RhdGUuY29udGVudC5maW5kSW5kZXgoXG4gICAgICAgICAgICAocGFydCkgPT5cbiAgICAgICAgICAgICAgcGFydC50eXBlID09PSBcInRvb2wtY2FsbFwiICYmIHBhcnQudG9vbENhbGxJZCA9PT0gdG9vbENhbGxJZCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpZHggPT09IC0xKSByZXR1cm4gU0tJUF9VUERBVEU7XG4gICAgICAgICAgcmV0dXJuIGdldENvbnRlbnRQYXJ0U3RhdGUoc3RhdGUsIGlkeCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN1YnNjcmliZTogKGNhbGxiYWNrKSA9PiB0aGlzLl9jb3JlLnN1YnNjcmliZShjYWxsYmFjayksXG4gICAgICB9KSxcbiAgICAgIHRoaXMuX2NvcmUsXG4gICAgICB0aGlzLl90aHJlYWRCaW5kaW5nLFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXR0YWNobWVudEJ5SW5kZXgoaWR4OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IE1lc3NhZ2VBdHRhY2htZW50UnVudGltZUltcGwoXG4gICAgICBuZXcgU2hhbGxvd01lbW9pemVTdWJqZWN0KHtcbiAgICAgICAgcGF0aDoge1xuICAgICAgICAgIC4uLnRoaXMucGF0aCxcbiAgICAgICAgICByZWY6IHRoaXMucGF0aC5yZWYgKyBgJHt0aGlzLnBhdGgucmVmfS5hdHRhY2htZW50c1ske2lkeH1dYCxcbiAgICAgICAgICBhdHRhY2htZW50U291cmNlOiBcIm1lc3NhZ2VcIixcbiAgICAgICAgICBhdHRhY2htZW50U2VsZWN0b3I6IHsgdHlwZTogXCJpbmRleFwiLCBpbmRleDogaWR4IH0sXG4gICAgICAgIH0sXG4gICAgICAgIGdldFN0YXRlOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgYXR0YWNobWVudHMgPSB0aGlzLmdldFN0YXRlKCkuYXR0YWNobWVudHM7XG4gICAgICAgICAgY29uc3QgYXR0YWNobWVudCA9IGF0dGFjaG1lbnRzPy5baWR4XTtcbiAgICAgICAgICBpZiAoIWF0dGFjaG1lbnQpIHJldHVybiBTS0lQX1VQREFURTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgYXR0YWNobWVudDogYXR0YWNobWVudCxcbiAgICAgICAgICAgIHNvdXJjZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgfSBzYXRpc2ZpZXMgQXR0YWNobWVudFN0YXRlICYgeyBzb3VyY2U6IFwibWVzc2FnZVwiIH07XG4gICAgICAgIH0sXG4gICAgICAgIHN1YnNjcmliZTogKGNhbGxiYWNrKSA9PiB0aGlzLl9jb3JlLnN1YnNjcmliZShjYWxsYmFjayksXG4gICAgICB9KSxcbiAgICApO1xuICB9XG59XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IENvbXBvbmVudFByb3BzV2l0aG91dFJlZiwgRkMgfSBmcm9tIFwicmVhY3RcIjtcblxudHlwZSBQcmltaXRpdmVTcGFuUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5zcGFuPjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBEZWZpbmUgYSBjdXN0b20gVGV4dCByZW5kZXJlciB2aWEgQ29udGVudFBhcnRQcmltaXRpdmVJblByb2dyZXNzIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgTWVzc2FnZVByaW1pdGl2ZUluUHJvZ3Jlc3NQcm9wcyA9IFByaW1pdGl2ZVNwYW5Qcm9wcztcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBEZWZpbmUgYSBjdXN0b20gVGV4dCByZW5kZXJlciB2aWEgQ29udGVudFBhcnRQcmltaXRpdmVJblByb2dyZXNzIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IGNvbnN0IE1lc3NhZ2VQcmltaXRpdmVJblByb2dyZXNzOiBGQzxcbiAgTWVzc2FnZVByaW1pdGl2ZUluUHJvZ3Jlc3NQcm9wc1xuPiA9ICgpID0+IHtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5NZXNzYWdlUHJpbWl0aXZlSW5Qcm9ncmVzcy5kaXNwbGF5TmFtZSA9IFwiTWVzc2FnZVByaW1pdGl2ZS5JblByb2dyZXNzXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50VHlwZSwgdHlwZSBGQywgbWVtbywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZSwgdXNlTWVzc2FnZVJ1bnRpbWUgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9BdHRhY2htZW50Q29udGV4dFwiO1xuaW1wb3J0IHsgQXR0YWNobWVudFJ1bnRpbWVQcm92aWRlciB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3Byb3ZpZGVycy9BdHRhY2htZW50UnVudGltZVByb3ZpZGVyXCI7XG5pbXBvcnQgeyBDb21wbGV0ZUF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYE1lc3NhZ2VQcmltaXRpdmUuQXR0YWNobWVudHMuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgTWVzc2FnZVByaW1pdGl2ZUF0dGFjaG1lbnRzUHJvcHMgPVxuICBNZXNzYWdlUHJpbWl0aXZlQXR0YWNobWVudHMuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgTWVzc2FnZVByaW1pdGl2ZUF0dGFjaG1lbnRzIHtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSB7XG4gICAgY29tcG9uZW50czpcbiAgICAgIHwge1xuICAgICAgICAgIEltYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBEb2N1bWVudD86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgRmlsZT86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgQXR0YWNobWVudD86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIHwgdW5kZWZpbmVkO1xuICB9O1xufVxuXG5jb25zdCBnZXRDb21wb25lbnQgPSAoXG4gIGNvbXBvbmVudHM6IE1lc3NhZ2VQcmltaXRpdmVBdHRhY2htZW50cy5Qcm9wc1tcImNvbXBvbmVudHNcIl0sXG4gIGF0dGFjaG1lbnQ6IENvbXBsZXRlQXR0YWNobWVudCxcbikgPT4ge1xuICBjb25zdCB0eXBlID0gYXR0YWNobWVudC50eXBlO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgIHJldHVybiBjb21wb25lbnRzPy5JbWFnZSA/PyBjb21wb25lbnRzPy5BdHRhY2htZW50O1xuICAgIGNhc2UgXCJkb2N1bWVudFwiOlxuICAgICAgcmV0dXJuIGNvbXBvbmVudHM/LkRvY3VtZW50ID8/IGNvbXBvbmVudHM/LkF0dGFjaG1lbnQ7XG4gICAgY2FzZSBcImZpbGVcIjpcbiAgICAgIHJldHVybiBjb21wb25lbnRzPy5GaWxlID8/IGNvbXBvbmVudHM/LkF0dGFjaG1lbnQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gdHlwZTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBhdHRhY2htZW50IHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgfVxufTtcblxuY29uc3QgQXR0YWNobWVudENvbXBvbmVudDogRkM8e1xuICBjb21wb25lbnRzOiBNZXNzYWdlUHJpbWl0aXZlQXR0YWNobWVudHMuUHJvcHNbXCJjb21wb25lbnRzXCJdO1xufT4gPSAoeyBjb21wb25lbnRzIH0pID0+IHtcbiAgY29uc3QgQ29tcG9uZW50ID0gdXNlTWVzc2FnZUF0dGFjaG1lbnQoKGEpID0+XG4gICAgZ2V0Q29tcG9uZW50KGNvbXBvbmVudHMsIGEuYXR0YWNobWVudCksXG4gICk7XG5cbiAgaWYgKCFDb21wb25lbnQpIHJldHVybiBudWxsO1xuICByZXR1cm4gPENvbXBvbmVudCAvPjtcbn07XG5cbmNvbnN0IE1lc3NhZ2VBdHRhY2htZW50SW1wbDogRkM8XG4gIE1lc3NhZ2VQcmltaXRpdmVBdHRhY2htZW50cy5Qcm9wcyAmIHsgYXR0YWNobWVudEluZGV4OiBudW1iZXIgfVxuPiA9ICh7IGNvbXBvbmVudHMsIGF0dGFjaG1lbnRJbmRleCB9KSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2VSdW50aW1lID0gdXNlTWVzc2FnZVJ1bnRpbWUoKTtcbiAgY29uc3QgcnVudGltZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gbWVzc2FnZVJ1bnRpbWUuZ2V0QXR0YWNobWVudEJ5SW5kZXgoYXR0YWNobWVudEluZGV4KSxcbiAgICBbbWVzc2FnZVJ1bnRpbWUsIGF0dGFjaG1lbnRJbmRleF0sXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8QXR0YWNobWVudFJ1bnRpbWVQcm92aWRlciBydW50aW1lPXtydW50aW1lfT5cbiAgICAgIDxBdHRhY2htZW50Q29tcG9uZW50IGNvbXBvbmVudHM9e2NvbXBvbmVudHN9IC8+XG4gICAgPC9BdHRhY2htZW50UnVudGltZVByb3ZpZGVyPlxuICApO1xufTtcblxuY29uc3QgTWVzc2FnZUF0dGFjaG1lbnQgPSBtZW1vKFxuICBNZXNzYWdlQXR0YWNobWVudEltcGwsXG4gIChwcmV2LCBuZXh0KSA9PlxuICAgIHByZXYuYXR0YWNobWVudEluZGV4ID09PSBuZXh0LmF0dGFjaG1lbnRJbmRleCAmJlxuICAgIHByZXYuY29tcG9uZW50cz8uSW1hZ2UgPT09IG5leHQuY29tcG9uZW50cz8uSW1hZ2UgJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LkRvY3VtZW50ID09PSBuZXh0LmNvbXBvbmVudHM/LkRvY3VtZW50ICYmXG4gICAgcHJldi5jb21wb25lbnRzPy5GaWxlID09PSBuZXh0LmNvbXBvbmVudHM/LkZpbGUgJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LkF0dGFjaG1lbnQgPT09IG5leHQuY29tcG9uZW50cz8uQXR0YWNobWVudCxcbik7XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlUHJpbWl0aXZlQXR0YWNobWVudHM6IEZDPFxuICBNZXNzYWdlUHJpbWl0aXZlQXR0YWNobWVudHMuUHJvcHNcbj4gPSAoeyBjb21wb25lbnRzIH0pID0+IHtcbiAgY29uc3QgYXR0YWNobWVudHNDb3VudCA9IHVzZU1lc3NhZ2UoKHsgbWVzc2FnZSB9KSA9PiB7XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJ1c2VyXCIpIHJldHVybiAwO1xuICAgIHJldHVybiBtZXNzYWdlLmF0dGFjaG1lbnRzLmxlbmd0aDtcbiAgfSk7XG5cbiAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IGF0dGFjaG1lbnRzQ291bnQgfSwgKF8sIGluZGV4KSA9PiAoXG4gICAgPE1lc3NhZ2VBdHRhY2htZW50XG4gICAgICBrZXk9e2luZGV4fVxuICAgICAgYXR0YWNobWVudEluZGV4PXtpbmRleH1cbiAgICAgIGNvbXBvbmVudHM9e2NvbXBvbmVudHN9XG4gICAgLz5cbiAgKSk7XG59O1xuXG5NZXNzYWdlUHJpbWl0aXZlQXR0YWNobWVudHMuZGlzcGxheU5hbWUgPSBcIk1lc3NhZ2VQcmltaXRpdmUuQXR0YWNobWVudHNcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQge1xuICB0eXBlIEZDLFxuICB0eXBlIFByb3BzV2l0aENoaWxkcmVuLFxuICB1c2VFZmZlY3QsXG4gIHVzZU1lbW8sXG4gIHVzZVN0YXRlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgeyBBdHRhY2htZW50Q29udGV4dCB9IGZyb20gXCIuLi9yZWFjdC9BdHRhY2htZW50Q29udGV4dFwiO1xuaW1wb3J0IHsgd3JpdGFibGVTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBBdHRhY2htZW50UnVudGltZSB9IGZyb20gXCIuLi8uLi9hcGkvQXR0YWNobWVudFJ1bnRpbWVcIjtcblxudHlwZSBBdHRhY2htZW50UnVudGltZVByb3ZpZGVyUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIHJ1bnRpbWU6IEF0dGFjaG1lbnRSdW50aW1lO1xufT47XG5cbmNvbnN0IHVzZUF0dGFjaG1lbnRSdW50aW1lU3RvcmUgPSAocnVudGltZTogQXR0YWNobWVudFJ1bnRpbWUpID0+IHtcbiAgY29uc3QgW3N0b3JlXSA9IHVzZVN0YXRlKCgpID0+IGNyZWF0ZSgoKSA9PiBydW50aW1lKSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3cml0YWJsZVN0b3JlKHN0b3JlKS5zZXRTdGF0ZShydW50aW1lLCB0cnVlKTtcbiAgfSwgW3J1bnRpbWUsIHN0b3JlXSk7XG5cbiAgcmV0dXJuIHN0b3JlO1xufTtcbmNvbnN0IHVzZUF0dGFjaG1lbnRTdG9yZSA9IChydW50aW1lOiBBdHRhY2htZW50UnVudGltZSkgPT4ge1xuICBjb25zdCBbc3RvcmVdID0gdXNlU3RhdGUoKCkgPT4gY3JlYXRlKCgpID0+IHJ1bnRpbWUuZ2V0U3RhdGUoKSkpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZVN0YXRlID0gKCkgPT5cbiAgICAgIHdyaXRhYmxlU3RvcmUoc3RvcmUpLnNldFN0YXRlKHJ1bnRpbWUuZ2V0U3RhdGUoKSwgdHJ1ZSk7XG4gICAgdXBkYXRlU3RhdGUoKTtcbiAgICByZXR1cm4gcnVudGltZS5zdWJzY3JpYmUodXBkYXRlU3RhdGUpO1xuICB9LCBbcnVudGltZSwgc3RvcmVdKTtcblxuICByZXR1cm4gc3RvcmU7XG59O1xuXG5leHBvcnQgY29uc3QgQXR0YWNobWVudFJ1bnRpbWVQcm92aWRlcjogRkM8QXR0YWNobWVudFJ1bnRpbWVQcm92aWRlclByb3BzPiA9ICh7XG4gIHJ1bnRpbWUsXG4gIGNoaWxkcmVuLFxufSkgPT4ge1xuICBjb25zdCB1c2VBdHRhY2htZW50UnVudGltZSA9IHVzZUF0dGFjaG1lbnRSdW50aW1lU3RvcmUocnVudGltZSk7XG4gIGNvbnN0IHVzZUF0dGFjaG1lbnQgPSB1c2VBdHRhY2htZW50U3RvcmUocnVudGltZSk7XG4gIGNvbnN0IHNvdXJjZSA9IHVzZUF0dGFjaG1lbnQoKHMpID0+IHMuc291cmNlKTtcbiAgY29uc3QgY29udGV4dCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzb3VyY2UsXG4gICAgICB1c2VBdHRhY2htZW50UnVudGltZSxcbiAgICAgIHVzZUF0dGFjaG1lbnQsXG4gICAgfTtcbiAgfSwgW3VzZUF0dGFjaG1lbnRSdW50aW1lLCB1c2VBdHRhY2htZW50XSk7XG5cbiAgcmV0dXJuIChcbiAgICA8QXR0YWNobWVudENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQXR0YWNobWVudENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuIiwiZXhwb3J0IHsgQ29tcG9zZXJQcmltaXRpdmVSb290IGFzIFJvb3QgfSBmcm9tIFwiLi9Db21wb3NlclJvb3RcIjtcbmV4cG9ydCB7IENvbXBvc2VyUHJpbWl0aXZlSW5wdXQgYXMgSW5wdXQgfSBmcm9tIFwiLi9Db21wb3NlcklucHV0XCI7XG5leHBvcnQgeyBDb21wb3NlclByaW1pdGl2ZVNlbmQgYXMgU2VuZCB9IGZyb20gXCIuL0NvbXBvc2VyU2VuZFwiO1xuZXhwb3J0IHsgQ29tcG9zZXJQcmltaXRpdmVDYW5jZWwgYXMgQ2FuY2VsIH0gZnJvbSBcIi4vQ29tcG9zZXJDYW5jZWxcIjtcbmV4cG9ydCB7IENvbXBvc2VyUHJpbWl0aXZlQWRkQXR0YWNobWVudCBhcyBBZGRBdHRhY2htZW50IH0gZnJvbSBcIi4vQ29tcG9zZXJBZGRBdHRhY2htZW50XCI7XG5leHBvcnQgeyBDb21wb3NlclByaW1pdGl2ZUF0dGFjaG1lbnRzIGFzIEF0dGFjaG1lbnRzIH0gZnJvbSBcIi4vQ29tcG9zZXJBdHRhY2htZW50c1wiO1xuZXhwb3J0IHsgQ29tcG9zZXJQcmltaXRpdmVJZiBhcyBJZiB9IGZyb20gXCIuL0NvbXBvc2VySWZcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHtcbiAgdHlwZSBFbGVtZW50UmVmLFxuICB0eXBlIEZvcm1FdmVudCxcbiAgZm9yd2FyZFJlZixcbiAgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VyU2VuZCB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3NcIjtcblxuZXhwb3J0IHR5cGUgQ29tcG9zZXJQcmltaXRpdmVSb290UHJvcHMgPSBDb21wb3NlclByaW1pdGl2ZVJvb3QuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29tcG9zZXJQcmltaXRpdmVSb290IHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEVsZW1lbnRSZWY8dHlwZW9mIFByaW1pdGl2ZS5mb3JtPjtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5mb3JtPjtcbn1cblxuZXhwb3J0IGNvbnN0IENvbXBvc2VyUHJpbWl0aXZlUm9vdCA9IGZvcndhcmRSZWY8XG4gIENvbXBvc2VyUHJpbWl0aXZlUm9vdC5FbGVtZW50LFxuICBDb21wb3NlclByaW1pdGl2ZVJvb3QuUHJvcHNcbj4oKHsgb25TdWJtaXQsIC4uLnJlc3QgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHNlbmQgPSB1c2VDb21wb3NlclNlbmQoKTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoZTogRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKCFzZW5kKSByZXR1cm47XG4gICAgc2VuZCgpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFByaW1pdGl2ZS5mb3JtXG4gICAgICB7Li4ucmVzdH1cbiAgICAgIHJlZj17Zm9yd2FyZGVkUmVmfVxuICAgICAgb25TdWJtaXQ9e2NvbXBvc2VFdmVudEhhbmRsZXJzKG9uU3VibWl0LCBoYW5kbGVTdWJtaXQpfVxuICAgIC8+XG4gICk7XG59KTtcblxuQ29tcG9zZXJQcmltaXRpdmVSb290LmRpc3BsYXlOYW1lID0gXCJDb21wb3NlclByaW1pdGl2ZS5Sb290XCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgY29tcG9zZUV2ZW50SGFuZGxlcnMgfSBmcm9tIFwiQHJhZGl4LXVpL3ByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnNcIjtcbmltcG9ydCB7IFNsb3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIjtcbmltcG9ydCB7XG4gIHR5cGUgS2V5Ym9hcmRFdmVudCxcbiAgZm9yd2FyZFJlZixcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZUVmZmVjdCxcbiAgdXNlUmVmLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBUZXh0YXJlYUF1dG9zaXplLCB7XG4gIHR5cGUgVGV4dGFyZWFBdXRvc2l6ZVByb3BzLFxufSBmcm9tIFwicmVhY3QtdGV4dGFyZWEtYXV0b3NpemVcIjtcbmltcG9ydCB7XG4gIHVzZUNvbXBvc2VyLFxuICB1c2VDb21wb3NlclJ1bnRpbWUsXG59IGZyb20gXCIuLi8uLi9jb250ZXh0L3JlYWN0L0NvbXBvc2VyQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkLCB1c2VUaHJlYWRSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlRXNjYXBlS2V5ZG93biB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWVzY2FwZS1rZXlkb3duXCI7XG5pbXBvcnQgeyB1c2VPblNjcm9sbFRvQm90dG9tIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2hvb2tzL3VzZU9uU2Nyb2xsVG9Cb3R0b21cIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYENvbXBvc2VyUHJpbWl0aXZlLklucHV0LlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIENvbXBvc2VyUHJpbWl0aXZlSW5wdXRQcm9wcyA9IENvbXBvc2VyUHJpbWl0aXZlSW5wdXQuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29tcG9zZXJQcmltaXRpdmVJbnB1dCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFRleHRhcmVhQXV0b3NpemVQcm9wcyAmIHtcbiAgICBhc0NoaWxkPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICBzdWJtaXRPbkVudGVyPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICBjYW5jZWxPbkVzY2FwZT86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gICAgdW5zdGFibGVfZm9jdXNPblJ1blN0YXJ0PzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICB1bnN0YWJsZV9mb2N1c09uU2Nyb2xsVG9Cb3R0b20/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAgIHVuc3RhYmxlX2ZvY3VzT25UaHJlYWRTd2l0Y2hlZD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBDb21wb3NlclByaW1pdGl2ZUlucHV0ID0gZm9yd2FyZFJlZjxcbiAgQ29tcG9zZXJQcmltaXRpdmVJbnB1dC5FbGVtZW50LFxuICBDb21wb3NlclByaW1pdGl2ZUlucHV0LlByb3BzXG4+KFxuICAoXG4gICAge1xuICAgICAgYXV0b0ZvY3VzID0gZmFsc2UsXG4gICAgICBhc0NoaWxkLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkUHJvcCxcbiAgICAgIG9uQ2hhbmdlLFxuICAgICAgb25LZXlEb3duLFxuICAgICAgc3VibWl0T25FbnRlciA9IHRydWUsXG4gICAgICBjYW5jZWxPbkVzY2FwZSA9IHRydWUsXG4gICAgICB1bnN0YWJsZV9mb2N1c09uUnVuU3RhcnQgPSB0cnVlLFxuICAgICAgdW5zdGFibGVfZm9jdXNPblNjcm9sbFRvQm90dG9tID0gdHJ1ZSxcbiAgICAgIHVuc3RhYmxlX2ZvY3VzT25UaHJlYWRTd2l0Y2hlZCA9IHRydWUsXG4gICAgICAuLi5yZXN0XG4gICAgfSxcbiAgICBmb3J3YXJkZWRSZWYsXG4gICkgPT4ge1xuICAgIGNvbnN0IHRocmVhZFJ1bnRpbWUgPSB1c2VUaHJlYWRSdW50aW1lKCk7XG4gICAgY29uc3QgY29tcG9zZXJSdW50aW1lID0gdXNlQ29tcG9zZXJSdW50aW1lKCk7XG5cbiAgICBjb25zdCB2YWx1ZSA9IHVzZUNvbXBvc2VyKChjKSA9PiB7XG4gICAgICBpZiAoIWMuaXNFZGl0aW5nKSByZXR1cm4gXCJcIjtcbiAgICAgIHJldHVybiBjLnRleHQ7XG4gICAgfSk7XG5cbiAgICBjb25zdCBDb21wb25lbnQgPSBhc0NoaWxkID8gU2xvdCA6IFRleHRhcmVhQXV0b3NpemU7XG5cbiAgICBjb25zdCBpc0Rpc2FibGVkID0gdXNlVGhyZWFkKCh0KSA9PiB0LmlzRGlzYWJsZWQpID8/IGRpc2FibGVkUHJvcCA/PyBmYWxzZTtcbiAgICBjb25zdCB0ZXh0YXJlYVJlZiA9IHVzZVJlZjxIVE1MVGV4dEFyZWFFbGVtZW50PihudWxsKTtcbiAgICBjb25zdCByZWYgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCB0ZXh0YXJlYVJlZik7XG5cbiAgICB1c2VFc2NhcGVLZXlkb3duKChlKSA9PiB7XG4gICAgICBpZiAoIWNhbmNlbE9uRXNjYXBlKSByZXR1cm47XG5cbiAgICAgIGlmIChjb21wb3NlclJ1bnRpbWUuZ2V0U3RhdGUoKS5jYW5DYW5jZWwpIHtcbiAgICAgICAgY29tcG9zZXJSdW50aW1lLmNhbmNlbCgpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBoYW5kbGVLZXlQcmVzcyA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBpZiAoaXNEaXNhYmxlZCB8fCAhc3VibWl0T25FbnRlcikgcmV0dXJuO1xuXG4gICAgICAvLyBpZ25vcmUgSU1FIGNvbXBvc2l0aW9uIGV2ZW50c1xuICAgICAgaWYgKGUubmF0aXZlRXZlbnQuaXNDb21wb3NpbmcpIHJldHVybjtcblxuICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgZS5zaGlmdEtleSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgeyBpc1J1bm5pbmcgfSA9IHRocmVhZFJ1bnRpbWUuZ2V0U3RhdGUoKTtcblxuICAgICAgICBpZiAoIWlzUnVubmluZykge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIHRleHRhcmVhUmVmLmN1cnJlbnQ/LmNsb3Nlc3QoXCJmb3JtXCIpPy5yZXF1ZXN0U3VibWl0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYXV0b0ZvY3VzRW5hYmxlZCA9IGF1dG9Gb2N1cyAmJiAhaXNEaXNhYmxlZDtcbiAgICBjb25zdCBmb2N1cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gdGV4dGFyZWFSZWYuY3VycmVudDtcbiAgICAgIGlmICghdGV4dGFyZWEgfHwgIWF1dG9Gb2N1c0VuYWJsZWQpIHJldHVybjtcblxuICAgICAgdGV4dGFyZWEuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgdGV4dGFyZWEuc2V0U2VsZWN0aW9uUmFuZ2UoXG4gICAgICAgIHRleHRhcmVhUmVmLmN1cnJlbnQudmFsdWUubGVuZ3RoLFxuICAgICAgICB0ZXh0YXJlYVJlZi5jdXJyZW50LnZhbHVlLmxlbmd0aCxcbiAgICAgICk7XG4gICAgfSwgW2F1dG9Gb2N1c0VuYWJsZWRdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiBmb2N1cygpLCBbZm9jdXNdKTtcblxuICAgIHVzZU9uU2Nyb2xsVG9Cb3R0b20oKCkgPT4ge1xuICAgICAgaWYgKGNvbXBvc2VyUnVudGltZS50eXBlID09PSBcInRocmVhZFwiICYmIHVuc3RhYmxlX2ZvY3VzT25TY3JvbGxUb0JvdHRvbSkge1xuICAgICAgICBmb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjb21wb3NlclJ1bnRpbWUudHlwZSAhPT0gXCJ0aHJlYWRcIiB8fCAhdW5zdGFibGVfZm9jdXNPblJ1blN0YXJ0KVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm4gdGhyZWFkUnVudGltZS51bnN0YWJsZV9vbihcInJ1bi1zdGFydFwiLCBmb2N1cyk7XG4gICAgfSwgW3Vuc3RhYmxlX2ZvY3VzT25SdW5TdGFydF0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjb21wb3NlclJ1bnRpbWUudHlwZSAhPT0gXCJ0aHJlYWRcIiB8fCAhdW5zdGFibGVfZm9jdXNPblRocmVhZFN3aXRjaGVkKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm4gdGhyZWFkUnVudGltZS51bnN0YWJsZV9vbihcInN3aXRjaGVkLXRvXCIsIGZvY3VzKTtcbiAgICB9LCBbdW5zdGFibGVfZm9jdXNPblRocmVhZFN3aXRjaGVkXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvbmVudFxuICAgICAgICBuYW1lPVwiaW5wdXRcIlxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIHsuLi5yZXN0fVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgZGlzYWJsZWQ9e2lzRGlzYWJsZWR9XG4gICAgICAgIG9uQ2hhbmdlPXtjb21wb3NlRXZlbnRIYW5kbGVycyhvbkNoYW5nZSwgKGUpID0+IHtcbiAgICAgICAgICBpZiAoIWNvbXBvc2VyUnVudGltZS5nZXRTdGF0ZSgpLmlzRWRpdGluZykgcmV0dXJuO1xuICAgICAgICAgIHJldHVybiBjb21wb3NlclJ1bnRpbWUuc2V0VGV4dChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH0pfVxuICAgICAgICBvbktleURvd249e2NvbXBvc2VFdmVudEhhbmRsZXJzKG9uS2V5RG93biwgaGFuZGxlS2V5UHJlc3MpfVxuICAgICAgLz5cbiAgICApO1xuICB9LFxuKTtcblxuQ29tcG9zZXJQcmltaXRpdmVJbnB1dC5kaXNwbGF5TmFtZSA9IFwiQ29tcG9zZXJQcmltaXRpdmUuSW5wdXRcIjtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrUmVmIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC11c2UtY2FsbGJhY2stcmVmXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVRocmVhZFZpZXdwb3J0IH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuXG5leHBvcnQgY29uc3QgdXNlT25TY3JvbGxUb0JvdHRvbSA9IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4ge1xuICBjb25zdCBjYWxsYmFja1JlZiA9IHVzZUNhbGxiYWNrUmVmKGNhbGxiYWNrKTtcbiAgY29uc3Qgb25TY3JvbGxUb0JvdHRvbSA9IHVzZVRocmVhZFZpZXdwb3J0KCh2cCkgPT4gdnAub25TY3JvbGxUb0JvdHRvbSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gb25TY3JvbGxUb0JvdHRvbShjYWxsYmFja1JlZik7XG4gIH0sIFtvblNjcm9sbFRvQm90dG9tLCBjYWxsYmFja1JlZl0pO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQge1xuICBBY3Rpb25CdXR0b25FbGVtZW50LFxuICBBY3Rpb25CdXR0b25Qcm9wcyxcbiAgY3JlYXRlQWN0aW9uQnV0dG9uLFxufSBmcm9tIFwiLi4vLi4vdXRpbHMvY3JlYXRlQWN0aW9uQnV0dG9uXCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlclNlbmQgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBDb21wb3NlclByaW1pdGl2ZS5TZW5kLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIENvbXBvc2VyUHJpbWl0aXZlU2VuZFByb3BzID0gQ29tcG9zZXJQcmltaXRpdmVTZW5kLlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIENvbXBvc2VyUHJpbWl0aXZlU2VuZCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBBY3Rpb25CdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPHR5cGVvZiB1c2VDb21wb3NlclNlbmQ+O1xufVxuXG5leHBvcnQgY29uc3QgQ29tcG9zZXJQcmltaXRpdmVTZW5kID0gY3JlYXRlQWN0aW9uQnV0dG9uKFxuICBcIkNvbXBvc2VyUHJpbWl0aXZlLlNlbmRcIixcbiAgdXNlQ29tcG9zZXJTZW5kXG4pO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIEFjdGlvbkJ1dHRvbkVsZW1lbnQsXG4gIEFjdGlvbkJ1dHRvblByb3BzLFxuICBjcmVhdGVBY3Rpb25CdXR0b24sXG59IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VyQ2FuY2VsIH0gZnJvbSBcIi4uLy4uL3ByaW1pdGl2ZS1ob29rcy9jb21wb3Nlci91c2VDb21wb3NlckNhbmNlbFwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgQ29tcG9zZXJQcmltaXRpdmUuQ2FuY2VsLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIENvbXBvc2VyUHJpbWl0aXZlQ2FuY2VsUHJvcHMgPSBDb21wb3NlclByaW1pdGl2ZUNhbmNlbC5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBDb21wb3NlclByaW1pdGl2ZUNhbmNlbCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBBY3Rpb25CdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPHR5cGVvZiB1c2VDb21wb3NlckNhbmNlbD47XG59XG5cbmV4cG9ydCBjb25zdCBDb21wb3NlclByaW1pdGl2ZUNhbmNlbCA9IGNyZWF0ZUFjdGlvbkJ1dHRvbihcbiAgXCJDb21wb3NlclByaW1pdGl2ZS5DYW5jZWxcIixcbiAgdXNlQ29tcG9zZXJDYW5jZWwsXG4pO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIEFjdGlvbkJ1dHRvbkVsZW1lbnQsXG4gIEFjdGlvbkJ1dHRvblByb3BzLFxuICBjcmVhdGVBY3Rpb25CdXR0b24sXG59IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VyQWRkQXR0YWNobWVudCB9IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvY29tcG9zZXJcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYENvbXBvc2VyUHJpbWl0aXZlLkFkZEF0dGFjaG1lbnQuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgQ29tcG9zZXJQcmltaXRpdmVBZGRBdHRhY2htZW50UHJvcHMgPSBDb21wb3NlclByaW1pdGl2ZUFkZEF0dGFjaG1lbnQuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29tcG9zZXJQcmltaXRpdmVBZGRBdHRhY2htZW50IHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEFjdGlvbkJ1dHRvbkVsZW1lbnQ7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gQWN0aW9uQnV0dG9uUHJvcHM8dHlwZW9mIHVzZUNvbXBvc2VyQWRkQXR0YWNobWVudD47XG59XG5cbmV4cG9ydCBjb25zdCBDb21wb3NlclByaW1pdGl2ZUFkZEF0dGFjaG1lbnQgPSBjcmVhdGVBY3Rpb25CdXR0b24oXG4gIFwiQ29tcG9zZXJQcmltaXRpdmUuQWRkQXR0YWNobWVudFwiLFxuICB1c2VDb21wb3NlckFkZEF0dGFjaG1lbnRcbik7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50VHlwZSwgdHlwZSBGQywgbWVtbywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQXR0YWNobWVudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZXIsIHVzZUNvbXBvc2VyUnVudGltZSB9IGZyb20gXCIuLi8uLi9jb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb21wb3NlckF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9yZWFjdC9BdHRhY2htZW50Q29udGV4dFwiO1xuaW1wb3J0IHsgQXR0YWNobWVudFJ1bnRpbWVQcm92aWRlciB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3Byb3ZpZGVycy9BdHRhY2htZW50UnVudGltZVByb3ZpZGVyXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBDb21wb3NlclByaW1pdGl2ZS5BdHRhY2htZW50cy5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBDb21wb3NlclByaW1pdGl2ZUF0dGFjaG1lbnRzUHJvcHMgPVxuICBDb21wb3NlclByaW1pdGl2ZUF0dGFjaG1lbnRzLlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIENvbXBvc2VyUHJpbWl0aXZlQXR0YWNobWVudHMge1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IHtcbiAgICBjb21wb25lbnRzOlxuICAgICAgfCB7XG4gICAgICAgICAgSW1hZ2U/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIERvY3VtZW50PzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBGaWxlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBBdHRhY2htZW50PzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfCB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmNvbnN0IGdldENvbXBvbmVudCA9IChcbiAgY29tcG9uZW50czogQ29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50cy5Qcm9wc1tcImNvbXBvbmVudHNcIl0sXG4gIGF0dGFjaG1lbnQ6IEF0dGFjaG1lbnQsXG4pID0+IHtcbiAgY29uc3QgdHlwZSA9IGF0dGFjaG1lbnQudHlwZTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImltYWdlXCI6XG4gICAgICByZXR1cm4gY29tcG9uZW50cz8uSW1hZ2UgPz8gY29tcG9uZW50cz8uQXR0YWNobWVudDtcbiAgICBjYXNlIFwiZG9jdW1lbnRcIjpcbiAgICAgIHJldHVybiBjb21wb25lbnRzPy5Eb2N1bWVudCA/PyBjb21wb25lbnRzPy5BdHRhY2htZW50O1xuICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICByZXR1cm4gY29tcG9uZW50cz8uRmlsZSA/PyBjb21wb25lbnRzPy5BdHRhY2htZW50O1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHR5cGU7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gYXR0YWNobWVudCB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gIH1cbn07XG5cbmNvbnN0IEF0dGFjaG1lbnRDb21wb25lbnQ6IEZDPHtcbiAgY29tcG9uZW50czogQ29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50cy5Qcm9wc1tcImNvbXBvbmVudHNcIl07XG59PiA9ICh7IGNvbXBvbmVudHMgfSkgPT4ge1xuICBjb25zdCBDb21wb25lbnQgPSB1c2VUaHJlYWRDb21wb3NlckF0dGFjaG1lbnQoKGEpID0+XG4gICAgZ2V0Q29tcG9uZW50KGNvbXBvbmVudHMsIGEpLFxuICApO1xuXG4gIGlmICghQ29tcG9uZW50KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIDxDb21wb25lbnQgLz47XG59O1xuXG5jb25zdCBDb21wb3NlckF0dGFjaG1lbnRJbXBsOiBGQzxcbiAgQ29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50cy5Qcm9wcyAmIHsgYXR0YWNobWVudEluZGV4OiBudW1iZXIgfVxuPiA9ICh7IGNvbXBvbmVudHMsIGF0dGFjaG1lbnRJbmRleCB9KSA9PiB7XG4gIGNvbnN0IGNvbXBvc2VyUnVudGltZSA9IHVzZUNvbXBvc2VyUnVudGltZSgpO1xuICBjb25zdCBydW50aW1lID0gdXNlTWVtbyhcbiAgICAoKSA9PiBjb21wb3NlclJ1bnRpbWUuZ2V0QXR0YWNobWVudEJ5SW5kZXgoYXR0YWNobWVudEluZGV4KSxcbiAgICBbY29tcG9zZXJSdW50aW1lLCBhdHRhY2htZW50SW5kZXhdLFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPEF0dGFjaG1lbnRSdW50aW1lUHJvdmlkZXIgcnVudGltZT17cnVudGltZX0+XG4gICAgICA8QXR0YWNobWVudENvbXBvbmVudCBjb21wb25lbnRzPXtjb21wb25lbnRzfSAvPlxuICAgIDwvQXR0YWNobWVudFJ1bnRpbWVQcm92aWRlcj5cbiAgKTtcbn07XG5cbmNvbnN0IENvbXBvc2VyQXR0YWNobWVudCA9IG1lbW8oXG4gIENvbXBvc2VyQXR0YWNobWVudEltcGwsXG4gIChwcmV2LCBuZXh0KSA9PlxuICAgIHByZXYuYXR0YWNobWVudEluZGV4ID09PSBuZXh0LmF0dGFjaG1lbnRJbmRleCAmJlxuICAgIHByZXYuY29tcG9uZW50cz8uSW1hZ2UgPT09IG5leHQuY29tcG9uZW50cz8uSW1hZ2UgJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LkRvY3VtZW50ID09PSBuZXh0LmNvbXBvbmVudHM/LkRvY3VtZW50ICYmXG4gICAgcHJldi5jb21wb25lbnRzPy5GaWxlID09PSBuZXh0LmNvbXBvbmVudHM/LkZpbGUgJiZcbiAgICBwcmV2LmNvbXBvbmVudHM/LkF0dGFjaG1lbnQgPT09IG5leHQuY29tcG9uZW50cz8uQXR0YWNobWVudCxcbik7XG5cbmV4cG9ydCBjb25zdCBDb21wb3NlclByaW1pdGl2ZUF0dGFjaG1lbnRzOiBGQzxcbiAgQ29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50cy5Qcm9wc1xuPiA9ICh7IGNvbXBvbmVudHMgfSkgPT4ge1xuICBjb25zdCBhdHRhY2htZW50c0NvdW50ID0gdXNlQ29tcG9zZXIoKHMpID0+IHMuYXR0YWNobWVudHMubGVuZ3RoKTtcblxuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogYXR0YWNobWVudHNDb3VudCB9LCAoXywgaW5kZXgpID0+IChcbiAgICA8Q29tcG9zZXJBdHRhY2htZW50XG4gICAgICBrZXk9e2luZGV4fVxuICAgICAgYXR0YWNobWVudEluZGV4PXtpbmRleH1cbiAgICAgIGNvbXBvbmVudHM9e2NvbXBvbmVudHN9XG4gICAgLz5cbiAgKSk7XG59O1xuXG5Db21wb3NlclByaW1pdGl2ZUF0dGFjaG1lbnRzLmRpc3BsYXlOYW1lID0gXCJDb21wb3NlclByaW1pdGl2ZS5BdHRhY2htZW50c1wiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB0eXBlIHsgRkMsIFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBVc2VDb21wb3NlcklmUHJvcHMsXG4gIHVzZUNvbXBvc2VySWYsXG59IGZyb20gXCIuLi8uLi9wcmltaXRpdmUtaG9va3MvY29tcG9zZXIvdXNlQ29tcG9zZXJJZlwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgQ29tcG9zZXJQcmltaXRpdmUuSWYuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgQ29tcG9zZXJQcmltaXRpdmVJZlByb3BzID0gQ29tcG9zZXJQcmltaXRpdmVJZi5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBDb21wb3NlclByaW1pdGl2ZUlmIHtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjxVc2VDb21wb3NlcklmUHJvcHM+O1xufVxuXG5leHBvcnQgY29uc3QgQ29tcG9zZXJQcmltaXRpdmVJZjogRkM8Q29tcG9zZXJQcmltaXRpdmVJZi5Qcm9wcz4gPSAoe1xuICBjaGlsZHJlbixcbiAgLi4ucXVlcnlcbn0pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gdXNlQ29tcG9zZXJJZihxdWVyeSk7XG4gIHJldHVybiByZXN1bHQgPyBjaGlsZHJlbiA6IG51bGw7XG59O1xuXG5Db21wb3NlclByaW1pdGl2ZUlmLmRpc3BsYXlOYW1lID0gXCJDb21wb3NlclByaW1pdGl2ZS5JZlwiO1xuIiwiZXhwb3J0IHsgQ29udGVudFBhcnRQcmltaXRpdmVUZXh0IGFzIFRleHQgfSBmcm9tIFwiLi9Db250ZW50UGFydFRleHRcIjtcbmV4cG9ydCB7IENvbnRlbnRQYXJ0UHJpbWl0aXZlSW1hZ2UgYXMgSW1hZ2UgfSBmcm9tIFwiLi9Db250ZW50UGFydEltYWdlXCI7XG5leHBvcnQgeyBDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXkgYXMgRGlzcGxheSB9IGZyb20gXCIuL0NvbnRlbnRQYXJ0RGlzcGxheVwiO1xuZXhwb3J0IHsgQ29udGVudFBhcnRQcmltaXRpdmVJblByb2dyZXNzIGFzIEluUHJvZ3Jlc3MgfSBmcm9tIFwiLi9Db250ZW50UGFydEluUHJvZ3Jlc3NcIjtcbiIsImV4cG9ydCB7IFRocmVhZFByaW1pdGl2ZVJvb3QgYXMgUm9vdCB9IGZyb20gXCIuL1RocmVhZFJvb3RcIjtcbmV4cG9ydCB7IFRocmVhZFByaW1pdGl2ZUVtcHR5IGFzIEVtcHR5IH0gZnJvbSBcIi4vVGhyZWFkRW1wdHlcIjtcbmV4cG9ydCB7IFRocmVhZFByaW1pdGl2ZUlmIGFzIElmIH0gZnJvbSBcIi4vVGhyZWFkSWZcIjtcbmV4cG9ydCB7IFRocmVhZFByaW1pdGl2ZVZpZXdwb3J0IGFzIFZpZXdwb3J0IH0gZnJvbSBcIi4vVGhyZWFkVmlld3BvcnRcIjtcbmV4cG9ydCB7IFRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzIGFzIE1lc3NhZ2VzIH0gZnJvbSBcIi4vVGhyZWFkTWVzc2FnZXNcIjtcbmV4cG9ydCB7IFRocmVhZFByaW1pdGl2ZVNjcm9sbFRvQm90dG9tIGFzIFNjcm9sbFRvQm90dG9tIH0gZnJvbSBcIi4vVGhyZWFkU2Nyb2xsVG9Cb3R0b21cIjtcbmV4cG9ydCB7IFRocmVhZFByaW1pdGl2ZVN1Z2dlc3Rpb24gYXMgU3VnZ2VzdGlvbiB9IGZyb20gXCIuL1RocmVhZFN1Z2dlc3Rpb25cIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgdHlwZSBFbGVtZW50UmVmLCBmb3J3YXJkUmVmLCBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWYgfSBmcm9tIFwicmVhY3RcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYFRocmVhZFByaW1pdGl2ZS5Sb290LlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIFRocmVhZFByaW1pdGl2ZVJvb3RQcm9wcyA9IFRocmVhZFByaW1pdGl2ZVJvb3QuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgVGhyZWFkUHJpbWl0aXZlUm9vdCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PjtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByaW1pdGl2ZS5kaXY+O1xufVxuXG5leHBvcnQgY29uc3QgVGhyZWFkUHJpbWl0aXZlUm9vdCA9IGZvcndhcmRSZWY8XG4gIFRocmVhZFByaW1pdGl2ZVJvb3QuRWxlbWVudCxcbiAgVGhyZWFkUHJpbWl0aXZlUm9vdC5Qcm9wc1xuPigocHJvcHMsIHJlZikgPT4ge1xuICByZXR1cm4gPFByaW1pdGl2ZS5kaXYgey4uLnByb3BzfSByZWY9e3JlZn0gLz47XG59KTtcblxuVGhyZWFkUHJpbWl0aXZlUm9vdC5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkUHJpbWl0aXZlLlJvb3RcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZDLCBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkRW1wdHkgfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBUaHJlYWRQcmltaXRpdmUuRW1wdHkuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgVGhyZWFkUHJpbWl0aXZlRW1wdHlQcm9wcyA9IFRocmVhZFByaW1pdGl2ZUVtcHR5LlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIFRocmVhZFByaW1pdGl2ZUVtcHR5IHtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjtcbn1cblxuZXhwb3J0IGNvbnN0IFRocmVhZFByaW1pdGl2ZUVtcHR5OiBGQzxUaHJlYWRQcmltaXRpdmVFbXB0eS5Qcm9wcz4gPSAoe1xuICBjaGlsZHJlbixcbn0pID0+IHtcbiAgY29uc3QgZW1wdHkgPSB1c2VUaHJlYWRFbXB0eSgpO1xuICByZXR1cm4gZW1wdHkgPyBjaGlsZHJlbiA6IG51bGw7XG59O1xuXG5UaHJlYWRQcmltaXRpdmVFbXB0eS5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkUHJpbWl0aXZlLkVtcHR5XCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHR5cGUgeyBGQywgUHJvcHNXaXRoQ2hpbGRyZW4gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIFVzZVRocmVhZElmUHJvcHMsXG4gIHVzZVRocmVhZElmLFxufSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL3RocmVhZC91c2VUaHJlYWRJZlwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgVGhyZWFkUHJpbWl0aXZlLklmLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIFRocmVhZFByaW1pdGl2ZUlmUHJvcHMgPSBUaHJlYWRQcmltaXRpdmVJZi5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWRQcmltaXRpdmVJZiB7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gUHJvcHNXaXRoQ2hpbGRyZW48VXNlVGhyZWFkSWZQcm9wcz47XG59XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQcmltaXRpdmVJZjogRkM8VGhyZWFkUHJpbWl0aXZlSWYuUHJvcHM+ID0gKHtcbiAgY2hpbGRyZW4sXG4gIC4uLnF1ZXJ5XG59KSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IHVzZVRocmVhZElmKHF1ZXJ5KTtcbiAgcmV0dXJuIHJlc3VsdCA/IGNoaWxkcmVuIDogbnVsbDtcbn07XG5cblRocmVhZFByaW1pdGl2ZUlmLmRpc3BsYXlOYW1lID0gXCJUaHJlYWRQcmltaXRpdmUuSWZcIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IHR5cGUgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiwgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBVc2VUaHJlYWRWaWV3cG9ydEF1dG9TY3JvbGxQcm9wcyxcbiAgdXNlVGhyZWFkVmlld3BvcnRBdXRvU2Nyb2xsLFxufSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL3RocmVhZC91c2VUaHJlYWRWaWV3cG9ydEF1dG9TY3JvbGxcIjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYFRocmVhZFByaW1pdGl2ZS5WaWV3cG9ydC5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBUaHJlYWRQcmltaXRpdmVWaWV3cG9ydFByb3BzID0gVGhyZWFkUHJpbWl0aXZlVmlld3BvcnQuUHJvcHM7XG5cbmV4cG9ydCBuYW1lc3BhY2UgVGhyZWFkUHJpbWl0aXZlVmlld3BvcnQge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gRWxlbWVudFJlZjx0eXBlb2YgUHJpbWl0aXZlLmRpdj47XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcmltaXRpdmUuZGl2PiAmXG4gICAgVXNlVGhyZWFkVmlld3BvcnRBdXRvU2Nyb2xsUHJvcHM7XG59XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQcmltaXRpdmVWaWV3cG9ydCA9IGZvcndhcmRSZWY8XG4gIFRocmVhZFByaW1pdGl2ZVZpZXdwb3J0LkVsZW1lbnQsXG4gIFRocmVhZFByaW1pdGl2ZVZpZXdwb3J0LlByb3BzXG4+KCh7IGF1dG9TY3JvbGwsIGNoaWxkcmVuLCAuLi5yZXN0IH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCBhdXRvU2Nyb2xsUmVmID0gdXNlVGhyZWFkVmlld3BvcnRBdXRvU2Nyb2xsPEhUTUxEaXZFbGVtZW50Pih7XG4gICAgYXV0b1Njcm9sbCxcbiAgfSk7XG5cbiAgY29uc3QgcmVmID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgYXV0b1Njcm9sbFJlZik7XG5cbiAgcmV0dXJuIChcbiAgICA8UHJpbWl0aXZlLmRpdiB7Li4ucmVzdH0gcmVmPXtyZWZ9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvUHJpbWl0aXZlLmRpdj5cbiAgKTtcbn0pO1xuXG5UaHJlYWRQcmltaXRpdmVWaWV3cG9ydC5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkUHJpbWl0aXZlLlZpZXdwb3J0XCI7XG4iLCJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtY29tcG9zZS1yZWZzXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgdXNlVGhyZWFkUnVudGltZSxcbiAgdXNlVGhyZWFkVmlld3BvcnRTdG9yZSxcbn0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlT25SZXNpemVDb250ZW50IH0gZnJvbSBcIi4uLy4uL3V0aWxzL2hvb2tzL3VzZU9uUmVzaXplQ29udGVudFwiO1xuaW1wb3J0IHsgdXNlT25TY3JvbGxUb0JvdHRvbSB9IGZyb20gXCIuLi8uLi91dGlscy9ob29rcy91c2VPblNjcm9sbFRvQm90dG9tXCI7XG5pbXBvcnQgeyB1c2VNYW5hZ2VkUmVmIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2hvb2tzL3VzZU1hbmFnZWRSZWZcIjtcbmltcG9ydCB7IHdyaXRhYmxlU3RvcmUgfSBmcm9tIFwiLi4vLi4vY29udGV4dC9SZWFkb25seVN0b3JlXCI7XG5cbmV4cG9ydCB0eXBlIFVzZVRocmVhZFZpZXdwb3J0QXV0b1Njcm9sbFByb3BzID0ge1xuICBhdXRvU2Nyb2xsPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgdW5zdGFibGVfc2Nyb2xsVG9Cb3R0b21PblJ1blN0YXJ0PzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VUaHJlYWRWaWV3cG9ydEF1dG9TY3JvbGwgPSA8VEVsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oe1xuICBhdXRvU2Nyb2xsID0gdHJ1ZSxcbiAgdW5zdGFibGVfc2Nyb2xsVG9Cb3R0b21PblJ1blN0YXJ0ID0gdHJ1ZSxcbn06IFVzZVRocmVhZFZpZXdwb3J0QXV0b1Njcm9sbFByb3BzKSA9PiB7XG4gIGNvbnN0IGRpdlJlZiA9IHVzZVJlZjxURWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3QgdGhyZWFkVmlld3BvcnRTdG9yZSA9IHVzZVRocmVhZFZpZXdwb3J0U3RvcmUoKTtcblxuICBjb25zdCBsYXN0U2Nyb2xsVG9wID0gdXNlUmVmPG51bWJlcj4oMCk7XG5cbiAgLy8gYnVnOiB3aGVuIFNjcm9sbFRvQm90dG9tJ3MgYnV0dG9uIGNoYW5nZXMgaXRzIGRpc2FibGVkIHN0YXRlLCB0aGUgc2Nyb2xsIHN0b3BzXG4gIC8vIGZpeDogZGVsYXkgdGhlIHN0YXRlIGNoYW5nZSB1bnRpbCB0aGUgc2Nyb2xsIGlzIGRvbmVcbiAgY29uc3QgaXNTY3JvbGxpbmdUb0JvdHRvbVJlZiA9IHVzZVJlZihmYWxzZSk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoYmVoYXZpb3I6IFNjcm9sbEJlaGF2aW9yKSA9PiB7XG4gICAgY29uc3QgZGl2ID0gZGl2UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFkaXYgfHwgIWF1dG9TY3JvbGwpIHJldHVybjtcblxuICAgIGlzU2Nyb2xsaW5nVG9Cb3R0b21SZWYuY3VycmVudCA9IHRydWU7XG4gICAgZGl2LnNjcm9sbFRvKHsgdG9wOiBkaXYuc2Nyb2xsSGVpZ2h0LCBiZWhhdmlvciB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgY29uc3QgZGl2ID0gZGl2UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFkaXYpIHJldHVybjtcblxuICAgIGNvbnN0IGlzQXRCb3R0b20gPSB0aHJlYWRWaWV3cG9ydFN0b3JlLmdldFN0YXRlKCkuaXNBdEJvdHRvbTtcbiAgICBjb25zdCBuZXdJc0F0Qm90dG9tID1cbiAgICAgIGRpdi5zY3JvbGxIZWlnaHQgLSBkaXYuc2Nyb2xsVG9wIDw9IGRpdi5jbGllbnRIZWlnaHQgKyAxOyAvLyBUT0RPIGZpZ3VyZSBvdXQgd2h5ICsxIGlzIG5lZWRlZFxuXG4gICAgaWYgKCFuZXdJc0F0Qm90dG9tICYmIGxhc3RTY3JvbGxUb3AuY3VycmVudCA8IGRpdi5zY3JvbGxUb3ApIHtcbiAgICAgIC8vIGlnbm9yZSBzY3JvbGwgZG93blxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobmV3SXNBdEJvdHRvbSkge1xuICAgICAgICBpc1Njcm9sbGluZ1RvQm90dG9tUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0lzQXRCb3R0b20gIT09IGlzQXRCb3R0b20pIHtcbiAgICAgICAgd3JpdGFibGVTdG9yZSh0aHJlYWRWaWV3cG9ydFN0b3JlKS5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNBdEJvdHRvbTogbmV3SXNBdEJvdHRvbSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdFNjcm9sbFRvcC5jdXJyZW50ID0gZGl2LnNjcm9sbFRvcDtcbiAgfTtcblxuICBjb25zdCByZXNpemVSZWYgPSB1c2VPblJlc2l6ZUNvbnRlbnQoKCkgPT4ge1xuICAgIGlmIChcbiAgICAgIGlzU2Nyb2xsaW5nVG9Cb3R0b21SZWYuY3VycmVudCB8fFxuICAgICAgdGhyZWFkVmlld3BvcnRTdG9yZS5nZXRTdGF0ZSgpLmlzQXRCb3R0b21cbiAgICApIHtcbiAgICAgIHNjcm9sbFRvQm90dG9tKFwiaW5zdGFudFwiKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTY3JvbGwoKTtcbiAgfSk7XG5cbiAgY29uc3Qgc2Nyb2xsUmVmID0gdXNlTWFuYWdlZFJlZjxIVE1MRWxlbWVudD4oKGVsKSA9PiB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgY29uc3QgYXV0b1Njcm9sbFJlZiA9IHVzZUNvbXBvc2VkUmVmczxURWxlbWVudD4ocmVzaXplUmVmLCBzY3JvbGxSZWYsIGRpdlJlZik7XG5cbiAgdXNlT25TY3JvbGxUb0JvdHRvbSgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oXCJhdXRvXCIpO1xuICB9KTtcblxuICAvLyBhdXRvc2Nyb2xsIG9uIHJ1biBzdGFydFxuICBjb25zdCB0aHJlYWRSdW50aW1lID0gdXNlVGhyZWFkUnVudGltZSgpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdW5zdGFibGVfc2Nyb2xsVG9Cb3R0b21PblJ1blN0YXJ0KSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgcmV0dXJuIHRocmVhZFJ1bnRpbWUudW5zdGFibGVfb24oXCJydW4tc3RhcnRcIiwgZm9jdXMpO1xuICB9LCBbdW5zdGFibGVfc2Nyb2xsVG9Cb3R0b21PblJ1blN0YXJ0XSk7XG5cbiAgcmV0dXJuIGF1dG9TY3JvbGxSZWY7XG59O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2tSZWYgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1jYWxsYmFjay1yZWZcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VNYW5hZ2VkUmVmIH0gZnJvbSBcIi4vdXNlTWFuYWdlZFJlZlwiO1xuXG5leHBvcnQgY29uc3QgdXNlT25SZXNpemVDb250ZW50ID0gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB7XG4gIGNvbnN0IGNhbGxiYWNrUmVmID0gdXNlQ2FsbGJhY2tSZWYoY2FsbGJhY2spO1xuXG4gIGNvbnN0IHJlZkNhbGxiYWNrID0gdXNlQ2FsbGJhY2soXG4gICAgKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICBjYWxsYmFja1JlZigpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtdXRhdGlvbi5yZW1vdmVkTm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgICByZXNpemVPYnNlcnZlci51bm9ic2VydmUobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2tSZWYoKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsKTtcbiAgICAgIG11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShlbCwgeyBjaGlsZExpc3Q6IHRydWUgfSk7XG5cbiAgICAgIC8vIE9ic2VydmUgZXhpc3RpbmcgY2hpbGRyZW5cbiAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZWwuY2hpbGRyZW4pIHtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShjaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH0sXG4gICAgW2NhbGxiYWNrUmVmXSxcbiAgKTtcblxuICByZXR1cm4gdXNlTWFuYWdlZFJlZihyZWZDYWxsYmFjayk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHR5cGUgQ29tcG9uZW50VHlwZSwgdHlwZSBGQywgbWVtbywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkLCB1c2VUaHJlYWRSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2NvbnRleHQvcmVhY3QvVGhyZWFkQ29udGV4dFwiO1xuaW1wb3J0IHsgTWVzc2FnZVJ1bnRpbWVQcm92aWRlciB9IGZyb20gXCIuLi8uLi9jb250ZXh0L3Byb3ZpZGVycy9NZXNzYWdlUnVudGltZVByb3ZpZGVyXCI7XG5pbXBvcnQgeyB1c2VFZGl0Q29tcG9zZXIsIHVzZU1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vY29udGV4dFwiO1xuaW1wb3J0IHsgVGhyZWFkTWVzc2FnZSBhcyBUaHJlYWRNZXNzYWdlVHlwZSB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgVGhyZWFkUHJpbWl0aXZlLk1lc3NhZ2VzLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIFRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzUHJvcHMgPSBUaHJlYWRQcmltaXRpdmVNZXNzYWdlcy5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWRQcmltaXRpdmVNZXNzYWdlcyB7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0ge1xuICAgIGNvbXBvbmVudHM6XG4gICAgICB8IHtcbiAgICAgICAgICBNZXNzYWdlOiBDb21wb25lbnRUeXBlO1xuICAgICAgICAgIEVkaXRDb21wb3Nlcj86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgVXNlckVkaXRDb21wb3Nlcj86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgQXNzaXN0YW50RWRpdENvbXBvc2VyPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBTeXN0ZW1FZGl0Q29tcG9zZXI/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIFVzZXJNZXNzYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBBc3Npc3RhbnRNZXNzYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBTeXN0ZW1NZXNzYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfCB7XG4gICAgICAgICAgTWVzc2FnZT86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgRWRpdENvbXBvc2VyPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBVc2VyRWRpdENvbXBvc2VyPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBBc3Npc3RhbnRFZGl0Q29tcG9zZXI/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIFN5c3RlbUVkaXRDb21wb3Nlcj86IENvbXBvbmVudFR5cGUgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgVXNlck1lc3NhZ2U6IENvbXBvbmVudFR5cGU7XG4gICAgICAgICAgQXNzaXN0YW50TWVzc2FnZTogQ29tcG9uZW50VHlwZTtcbiAgICAgICAgICBTeXN0ZW1NZXNzYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgfTtcbn1cblxuY29uc3QgaXNDb21wb25lbnRzU2FtZSA9IChcbiAgcHJldjogVGhyZWFkUHJpbWl0aXZlTWVzc2FnZXMuUHJvcHNbXCJjb21wb25lbnRzXCJdLFxuICBuZXh0OiBUaHJlYWRQcmltaXRpdmVNZXNzYWdlcy5Qcm9wc1tcImNvbXBvbmVudHNcIl0sXG4pID0+IHtcbiAgcmV0dXJuIChcbiAgICBwcmV2Lk1lc3NhZ2UgPT09IG5leHQuTWVzc2FnZSAmJlxuICAgIHByZXYuRWRpdENvbXBvc2VyID09PSBuZXh0LkVkaXRDb21wb3NlciAmJlxuICAgIHByZXYuVXNlckVkaXRDb21wb3NlciA9PT0gbmV4dC5Vc2VyRWRpdENvbXBvc2VyICYmXG4gICAgcHJldi5Bc3Npc3RhbnRFZGl0Q29tcG9zZXIgPT09IG5leHQuQXNzaXN0YW50RWRpdENvbXBvc2VyICYmXG4gICAgcHJldi5TeXN0ZW1FZGl0Q29tcG9zZXIgPT09IG5leHQuU3lzdGVtRWRpdENvbXBvc2VyICYmXG4gICAgcHJldi5Vc2VyTWVzc2FnZSA9PT0gbmV4dC5Vc2VyTWVzc2FnZSAmJlxuICAgIHByZXYuQXNzaXN0YW50TWVzc2FnZSA9PT0gbmV4dC5Bc3Npc3RhbnRNZXNzYWdlICYmXG4gICAgcHJldi5TeXN0ZW1NZXNzYWdlID09PSBuZXh0LlN5c3RlbU1lc3NhZ2VcbiAgKTtcbn07XG5cbmNvbnN0IERFRkFVTFRfU1lTVEVNX01FU1NBR0UgPSAoKSA9PiBudWxsO1xuXG5jb25zdCBnZXRDb21wb25lbnQgPSAoXG4gIGNvbXBvbmVudHM6IFRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzLlByb3BzW1wiY29tcG9uZW50c1wiXSxcbiAgcm9sZTogVGhyZWFkTWVzc2FnZVR5cGVbXCJyb2xlXCJdLFxuICBpc0VkaXRpbmc6IGJvb2xlYW4sXG4pID0+IHtcbiAgc3dpdGNoIChyb2xlKSB7XG4gICAgY2FzZSBcInVzZXJcIjpcbiAgICAgIGlmIChpc0VkaXRpbmcpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb21wb25lbnRzLlVzZXJFZGl0Q29tcG9zZXIgPz9cbiAgICAgICAgICBjb21wb25lbnRzLkVkaXRDb21wb3NlciA/P1xuICAgICAgICAgIGNvbXBvbmVudHMuVXNlck1lc3NhZ2UgPz9cbiAgICAgICAgICAoY29tcG9uZW50cy5NZXNzYWdlIGFzIENvbXBvbmVudFR5cGUpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50cy5Vc2VyTWVzc2FnZSA/PyAoY29tcG9uZW50cy5NZXNzYWdlIGFzIENvbXBvbmVudFR5cGUpO1xuICAgICAgfVxuICAgIGNhc2UgXCJhc3Npc3RhbnRcIjpcbiAgICAgIGlmIChpc0VkaXRpbmcpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb21wb25lbnRzLkFzc2lzdGFudEVkaXRDb21wb3NlciA/P1xuICAgICAgICAgIGNvbXBvbmVudHMuRWRpdENvbXBvc2VyID8/XG4gICAgICAgICAgY29tcG9uZW50cy5Bc3Npc3RhbnRNZXNzYWdlID8/XG4gICAgICAgICAgKGNvbXBvbmVudHMuTWVzc2FnZSBhcyBDb21wb25lbnRUeXBlKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb21wb25lbnRzLkFzc2lzdGFudE1lc3NhZ2UgPz8gKGNvbXBvbmVudHMuTWVzc2FnZSBhcyBDb21wb25lbnRUeXBlKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIGNhc2UgXCJzeXN0ZW1cIjpcbiAgICAgIGlmIChpc0VkaXRpbmcpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb21wb25lbnRzLlN5c3RlbUVkaXRDb21wb3NlciA/P1xuICAgICAgICAgIGNvbXBvbmVudHMuRWRpdENvbXBvc2VyID8/XG4gICAgICAgICAgY29tcG9uZW50cy5TeXN0ZW1NZXNzYWdlID8/XG4gICAgICAgICAgKGNvbXBvbmVudHMuTWVzc2FnZSBhcyBDb21wb25lbnRUeXBlKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHMuU3lzdGVtTWVzc2FnZSA/PyBERUZBVUxUX1NZU1RFTV9NRVNTQUdFO1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHJvbGU7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbWVzc2FnZSByb2xlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gIH1cbn07XG5cbnR5cGUgVGhyZWFkTWVzc2FnZUNvbXBvbmVudFByb3BzID0ge1xuICBjb21wb25lbnRzOiBUaHJlYWRQcmltaXRpdmVNZXNzYWdlcy5Qcm9wc1tcImNvbXBvbmVudHNcIl07XG59O1xuXG5jb25zdCBUaHJlYWRNZXNzYWdlQ29tcG9uZW50OiBGQzxUaHJlYWRNZXNzYWdlQ29tcG9uZW50UHJvcHM+ID0gKHtcbiAgY29tcG9uZW50cyxcbn0pID0+IHtcbiAgY29uc3Qgcm9sZSA9IHVzZU1lc3NhZ2UoKG0pID0+IG0ucm9sZSk7XG4gIGNvbnN0IGlzRWRpdGluZyA9IHVzZUVkaXRDb21wb3NlcigoYykgPT4gYy5pc0VkaXRpbmcpO1xuICBjb25zdCBDb21wb25lbnQgPSBnZXRDb21wb25lbnQoY29tcG9uZW50cywgcm9sZSwgaXNFZGl0aW5nKTtcblxuICByZXR1cm4gPENvbXBvbmVudCAvPjtcbn07XG5cbnR5cGUgVGhyZWFkTWVzc2FnZVByb3BzID0ge1xuICBtZXNzYWdlSW5kZXg6IG51bWJlcjtcbiAgY29tcG9uZW50czogVGhyZWFkUHJpbWl0aXZlTWVzc2FnZXMuUHJvcHNbXCJjb21wb25lbnRzXCJdO1xufTtcblxuY29uc3QgVGhyZWFkTWVzc2FnZUltcGw6IEZDPFRocmVhZE1lc3NhZ2VQcm9wcz4gPSAoe1xuICBtZXNzYWdlSW5kZXgsXG4gIGNvbXBvbmVudHMsXG59KSA9PiB7XG4gIGNvbnN0IHRocmVhZFJ1bnRpbWUgPSB1c2VUaHJlYWRSdW50aW1lKCk7XG4gIGNvbnN0IHJ1bnRpbWUgPSB1c2VNZW1vKFxuICAgICgpID0+IHRocmVhZFJ1bnRpbWUuZ2V0TWVzc3NhZ2VCeUluZGV4KG1lc3NhZ2VJbmRleCksXG4gICAgW3RocmVhZFJ1bnRpbWUsIG1lc3NhZ2VJbmRleF0sXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8TWVzc2FnZVJ1bnRpbWVQcm92aWRlciBydW50aW1lPXtydW50aW1lfT5cbiAgICAgIDxUaHJlYWRNZXNzYWdlQ29tcG9uZW50IGNvbXBvbmVudHM9e2NvbXBvbmVudHN9IC8+XG4gICAgPC9NZXNzYWdlUnVudGltZVByb3ZpZGVyPlxuICApO1xufTtcblxuY29uc3QgVGhyZWFkTWVzc2FnZSA9IG1lbW8oXG4gIFRocmVhZE1lc3NhZ2VJbXBsLFxuICAocHJldiwgbmV4dCkgPT5cbiAgICBwcmV2Lm1lc3NhZ2VJbmRleCA9PT0gbmV4dC5tZXNzYWdlSW5kZXggJiZcbiAgICBpc0NvbXBvbmVudHNTYW1lKHByZXYuY29tcG9uZW50cywgbmV4dC5jb21wb25lbnRzKSxcbik7XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQcmltaXRpdmVNZXNzYWdlc0ltcGw6IEZDPFRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzLlByb3BzPiA9ICh7XG4gIGNvbXBvbmVudHMsXG59KSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2VzTGVuZ3RoID0gdXNlVGhyZWFkKCh0KSA9PiB0Lm1lc3NhZ2VzLmxlbmd0aCk7XG4gIGlmIChtZXNzYWdlc0xlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IG1lc3NhZ2VzTGVuZ3RoIH0sIChfLCBpbmRleCkgPT4gKFxuICAgIDxUaHJlYWRNZXNzYWdlIGtleT17aW5kZXh9IG1lc3NhZ2VJbmRleD17aW5kZXh9IGNvbXBvbmVudHM9e2NvbXBvbmVudHN9IC8+XG4gICkpO1xufTtcblxuVGhyZWFkUHJpbWl0aXZlTWVzc2FnZXNJbXBsLmRpc3BsYXlOYW1lID0gXCJUaHJlYWRQcmltaXRpdmUuTWVzc2FnZXNcIjtcblxuZXhwb3J0IGNvbnN0IFRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzID0gbWVtbyhcbiAgVGhyZWFkUHJpbWl0aXZlTWVzc2FnZXNJbXBsLFxuICAocHJldiwgbmV4dCkgPT4gaXNDb21wb25lbnRzU2FtZShwcmV2LmNvbXBvbmVudHMsIG5leHQuY29tcG9uZW50cyksXG4pO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHR5cGUgRkMsIHR5cGUgUHJvcHNXaXRoQ2hpbGRyZW4sIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgeyBNZXNzYWdlQ29udGV4dCB9IGZyb20gXCIuLi9yZWFjdC9NZXNzYWdlQ29udGV4dFwiO1xuaW1wb3J0IHR5cGUgeyBNZXNzYWdlQ29udGV4dFZhbHVlIH0gZnJvbSBcIi4uL3JlYWN0L01lc3NhZ2VDb250ZXh0XCI7XG5pbXBvcnQgeyBtYWtlTWVzc2FnZVV0aWxzU3RvcmUgfSBmcm9tIFwiLi4vc3RvcmVzL01lc3NhZ2VVdGlsc1wiO1xuaW1wb3J0IHsgUmVhZG9ubHlTdG9yZSwgd3JpdGFibGVTdG9yZSB9IGZyb20gXCIuLi9SZWFkb25seVN0b3JlXCI7XG5pbXBvcnQgeyBNZXNzYWdlUnVudGltZSB9IGZyb20gXCIuLi8uLi9hcGlcIjtcblxudHlwZSBNZXNzYWdlUHJvdmlkZXJQcm9wcyA9IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgcnVudGltZTogTWVzc2FnZVJ1bnRpbWU7XG59PjtcblxuY29uc3QgdXNlTWVzc2FnZVJ1bnRpbWVTdG9yZSA9IChydW50aW1lOiBNZXNzYWdlUnVudGltZSkgPT4ge1xuICBjb25zdCBbc3RvcmVdID0gdXNlU3RhdGUoKCkgPT4gY3JlYXRlKCgpID0+IHJ1bnRpbWUpKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHdyaXRhYmxlU3RvcmUoc3RvcmUpLnNldFN0YXRlKHJ1bnRpbWUsIHRydWUpO1xuICB9LCBbcnVudGltZSwgc3RvcmVdKTtcblxuICByZXR1cm4gc3RvcmU7XG59O1xuXG5jb25zdCB1c2VNZXNzYWdlU3RvcmUgPSAocnVudGltZTogTWVzc2FnZVJ1bnRpbWUpID0+IHtcbiAgY29uc3QgW3N0b3JlXSA9IHVzZVN0YXRlKCgpID0+IGNyZWF0ZSgoKSA9PiBydW50aW1lLmdldFN0YXRlKCkpKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cGRhdGVTdGF0ZSA9ICgpID0+XG4gICAgICB3cml0YWJsZVN0b3JlKHN0b3JlKS5zZXRTdGF0ZShydW50aW1lLmdldFN0YXRlKCksIHRydWUpO1xuICAgIHVwZGF0ZVN0YXRlKCk7XG4gICAgcmV0dXJuIHJ1bnRpbWUuc3Vic2NyaWJlKHVwZGF0ZVN0YXRlKTtcbiAgfSwgW3J1bnRpbWUsIHN0b3JlXSk7XG5cbiAgcmV0dXJuIHN0b3JlO1xufTtcblxuY29uc3QgdXNlTWVzc2FnZVV0aWxzU3RvcmUgPSAoKSA9PiB7XG4gIGNvbnN0IFtzdG9yZV0gPSB1c2VTdGF0ZSgoKSA9PiBtYWtlTWVzc2FnZVV0aWxzU3RvcmUoKSk7XG4gIHJldHVybiBzdG9yZTtcbn07XG5cbmNvbnN0IHVzZUVkaXRDb21wb3NlclN0b3JlID0gKFxuICB1c2VNZXNzYWdlUnVudGltZTogUmVhZG9ubHlTdG9yZTxNZXNzYWdlUnVudGltZT4sXG4pID0+IHtcbiAgY29uc3QgcnVudGltZSA9IHVzZU1lc3NhZ2VSdW50aW1lLmdldFN0YXRlKCkuY29tcG9zZXI7XG4gIGNvbnN0IFtzdG9yZV0gPSB1c2VTdGF0ZSgoKSA9PiBjcmVhdGUoKCkgPT4gcnVudGltZS5nZXRTdGF0ZSgpKSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cGRhdGVTdGF0ZSA9ICgpID0+IHdyaXRhYmxlU3RvcmUoc3RvcmUpLnNldFN0YXRlKHJ1bnRpbWUuZ2V0U3RhdGUoKSk7XG4gICAgdXBkYXRlU3RhdGUoKTtcbiAgICByZXR1cm4gcnVudGltZS5zdWJzY3JpYmUodXBkYXRlU3RhdGUpO1xuICB9LCBbcnVudGltZSwgc3RvcmVdKTtcblxuICByZXR1cm4gc3RvcmU7XG59O1xuXG5leHBvcnQgY29uc3QgTWVzc2FnZVJ1bnRpbWVQcm92aWRlcjogRkM8TWVzc2FnZVByb3ZpZGVyUHJvcHM+ID0gKHtcbiAgcnVudGltZSxcbiAgY2hpbGRyZW4sXG59KSA9PiB7XG4gIGNvbnN0IHVzZU1lc3NhZ2VSdW50aW1lID0gdXNlTWVzc2FnZVJ1bnRpbWVTdG9yZShydW50aW1lKTtcbiAgY29uc3QgdXNlTWVzc2FnZSA9IHVzZU1lc3NhZ2VTdG9yZShydW50aW1lKTtcbiAgY29uc3QgdXNlTWVzc2FnZVV0aWxzID0gdXNlTWVzc2FnZVV0aWxzU3RvcmUoKTtcbiAgY29uc3QgdXNlRWRpdENvbXBvc2VyID0gdXNlRWRpdENvbXBvc2VyU3RvcmUodXNlTWVzc2FnZVJ1bnRpbWUpO1xuICBjb25zdCBbY29udGV4dF0gPSB1c2VTdGF0ZTxNZXNzYWdlQ29udGV4dFZhbHVlPigoKSA9PiB7XG4gICAgcmV0dXJuIHsgdXNlTWVzc2FnZVJ1bnRpbWUsIHVzZU1lc3NhZ2UsIHVzZU1lc3NhZ2VVdGlscywgdXNlRWRpdENvbXBvc2VyIH07XG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPE1lc3NhZ2VDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L01lc3NhZ2VDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5cbmV4cG9ydCB0eXBlIE1lc3NhZ2VVdGlsc1N0YXRlID0gUmVhZG9ubHk8e1xuICBpc0NvcGllZDogYm9vbGVhbjtcbiAgc2V0SXNDb3BpZWQ6ICh2YWx1ZTogYm9vbGVhbikgPT4gdm9pZDtcblxuICBpc0hvdmVyaW5nOiBib29sZWFuO1xuICBzZXRJc0hvdmVyaW5nOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWQ7XG59PjtcblxuZXhwb3J0IGNvbnN0IG1ha2VNZXNzYWdlVXRpbHNTdG9yZSA9ICgpID0+XG4gIGNyZWF0ZTxNZXNzYWdlVXRpbHNTdGF0ZT4oKHNldCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpc0NvcGllZDogZmFsc2UsXG4gICAgICBzZXRJc0NvcGllZDogKHZhbHVlKSA9PiB7XG4gICAgICAgIHNldCh7IGlzQ29waWVkOiB2YWx1ZSB9KTtcbiAgICAgIH0sXG4gICAgICBpc0hvdmVyaW5nOiBmYWxzZSxcbiAgICAgIHNldElzSG92ZXJpbmc6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBzZXQoeyBpc0hvdmVyaW5nOiB2YWx1ZSB9KTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfSk7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHtcbiAgQWN0aW9uQnV0dG9uRWxlbWVudCxcbiAgQWN0aW9uQnV0dG9uUHJvcHMsXG4gIGNyZWF0ZUFjdGlvbkJ1dHRvbixcbn0gZnJvbSBcIi4uLy4uL3V0aWxzL2NyZWF0ZUFjdGlvbkJ1dHRvblwiO1xuaW1wb3J0IHsgdXNlVGhyZWFkU2Nyb2xsVG9Cb3R0b20gfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL3RocmVhZC91c2VUaHJlYWRTY3JvbGxUb0JvdHRvbVwiO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgVGhyZWFkUHJpbWl0aXZlLlNjcm9sbFRvQm90dG9tLlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIFRocmVhZFByaW1pdGl2ZVNjcm9sbFRvQm90dG9tUHJvcHMgPVxuICBUaHJlYWRQcmltaXRpdmVTY3JvbGxUb0JvdHRvbS5Qcm9wcztcblxuZXhwb3J0IG5hbWVzcGFjZSBUaHJlYWRQcmltaXRpdmVTY3JvbGxUb0JvdHRvbSB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBBY3Rpb25CdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IEFjdGlvbkJ1dHRvblByb3BzPHR5cGVvZiB1c2VUaHJlYWRTY3JvbGxUb0JvdHRvbT47XG59XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQcmltaXRpdmVTY3JvbGxUb0JvdHRvbSA9IGNyZWF0ZUFjdGlvbkJ1dHRvbihcbiAgXCJUaHJlYWRQcmltaXRpdmUuU2Nyb2xsVG9Cb3R0b21cIixcbiAgdXNlVGhyZWFkU2Nyb2xsVG9Cb3R0b20sXG4pO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIEFjdGlvbkJ1dHRvbkVsZW1lbnQsXG4gIEFjdGlvbkJ1dHRvblByb3BzLFxuICBjcmVhdGVBY3Rpb25CdXR0b24sXG59IGZyb20gXCIuLi8uLi91dGlscy9jcmVhdGVBY3Rpb25CdXR0b25cIjtcbmltcG9ydCB7IHVzZVRocmVhZFN1Z2dlc3Rpb24gfSBmcm9tIFwiLi4vLi4vcHJpbWl0aXZlLWhvb2tzL3RocmVhZC91c2VUaHJlYWRTdWdnZXN0aW9uXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBUaHJlYWRQcmltaXRpdmUuU3VnZ2VzdGlvbi5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBUaHJlYWRQcmltaXRpdmVTdWdnZXN0aW9uUHJvcHMgPSBUaHJlYWRQcmltaXRpdmVTdWdnZXN0aW9uLlByb3BzO1xuXG5leHBvcnQgbmFtZXNwYWNlIFRocmVhZFByaW1pdGl2ZVN1Z2dlc3Rpb24ge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gQWN0aW9uQnV0dG9uRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBBY3Rpb25CdXR0b25Qcm9wczx0eXBlb2YgdXNlVGhyZWFkU3VnZ2VzdGlvbj47XG59XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRQcmltaXRpdmVTdWdnZXN0aW9uID0gY3JlYXRlQWN0aW9uQnV0dG9uKFxuICBcIlRocmVhZFByaW1pdGl2ZS5TdWdnZXN0aW9uXCIsXG4gIHVzZVRocmVhZFN1Z2dlc3Rpb24sXG4gIFtcInByb21wdFwiLCBcImF1dG9TZW5kXCIsIFwibWV0aG9kXCJdLFxuKTtcbiIsImltcG9ydCB7IFVuc3Vic2NyaWJlIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRSdW50aW1lQ29yZSB9IGZyb20gXCIuL0Fzc2lzdGFudFJ1bnRpbWVDb3JlXCI7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBydW50aW1lLnRocmVhZC5zdWJzY3JpYmVgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICovXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVG9NYWluVGhyZWFkID0gKFxuICBydW50aW1lOiBBc3Npc3RhbnRSdW50aW1lQ29yZSxcbiAgY2FsbGJhY2s6ICgpID0+IHZvaWQsXG4pID0+IHtcbiAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgbGV0IGNsZWFudXA6IFVuc3Vic2NyaWJlIHwgdW5kZWZpbmVkO1xuICBjb25zdCBpbm5lciA9ICgpID0+IHtcbiAgICBjbGVhbnVwPy4oKTtcbiAgICBjbGVhbnVwID0gcnVudGltZS50aHJlYWQuc3Vic2NyaWJlKGNhbGxiYWNrKTtcblxuICAgIGlmICghZmlyc3QpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGZpcnN0ID0gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgdW5zdWJzY3JpYmUgPSBydW50aW1lLnN1YnNjcmliZShpbm5lcik7XG4gIGlubmVyKCk7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICB1bnN1YnNjcmliZSgpO1xuICAgIGNsZWFudXA/LigpO1xuICB9O1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VJbnNlcnRpb25FZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IENoYXRNb2RlbEFkYXB0ZXIgfSBmcm9tIFwiLi9DaGF0TW9kZWxBZGFwdGVyXCI7XG5pbXBvcnQgeyBMb2NhbFJ1bnRpbWVDb3JlIH0gZnJvbSBcIi4vTG9jYWxSdW50aW1lQ29yZVwiO1xuaW1wb3J0IHsgTG9jYWxSdW50aW1lT3B0aW9ucyB9IGZyb20gXCIuL0xvY2FsUnVudGltZU9wdGlvbnNcIjtcbmltcG9ydCB7XG4gIEFzc2lzdGFudFJ1bnRpbWUsXG4gIEFzc2lzdGFudFJ1bnRpbWVJbXBsLFxufSBmcm9tIFwiLi4vLi4vYXBpL0Fzc2lzdGFudFJ1bnRpbWVcIjtcbmltcG9ydCB7IFRocmVhZFJ1bnRpbWVJbXBsIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsXCI7XG5pbXBvcnQgeyBUaHJlYWRSdW50aW1lIH0gZnJvbSBcIi4uLy4uL2FwaVwiO1xuXG5leHBvcnQgdHlwZSBMb2NhbFJ1bnRpbWUgPSBBc3Npc3RhbnRSdW50aW1lICYge1xuICByZXNldDogKG9wdGlvbnM/OiBQYXJhbWV0ZXJzPExvY2FsUnVudGltZUNvcmVbXCJyZXNldFwiXT5bMF0pID0+IHZvaWQ7XG59O1xuXG5jbGFzcyBMb2NhbFJ1bnRpbWVJbXBsIGV4dGVuZHMgQXNzaXN0YW50UnVudGltZUltcGwgaW1wbGVtZW50cyBMb2NhbFJ1bnRpbWUge1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgY29yZTogTG9jYWxSdW50aW1lQ29yZSxcbiAgICB0aHJlYWQ6IFRocmVhZFJ1bnRpbWUsXG4gICkge1xuICAgIHN1cGVyKGNvcmUsIHRocmVhZCk7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQob3B0aW9ucz86IFBhcmFtZXRlcnM8TG9jYWxSdW50aW1lQ29yZVtcInJlc2V0XCJdPlswXSkge1xuICAgIHRoaXMuY29yZS5yZXNldChvcHRpb25zKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgb3ZlcnJpZGUgY3JlYXRlKF9jb3JlOiBMb2NhbFJ1bnRpbWVDb3JlKSB7XG4gICAgcmV0dXJuIG5ldyBMb2NhbFJ1bnRpbWVJbXBsKFxuICAgICAgX2NvcmUsXG4gICAgICBBc3Npc3RhbnRSdW50aW1lSW1wbC5jcmVhdGVNYWluVGhyZWFkUnVudGltZShfY29yZSwgVGhyZWFkUnVudGltZUltcGwpLFxuICAgICkgYXMgTG9jYWxSdW50aW1lO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCB1c2VMb2NhbFJ1bnRpbWUgPSAoXG4gIGFkYXB0ZXI6IENoYXRNb2RlbEFkYXB0ZXIsXG4gIG9wdGlvbnM6IExvY2FsUnVudGltZU9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBjb25zdCBbcnVudGltZV0gPSB1c2VTdGF0ZSgoKSA9PiBuZXcgTG9jYWxSdW50aW1lQ29yZShhZGFwdGVyLCBvcHRpb25zKSk7XG5cbiAgdXNlSW5zZXJ0aW9uRWZmZWN0KCgpID0+IHtcbiAgICBydW50aW1lLnRocmVhZC5hZGFwdGVyID0gYWRhcHRlcjtcbiAgICBydW50aW1lLnRocmVhZC5vcHRpb25zID0gb3B0aW9ucztcbiAgfSk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gTG9jYWxSdW50aW1lSW1wbC5jcmVhdGUocnVudGltZSksIFtydW50aW1lXSk7XG59O1xuIiwiaW1wb3J0IHsgdHlwZSBNb2RlbENvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL3R5cGVzL01vZGVsQ29uZmlnVHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgVW5zdWJzY3JpYmUgfSBmcm9tIFwiLi4vLi4vdHlwZXMvVW5zdWJzY3JpYmVcIjtcbmltcG9ydCB0eXBlIHsgQXNzaXN0YW50UnVudGltZUNvcmUgfSBmcm9tIFwiLi9Bc3Npc3RhbnRSdW50aW1lQ29yZVwiO1xuaW1wb3J0IHsgVGhyZWFkUnVudGltZUNvcmUgfSBmcm9tIFwiLi9UaHJlYWRSdW50aW1lQ29yZVwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUFzc2lzdGFudFJ1bnRpbWVDb3JlPFxuICBUVGhyZWFkUnVudGltZSBleHRlbmRzIFRocmVhZFJ1bnRpbWVDb3JlLFxuPiBpbXBsZW1lbnRzIEFzc2lzdGFudFJ1bnRpbWVDb3JlXG57XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3RocmVhZDogVFRocmVhZFJ1bnRpbWUpIHtcbiAgICB0aGlzLl90aHJlYWQgPSBfdGhyZWFkO1xuICB9XG5cbiAgZ2V0IHRocmVhZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhyZWFkO1xuICB9XG5cbiAgc2V0IHRocmVhZCh0aHJlYWQ6IFRUaHJlYWRSdW50aW1lKSB7XG4gICAgdGhpcy5fdGhyZWFkID0gdGhyZWFkO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uSGFuZGxlcigpO1xuICB9XG5cbiAgcHVibGljIGFic3RyYWN0IHN3aXRjaFRvTmV3VGhyZWFkKCk6IHZvaWQ7XG5cbiAgcHVibGljIGFic3RyYWN0IHJlZ2lzdGVyTW9kZWxDb25maWdQcm92aWRlcihcbiAgICBwcm92aWRlcjogTW9kZWxDb25maWdQcm92aWRlcixcbiAgKTogVW5zdWJzY3JpYmU7XG4gIHB1YmxpYyBhYnN0cmFjdCBzd2l0Y2hUb1RocmVhZCh0aHJlYWRJZDogc3RyaW5nIHwgbnVsbCk6IHZvaWQ7XG5cbiAgcHJpdmF0ZSBfc3Vic2NyaXB0aW9ucyA9IG5ldyBTZXQ8KCkgPT4gdm9pZD4oKTtcblxuICBwdWJsaWMgc3Vic2NyaWJlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVW5zdWJzY3JpYmUge1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMuYWRkKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gKCkgPT4gdGhpcy5fc3Vic2NyaXB0aW9ucy5kZWxldGUoY2FsbGJhY2spO1xuICB9XG5cbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25IYW5kbGVyID0gKCkgPT4ge1xuICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgdGhpcy5fc3Vic2NyaXB0aW9ucykgY2FsbGJhY2soKTtcbiAgfTtcbn1cbiIsImV4cG9ydCB0eXBlIHsgVGhyZWFkUnVudGltZUNvcmUgfSBmcm9tIFwiLi9ydW50aW1lcy9jb3JlL1RocmVhZFJ1bnRpbWVDb3JlXCI7XG5leHBvcnQgeyBEZWZhdWx0VGhyZWFkQ29tcG9zZXJSdW50aW1lQ29yZSB9IGZyb20gXCIuL3J1bnRpbWVzL2NvbXBvc2VyL0RlZmF1bHRUaHJlYWRDb21wb3NlclJ1bnRpbWVDb3JlXCI7XG5leHBvcnQgeyBQcm94eUNvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4vdXRpbHMvUHJveHlDb25maWdQcm92aWRlclwiO1xuZXhwb3J0IHsgTWVzc2FnZVJlcG9zaXRvcnkgfSBmcm9tIFwiLi9ydW50aW1lcy91dGlscy9NZXNzYWdlUmVwb3NpdG9yeVwiO1xuZXhwb3J0IHsgQmFzZUFzc2lzdGFudFJ1bnRpbWVDb3JlIH0gZnJvbSBcIi4vcnVudGltZXMvY29yZS9CYXNlQXNzaXN0YW50UnVudGltZUNvcmVcIjtcbmV4cG9ydCB7IFRvb2x0aXBJY29uQnV0dG9uIH0gZnJvbSBcIi4vdWkvYmFzZS90b29sdGlwLWljb24tYnV0dG9uXCI7XG5leHBvcnQgeyBnZW5lcmF0ZUlkIH0gZnJvbSBcIi4vdXRpbHMvaWRVdGlsc1wiO1xuZXhwb3J0IHsgQXNzaXN0YW50UnVudGltZUltcGwgfSBmcm9tIFwiLi9hcGkvQXNzaXN0YW50UnVudGltZVwiO1xuZXhwb3J0IHtcbiAgVGhyZWFkUnVudGltZUltcGwsXG4gIHR5cGUgVGhyZWFkUnVudGltZUNvcmVCaW5kaW5nLFxufSBmcm9tIFwiLi9hcGkvVGhyZWFkUnVudGltZVwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi91dGlscy9zbW9vdGhcIjtcbiIsImltcG9ydCB7XG4gIEF0dGFjaG1lbnQsXG4gIENvbXBsZXRlQXR0YWNobWVudCxcbiAgUGVuZGluZ0F0dGFjaG1lbnQsXG59IGZyb20gXCIuLi8uLi90eXBlcy9BdHRhY2htZW50VHlwZXNcIjtcbmltcG9ydCB7IEFwcGVuZE1lc3NhZ2UsIFVuc3Vic2NyaWJlIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBBdHRhY2htZW50QWRhcHRlciB9IGZyb20gXCIuLi9hdHRhY2htZW50XCI7XG5pbXBvcnQgeyBDb21wb3NlclJ1bnRpbWVDb3JlIH0gZnJvbSBcIi4uL2NvcmUvQ29tcG9zZXJSdW50aW1lQ29yZVwiO1xuXG5jb25zdCBpc0F0dGFjaG1lbnRDb21wbGV0ZSA9IChhOiBBdHRhY2htZW50KTogYSBpcyBDb21wbGV0ZUF0dGFjaG1lbnQgPT5cbiAgYS5zdGF0dXMudHlwZSA9PT0gXCJjb21wbGV0ZVwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUNvbXBvc2VyUnVudGltZUNvcmUgaW1wbGVtZW50cyBDb21wb3NlclJ1bnRpbWVDb3JlIHtcbiAgcHVibGljIHJlYWRvbmx5IGlzRWRpdGluZyA9IHRydWU7XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldEF0dGFjaG1lbnRBZGFwdGVyKCk6IEF0dGFjaG1lbnRBZGFwdGVyIHwgdW5kZWZpbmVkO1xuXG4gIHB1YmxpYyBnZXRBdHRhY2htZW50QWNjZXB0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0YWNobWVudEFkYXB0ZXIoKT8uYWNjZXB0ID8/IFwiKlwiO1xuICB9XG5cbiAgcHJpdmF0ZSBfYXR0YWNobWVudHM6IHJlYWRvbmx5IEF0dGFjaG1lbnRbXSA9IFtdO1xuICBwcm90ZWN0ZWQgc2V0IGF0dGFjaG1lbnRzKHZhbHVlOiByZWFkb25seSBBdHRhY2htZW50W10pIHtcbiAgICB0aGlzLl9hdHRhY2htZW50cyA9IHZhbHVlO1xuICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgfVxuICBwdWJsaWMgZ2V0IGF0dGFjaG1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9hdHRhY2htZW50cztcbiAgfVxuXG4gIHB1YmxpYyBhYnN0cmFjdCBnZXQgY2FuQ2FuY2VsKCk6IGJvb2xlYW47XG5cbiAgcHVibGljIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiAhdGhpcy50ZXh0LnRyaW0oKSAmJiAhdGhpcy5hdHRhY2htZW50cy5sZW5ndGg7XG4gIH1cblxuICBwcml2YXRlIF90ZXh0ID0gXCJcIjtcblxuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgfVxuXG4gIHNldFRleHQodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3RleHQgPSB2YWx1ZTtcbiAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl90ZXh0ID0gXCJcIjtcbiAgICB0aGlzLl9hdHRhY2htZW50cyA9IFtdO1xuICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzZW5kKCkge1xuICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmdldEF0dGFjaG1lbnRBZGFwdGVyKCk7XG4gICAgY29uc3QgYXR0YWNobWVudHMgPVxuICAgICAgYWRhcHRlciAmJiB0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHMubWFwKGFzeW5jIChhKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpc0F0dGFjaG1lbnRDb21wbGV0ZShhKSkgcmV0dXJuIGE7XG4gICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFkYXB0ZXIuc2VuZChhKTtcbiAgICAgICAgICAgICAgLy8gVE9ETyByZW1vdmUgYWZ0ZXIgMC42LjBcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXM/LnR5cGUgIT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSB7IHR5cGU6IFwiY29tcGxldGVcIiB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQgYXMgQ29tcGxldGVBdHRhY2htZW50O1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuICAgICAgICA6IFtdO1xuXG4gICAgY29uc3QgbWVzc2FnZTogT21pdDxBcHBlbmRNZXNzYWdlLCBcInBhcmVudElkXCI+ID0ge1xuICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICBjb250ZW50OiB0aGlzLnRleHQgPyBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogdGhpcy50ZXh0IH1dIDogW10sXG4gICAgICBhdHRhY2htZW50cyxcbiAgICB9O1xuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIHRoaXMuaGFuZGxlU2VuZChtZXNzYWdlKTtcbiAgfVxuICBwdWJsaWMgYWJzdHJhY3QgaGFuZGxlU2VuZChtZXNzYWdlOiBPbWl0PEFwcGVuZE1lc3NhZ2UsIFwicGFyZW50SWRcIj4pOiB2b2lkO1xuICBwdWJsaWMgYWJzdHJhY3QgY2FuY2VsKCk6IHZvaWQ7XG5cbiAgYXN5bmMgYWRkQXR0YWNobWVudChmaWxlOiBGaWxlKSB7XG4gICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QXR0YWNobWVudEFkYXB0ZXIoKTtcbiAgICBpZiAoIWFkYXB0ZXIpIHRocm93IG5ldyBFcnJvcihcIkF0dGFjaG1lbnRzIGFyZSBub3Qgc3VwcG9ydGVkXCIpO1xuXG4gICAgY29uc3QgYXR0YWNobWVudCA9IGF3YWl0IGFkYXB0ZXIuYWRkKHsgZmlsZSB9KTtcbiAgICAvLyBUT0RPIHJlbW92ZSBhZnRlciAwLjYuMFxuICAgIGlmIChhdHRhY2htZW50LnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBhdHRhY2htZW50LnN0YXR1cyA9IHsgdHlwZTogXCJyZXF1aXJlcy1hY3Rpb25cIiwgcmVhc29uOiBcImNvbXBvc2VyLXNlbmRcIiB9O1xuICAgIH1cblxuICAgIHRoaXMuX2F0dGFjaG1lbnRzID0gWy4uLnRoaXMuX2F0dGFjaG1lbnRzLCBhdHRhY2htZW50IGFzIFBlbmRpbmdBdHRhY2htZW50XTtcbiAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gIH1cblxuICBhc3luYyByZW1vdmVBdHRhY2htZW50KGF0dGFjaG1lbnRJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgYWRhcHRlciA9IHRoaXMuZ2V0QXR0YWNobWVudEFkYXB0ZXIoKTtcbiAgICBpZiAoIWFkYXB0ZXIpIHRocm93IG5ldyBFcnJvcihcIkF0dGFjaG1lbnRzIGFyZSBub3Qgc3VwcG9ydGVkXCIpO1xuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9hdHRhY2htZW50cy5maW5kSW5kZXgoKGEpID0+IGEuaWQgPT09IGF0dGFjaG1lbnRJZCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkgdGhyb3cgbmV3IEVycm9yKFwiQXR0YWNobWVudCBub3QgZm91bmRcIik7XG4gICAgY29uc3QgYXR0YWNobWVudCA9IHRoaXMuX2F0dGFjaG1lbnRzW2luZGV4XSE7XG5cbiAgICBhd2FpdCBhZGFwdGVyLnJlbW92ZShhdHRhY2htZW50KTtcblxuICAgIHRoaXMuX2F0dGFjaG1lbnRzID0gdGhpcy5fYXR0YWNobWVudHMudG9TcGxpY2VkKGluZGV4LCAxKTtcbiAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gIH1cblxuICBwcml2YXRlIF9zdWJzY3JpcHRpb25zID0gbmV3IFNldDwoKSA9PiB2b2lkPigpO1xuICBwcm90ZWN0ZWQgbm90aWZ5U3Vic2NyaWJlcnMoKSB7XG4gICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiB0aGlzLl9zdWJzY3JpcHRpb25zKSBjYWxsYmFjaygpO1xuICB9XG5cbiAgcHVibGljIHN1YnNjcmliZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IFVuc3Vic2NyaWJlIHtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmFkZChjYWxsYmFjayk7XG4gICAgcmV0dXJuICgpID0+IHRoaXMuX3N1YnNjcmlwdGlvbnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwZW5kTWVzc2FnZSwgUGVuZGluZ0F0dGFjaG1lbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IEF0dGFjaG1lbnRBZGFwdGVyIH0gZnJvbSBcIi4uL2F0dGFjaG1lbnRcIjtcbmltcG9ydCB7IFRocmVhZENvbXBvc2VyUnVudGltZUNvcmUgfSBmcm9tIFwiLi4vY29yZS9Db21wb3NlclJ1bnRpbWVDb3JlXCI7XG5pbXBvcnQgeyBUaHJlYWRSdW50aW1lQ29yZSB9IGZyb20gXCIuLi9jb3JlL1RocmVhZFJ1bnRpbWVDb3JlXCI7XG5pbXBvcnQgeyBCYXNlQ29tcG9zZXJSdW50aW1lQ29yZSB9IGZyb20gXCIuL0Jhc2VDb21wb3NlclJ1bnRpbWVDb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0VGhyZWFkQ29tcG9zZXJSdW50aW1lQ29yZVxuICBleHRlbmRzIEJhc2VDb21wb3NlclJ1bnRpbWVDb3JlXG4gIGltcGxlbWVudHMgVGhyZWFkQ29tcG9zZXJSdW50aW1lQ29yZVxue1xuICBwcml2YXRlIF9jYW5DYW5jZWwgPSBmYWxzZTtcbiAgcHVibGljIGdldCBjYW5DYW5jZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbkNhbmNlbDtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBnZXQgYXR0YWNobWVudHMoKTogcmVhZG9ubHkgUGVuZGluZ0F0dGFjaG1lbnRbXSB7XG4gICAgcmV0dXJuIHN1cGVyLmF0dGFjaG1lbnRzIGFzIHJlYWRvbmx5IFBlbmRpbmdBdHRhY2htZW50W107XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0QXR0YWNobWVudEFkYXB0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucnVudGltZS5hZGFwdGVycz8uYXR0YWNobWVudHM7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJ1bnRpbWU6IE9taXQ8VGhyZWFkUnVudGltZUNvcmUsIFwiY29tcG9zZXJcIj4gJiB7XG4gICAgICBhZGFwdGVycz86IHsgYXR0YWNobWVudHM/OiBBdHRhY2htZW50QWRhcHRlciB8IHVuZGVmaW5lZCB9IHwgdW5kZWZpbmVkO1xuICAgIH0sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jb25uZWN0KCk7XG4gIH1cblxuICBwdWJsaWMgY29ubmVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ydW50aW1lLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5jYW5DYW5jZWwgIT09IHRoaXMucnVudGltZS5jYXBhYmlsaXRpZXMuY2FuY2VsKSB7XG4gICAgICAgIHRoaXMuX2NhbkNhbmNlbCA9IHRoaXMucnVudGltZS5jYXBhYmlsaXRpZXMuY2FuY2VsO1xuICAgICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgaGFuZGxlU2VuZChtZXNzYWdlOiBPbWl0PEFwcGVuZE1lc3NhZ2UsIFwicGFyZW50SWRcIj4pIHtcbiAgICB0aGlzLnJ1bnRpbWUuYXBwZW5kKHtcbiAgICAgIC4uLihtZXNzYWdlIGFzIEFwcGVuZE1lc3NhZ2UpLFxuICAgICAgcGFyZW50SWQ6IHRoaXMucnVudGltZS5tZXNzYWdlcy5hdCgtMSk/LmlkID8/IG51bGwsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgY2FuY2VsKCkge1xuICAgIHRoaXMucnVudGltZS5jYW5jZWxSdW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgdHlwZSBNb2RlbENvbmZpZ1Byb3ZpZGVyLFxuICBtZXJnZU1vZGVsQ29uZmlncyxcbn0gZnJvbSBcIi4uL3R5cGVzL01vZGVsQ29uZmlnVHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFByb3h5Q29uZmlnUHJvdmlkZXIgaW1wbGVtZW50cyBNb2RlbENvbmZpZ1Byb3ZpZGVyIHtcbiAgcHJpdmF0ZSBfcHJvdmlkZXJzID0gbmV3IFNldDxNb2RlbENvbmZpZ1Byb3ZpZGVyPigpO1xuXG4gIGdldE1vZGVsQ29uZmlnKCkge1xuICAgIHJldHVybiBtZXJnZU1vZGVsQ29uZmlncyh0aGlzLl9wcm92aWRlcnMpO1xuICB9XG5cbiAgcmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKHByb3ZpZGVyOiBNb2RlbENvbmZpZ1Byb3ZpZGVyKSB7XG4gICAgdGhpcy5fcHJvdmlkZXJzLmFkZChwcm92aWRlcik7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBwcm92aWRlci5zdWJzY3JpYmU/LigoKSA9PiB7XG4gICAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgfSk7XG4gICAgdGhpcy5ub3RpZnlTdWJzY3JpYmVycygpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLl9wcm92aWRlcnMuZGVsZXRlKHByb3ZpZGVyKTtcbiAgICAgIHVuc3Vic2NyaWJlPy4oKTtcbiAgICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBfc3Vic2NyaWJlcnMgPSBuZXcgU2V0PCgpID0+IHZvaWQ+KCk7XG5cbiAgbm90aWZ5U3Vic2NyaWJlcnMoKSB7XG4gICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiB0aGlzLl9zdWJzY3JpYmVycykgY2FsbGJhY2soKTtcbiAgfVxuXG4gIHN1YnNjcmliZShjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMuX3N1YnNjcmliZXJzLmFkZChjYWxsYmFjayk7XG4gICAgcmV0dXJuICgpID0+IHRoaXMuX3N1YnNjcmliZXJzLmRlbGV0ZShjYWxsYmFjayk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGN1c3RvbUFscGhhYmV0IH0gZnJvbSBcIm5hbm9pZC9ub24tc2VjdXJlXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUlkID0gY3VzdG9tQWxwaGFiZXQoXG4gIFwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixcbiAgNyxcbik7XG5cbmNvbnN0IG9wdGltaXN0aWNQcmVmaXggPSBcIl9fb3B0aW1pc3RpY19fXCI7XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVPcHRpbWlzdGljSWQgPSAoKSA9PiBgJHtvcHRpbWlzdGljUHJlZml4fSR7Z2VuZXJhdGVJZCgpfWA7XG5leHBvcnQgY29uc3QgaXNPcHRpbWlzdGljSWQgPSAoaWQ6IHN0cmluZykgPT4gaWQuc3RhcnRzV2l0aChvcHRpbWlzdGljUHJlZml4KTtcbiIsImltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWxcIjtcbmltcG9ydCB7XG4gIFRocmVhZE1lc3NhZ2UsXG4gIENvcmVNZXNzYWdlLFxuICBUb29sQ2FsbENvbnRlbnRQYXJ0LFxuICBNZXNzYWdlU3RhdHVzLFxuICBDb21wbGV0ZUF0dGFjaG1lbnQsXG59IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZnJvbUNvcmVNZXNzYWdlcyA9IChcbiAgbWVzc2FnZTogcmVhZG9ubHkgQ29yZU1lc3NhZ2VbXSxcbik6IFRocmVhZE1lc3NhZ2VbXSA9PiB7XG4gIHJldHVybiBtZXNzYWdlLm1hcCgobWVzc2FnZSkgPT4gZnJvbUNvcmVNZXNzYWdlKG1lc3NhZ2UpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmcm9tQ29yZU1lc3NhZ2UgPSAoXG4gIG1lc3NhZ2U6IENvcmVNZXNzYWdlLFxuICB7XG4gICAgaWQgPSBnZW5lcmF0ZUlkKCksXG4gICAgc3RhdHVzID0geyB0eXBlOiBcImNvbXBsZXRlXCIsIHJlYXNvbjogXCJ1bmtub3duXCIgfSBhcyBNZXNzYWdlU3RhdHVzLFxuICAgIGF0dGFjaG1lbnRzID0gW10gYXMgcmVhZG9ubHkgQ29tcGxldGVBdHRhY2htZW50W10sXG4gIH0gPSB7fSxcbik6IFRocmVhZE1lc3NhZ2UgPT4ge1xuICBjb25zdCBjb21tb25Qcm9wcyA9IHtcbiAgICBpZCxcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gIH07XG5cbiAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZTtcbiAgc3dpdGNoIChyb2xlKSB7XG4gICAgY2FzZSBcImFzc2lzdGFudFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY29tbW9uUHJvcHMsXG4gICAgICAgIHJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudC5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICBpZiAocGFydC50eXBlID09PSBcInRvb2wtY2FsbFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5wYXJ0LFxuICAgICAgICAgICAgICBhcmdzVGV4dDogSlNPTi5zdHJpbmdpZnkocGFydC5hcmdzKSxcbiAgICAgICAgICAgIH0gc2F0aXNmaWVzIFRvb2xDYWxsQ29udGVudFBhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICB9KSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgfSBzYXRpc2ZpZXMgVGhyZWFkTWVzc2FnZTtcblxuICAgIGNhc2UgXCJ1c2VyXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jb21tb25Qcm9wcyxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICBhdHRhY2htZW50cyxcbiAgICAgIH0gc2F0aXNmaWVzIFRocmVhZE1lc3NhZ2U7XG5cbiAgICBjYXNlIFwic3lzdGVtXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jb21tb25Qcm9wcyxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgfSBzYXRpc2ZpZXMgVGhyZWFkTWVzc2FnZTtcblxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IHVuc3VwcG9ydGVkUm9sZTogbmV2ZXIgPSByb2xlO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG1lc3NhZ2Ugcm9sZTogJHt1bnN1cHBvcnRlZFJvbGV9YCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHR5cGUgeyBDb3JlTWVzc2FnZSwgVGhyZWFkTWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVPcHRpbWlzdGljSWQgfSBmcm9tIFwiLi4vLi4vdXRpbHMvaWRVdGlsc1wiO1xuaW1wb3J0IHsgZnJvbUNvcmVNZXNzYWdlIH0gZnJvbSBcIi4uL2VkZ2UvY29udmVydGVycy9mcm9tQ29yZU1lc3NhZ2VcIjtcblxudHlwZSBSZXBvc2l0b3J5UGFyZW50ID0ge1xuICBjaGlsZHJlbjogc3RyaW5nW107XG4gIG5leHQ6IFJlcG9zaXRvcnlNZXNzYWdlIHwgbnVsbDtcbn07XG5cbnR5cGUgUmVwb3NpdG9yeU1lc3NhZ2UgPSBSZXBvc2l0b3J5UGFyZW50ICYge1xuICBwcmV2OiBSZXBvc2l0b3J5TWVzc2FnZSB8IG51bGw7XG4gIGN1cnJlbnQ6IFRocmVhZE1lc3NhZ2U7XG4gIGxldmVsOiBudW1iZXI7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEV4cG9ydGVkTWVzc2FnZVJlcG9zaXRvcnkge1xuICBoZWFkSWQ/OiBzdHJpbmcgfCBudWxsO1xuICBtZXNzYWdlczogQXJyYXk8e1xuICAgIG1lc3NhZ2U6IFRocmVhZE1lc3NhZ2U7XG4gICAgcGFyZW50SWQ6IHN0cmluZyB8IG51bGw7XG4gIH0+O1xufVxuXG5jb25zdCBmaW5kSGVhZCA9IChcbiAgbWVzc2FnZTogUmVwb3NpdG9yeU1lc3NhZ2UgfCBSZXBvc2l0b3J5UGFyZW50LFxuKTogUmVwb3NpdG9yeU1lc3NhZ2UgfCBudWxsID0+IHtcbiAgaWYgKG1lc3NhZ2UubmV4dCkgcmV0dXJuIGZpbmRIZWFkKG1lc3NhZ2UubmV4dCk7XG4gIGlmIChcImN1cnJlbnRcIiBpbiBtZXNzYWdlKSByZXR1cm4gbWVzc2FnZTtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY2xhc3MgTWVzc2FnZVJlcG9zaXRvcnkge1xuICBwcml2YXRlIG1lc3NhZ2VzID0gbmV3IE1hcDxzdHJpbmcsIFJlcG9zaXRvcnlNZXNzYWdlPigpOyAvLyBtZXNzYWdlX2lkIC0+IGl0ZW1cbiAgcHJpdmF0ZSBoZWFkOiBSZXBvc2l0b3J5TWVzc2FnZSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJvb3Q6IFJlcG9zaXRvcnlQYXJlbnQgPSB7XG4gICAgY2hpbGRyZW46IFtdLFxuICAgIG5leHQ6IG51bGwsXG4gIH07XG5cbiAgcHJpdmF0ZSBwZXJmb3JtT3AoXG4gICAgbmV3UGFyZW50OiBSZXBvc2l0b3J5TWVzc2FnZSB8IG51bGwsXG4gICAgY2hpbGQ6IFJlcG9zaXRvcnlNZXNzYWdlLFxuICAgIG9wZXJhdGlvbjogXCJjdXRcIiB8IFwibGlua1wiIHwgXCJyZWxpbmtcIixcbiAgKSB7XG4gICAgY29uc3QgcGFyZW50T3JSb290ID0gY2hpbGQucHJldiA/PyB0aGlzLnJvb3Q7XG4gICAgY29uc3QgbmV3UGFyZW50T3JSb290ID0gbmV3UGFyZW50ID8/IHRoaXMucm9vdDtcblxuICAgIGlmIChvcGVyYXRpb24gPT09IFwicmVsaW5rXCIgJiYgcGFyZW50T3JSb290ID09PSBuZXdQYXJlbnRPclJvb3QpIHJldHVybjtcblxuICAgIC8vIGN1dFxuICAgIGlmIChvcGVyYXRpb24gIT09IFwibGlua1wiKSB7XG4gICAgICAvLyByZW1vdmUgZnJvbSBwYXJlbnRPclJvb3QuY2hpbGRyZW5cbiAgICAgIHBhcmVudE9yUm9vdC5jaGlsZHJlbiA9IHBhcmVudE9yUm9vdC5jaGlsZHJlbi5maWx0ZXIoXG4gICAgICAgIChtKSA9PiBtICE9PSBjaGlsZC5jdXJyZW50LmlkLFxuICAgICAgKTtcblxuICAgICAgLy8gdXBkYXRlIHBhcmVudE9yUm9vdC5uZXh0XG4gICAgICBpZiAocGFyZW50T3JSb290Lm5leHQgPT09IGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrSWQgPSBwYXJlbnRPclJvb3QuY2hpbGRyZW4uYXQoLTEpO1xuICAgICAgICBjb25zdCBmYWxsYmFjayA9IGZhbGxiYWNrSWQgPyB0aGlzLm1lc3NhZ2VzLmdldChmYWxsYmFja0lkKSA6IG51bGw7XG4gICAgICAgIGlmIChmYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJNZXNzYWdlUmVwb3NpdG9yeShwZXJmb3JtT3AvY3V0KTogRmFsbGJhY2sgc2libGluZyBtZXNzYWdlIG5vdCBmb3VuZC4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudE9yUm9vdC5uZXh0ID0gZmFsbGJhY2s7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbGlua1xuICAgIGlmIChvcGVyYXRpb24gIT09IFwiY3V0XCIpIHtcbiAgICAgIC8vIGVuc3VyZSB0aGUgY2hpbGQgaXMgbm90IHBhcnQgb2YgcGFyZW50IHRyZWVcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBjdXJyZW50OiBSZXBvc2l0b3J5TWVzc2FnZSB8IG51bGwgPSBuZXdQYXJlbnQ7XG4gICAgICAgIGN1cnJlbnQ7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnByZXZcbiAgICAgICkge1xuICAgICAgICBpZiAoY3VycmVudC5jdXJyZW50LmlkID09PSBjaGlsZC5jdXJyZW50LmlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJNZXNzYWdlUmVwb3NpdG9yeShwZXJmb3JtT3AvbGluayk6IEEgbWVzc2FnZSB3aXRoIHRoZSBzYW1lIGlkIGFscmVhZHkgZXhpc3RzIGluIHRoZSBwYXJlbnQgdHJlZS4gVGhpcyBlcnJvciBvY2N1cnMgaWYgdGhlIHNhbWUgbWVzc2FnZSBpZCBpcyBmb3VuZCBtdWx0aXBsZSB0aW1lcy4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCB0byBwYXJlbnRPclJvb3QuY2hpbGRyZW5cbiAgICAgIG5ld1BhcmVudE9yUm9vdC5jaGlsZHJlbiA9IFtcbiAgICAgICAgLi4ubmV3UGFyZW50T3JSb290LmNoaWxkcmVuLFxuICAgICAgICBjaGlsZC5jdXJyZW50LmlkLFxuICAgICAgXTtcblxuICAgICAgLy8gdXBkYXRlIHBhcmVudE9yUm9vdC5uZXh0XG4gICAgICBpZiAoZmluZEhlYWQoY2hpbGQpID09PSB0aGlzLmhlYWQgfHwgbmV3UGFyZW50T3JSb290Lm5leHQgPT09IG51bGwpIHtcbiAgICAgICAgbmV3UGFyZW50T3JSb290Lm5leHQgPSBjaGlsZDtcbiAgICAgIH1cblxuICAgICAgY2hpbGQucHJldiA9IG5ld1BhcmVudDtcbiAgICB9XG4gIH1cbiAgZ2V0TWVzc2FnZXMoKSB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBuZXcgQXJyYXk8VGhyZWFkTWVzc2FnZT4odGhpcy5oZWFkPy5sZXZlbCA/PyAwKTtcbiAgICBmb3IgKGxldCBjdXJyZW50ID0gdGhpcy5oZWFkOyBjdXJyZW50OyBjdXJyZW50ID0gY3VycmVudC5wcmV2KSB7XG4gICAgICBtZXNzYWdlc1tjdXJyZW50LmxldmVsXSA9IGN1cnJlbnQuY3VycmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VzO1xuICB9XG5cbiAgYWRkT3JVcGRhdGVNZXNzYWdlKHBhcmVudElkOiBzdHJpbmcgfCBudWxsLCBtZXNzYWdlOiBUaHJlYWRNZXNzYWdlKSB7XG4gICAgY29uc3QgZXhpc3RpbmdJdGVtID0gdGhpcy5tZXNzYWdlcy5nZXQobWVzc2FnZS5pZCk7XG4gICAgY29uc3QgcHJldiA9IHBhcmVudElkID8gdGhpcy5tZXNzYWdlcy5nZXQocGFyZW50SWQpIDogbnVsbDtcbiAgICBpZiAocHJldiA9PT0gdW5kZWZpbmVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk1lc3NhZ2VSZXBvc2l0b3J5KGFkZE9yVXBkYXRlTWVzc2FnZSk6IFBhcmVudCBtZXNzYWdlIG5vdCBmb3VuZC4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICk7XG5cbiAgICAvLyB1cGRhdGUgZXhpc3RpbmcgbWVzc2FnZVxuICAgIGlmIChleGlzdGluZ0l0ZW0pIHtcbiAgICAgIGV4aXN0aW5nSXRlbS5jdXJyZW50ID0gbWVzc2FnZTtcbiAgICAgIHRoaXMucGVyZm9ybU9wKHByZXYsIGV4aXN0aW5nSXRlbSwgXCJyZWxpbmtcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGEgbmV3IG1lc3NhZ2VcbiAgICBjb25zdCBuZXdJdGVtOiBSZXBvc2l0b3J5TWVzc2FnZSA9IHtcbiAgICAgIHByZXYsXG4gICAgICBjdXJyZW50OiBtZXNzYWdlLFxuICAgICAgbmV4dDogbnVsbCxcbiAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgIGxldmVsOiBwcmV2ID8gcHJldi5sZXZlbCArIDEgOiAwLFxuICAgIH07XG5cbiAgICB0aGlzLm1lc3NhZ2VzLnNldChtZXNzYWdlLmlkLCBuZXdJdGVtKTtcbiAgICB0aGlzLnBlcmZvcm1PcChwcmV2LCBuZXdJdGVtLCBcImxpbmtcIik7XG5cbiAgICBpZiAodGhpcy5oZWFkID09PSBwcmV2KSB7XG4gICAgICB0aGlzLmhlYWQgPSBuZXdJdGVtO1xuICAgIH1cbiAgfVxuXG4gIGdldE1lc3NhZ2UobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKTtcbiAgICBpZiAoIW1lc3NhZ2UpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTWVzc2FnZVJlcG9zaXRvcnkodXBkYXRlTWVzc2FnZSk6IE1lc3NhZ2Ugbm90IGZvdW5kLiBUaGlzIGlzIGxpa2VseSBhbiBpbnRlcm5hbCBidWcgaW4gYXNzaXN0YW50LXVpLlwiLFxuICAgICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBwYXJlbnRJZDogbWVzc2FnZS5wcmV2Py5jdXJyZW50LmlkID8/IG51bGwsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLmN1cnJlbnQsXG4gICAgfTtcbiAgfVxuXG4gIGFwcGVuZE9wdGltaXN0aWNNZXNzYWdlKHBhcmVudElkOiBzdHJpbmcgfCBudWxsLCBtZXNzYWdlOiBDb3JlTWVzc2FnZSkge1xuICAgIGxldCBvcHRpbWlzdGljSWQ6IHN0cmluZztcbiAgICBkbyB7XG4gICAgICBvcHRpbWlzdGljSWQgPSBnZW5lcmF0ZU9wdGltaXN0aWNJZCgpO1xuICAgIH0gd2hpbGUgKHRoaXMubWVzc2FnZXMuaGFzKG9wdGltaXN0aWNJZCkpO1xuXG4gICAgdGhpcy5hZGRPclVwZGF0ZU1lc3NhZ2UoXG4gICAgICBwYXJlbnRJZCxcbiAgICAgIGZyb21Db3JlTWVzc2FnZShtZXNzYWdlLCB7XG4gICAgICAgIGlkOiBvcHRpbWlzdGljSWQsXG4gICAgICAgIHN0YXR1czogeyB0eXBlOiBcInJ1bm5pbmdcIiB9LFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHJldHVybiBvcHRpbWlzdGljSWQ7XG4gIH1cblxuICBkZWxldGVNZXNzYWdlKG1lc3NhZ2VJZDogc3RyaW5nLCByZXBsYWNlbWVudElkPzogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzLmdldChtZXNzYWdlSWQpO1xuXG4gICAgaWYgKCFtZXNzYWdlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk1lc3NhZ2VSZXBvc2l0b3J5KGRlbGV0ZU1lc3NhZ2UpOiBPcHRpbWlzdGljIG1lc3NhZ2Ugbm90IGZvdW5kLiBUaGlzIGlzIGxpa2VseSBhbiBpbnRlcm5hbCBidWcgaW4gYXNzaXN0YW50LXVpLlwiLFxuICAgICAgKTtcblxuICAgIGNvbnN0IHJlcGxhY2VtZW50ID1cbiAgICAgIHJlcGxhY2VtZW50SWQgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IG1lc3NhZ2UucHJldiAvLyBpZiBubyByZXBsYWNlbWVudElkIGlzIHByb3ZpZGVkLCB1c2UgdGhlIHBhcmVudFxuICAgICAgICA6IHJlcGxhY2VtZW50SWQgPT09IG51bGxcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHRoaXMubWVzc2FnZXMuZ2V0KHJlcGxhY2VtZW50SWQpO1xuICAgIGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk1lc3NhZ2VSZXBvc2l0b3J5KGRlbGV0ZU1lc3NhZ2UpOiBSZXBsYWNlbWVudCBub3QgZm91bmQuIFRoaXMgaXMgbGlrZWx5IGFuIGludGVybmFsIGJ1ZyBpbiBhc3Npc3RhbnQtdWkuXCIsXG4gICAgICApO1xuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBtZXNzYWdlLmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBjaGlsZE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzLmdldChjaGlsZCk7XG4gICAgICBpZiAoIWNoaWxkTWVzc2FnZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiTWVzc2FnZVJlcG9zaXRvcnkoZGVsZXRlTWVzc2FnZSk6IENoaWxkIG1lc3NhZ2Ugbm90IGZvdW5kLiBUaGlzIGlzIGxpa2VseSBhbiBpbnRlcm5hbCBidWcgaW4gYXNzaXN0YW50LXVpLlwiLFxuICAgICAgICApO1xuICAgICAgdGhpcy5wZXJmb3JtT3AocmVwbGFjZW1lbnQsIGNoaWxkTWVzc2FnZSwgXCJyZWxpbmtcIik7XG4gICAgfVxuXG4gICAgdGhpcy5wZXJmb3JtT3AobnVsbCwgbWVzc2FnZSwgXCJjdXRcIik7XG4gICAgdGhpcy5tZXNzYWdlcy5kZWxldGUobWVzc2FnZUlkKTtcblxuICAgIGlmICh0aGlzLmhlYWQgPT09IG1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuaGVhZCA9IGZpbmRIZWFkKHJlcGxhY2VtZW50ID8/IHRoaXMucm9vdCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0QnJhbmNoZXMobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKTtcbiAgICBpZiAoIW1lc3NhZ2UpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTWVzc2FnZVJlcG9zaXRvcnkoZ2V0QnJhbmNoZXMpOiBNZXNzYWdlIG5vdCBmb3VuZC4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICk7XG5cbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSBtZXNzYWdlLnByZXYgPz8gdGhpcy5yb290O1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuXG4gIHN3aXRjaFRvQnJhbmNoKG1lc3NhZ2VJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJZCk7XG4gICAgaWYgKCFtZXNzYWdlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk1lc3NhZ2VSZXBvc2l0b3J5KHN3aXRjaFRvQnJhbmNoKTogQnJhbmNoIG5vdCBmb3VuZC4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICk7XG5cbiAgICBjb25zdCBwcmV2T3JSb290ID0gbWVzc2FnZS5wcmV2ID8/IHRoaXMucm9vdDtcbiAgICBwcmV2T3JSb290Lm5leHQgPSBtZXNzYWdlO1xuXG4gICAgdGhpcy5oZWFkID0gZmluZEhlYWQobWVzc2FnZSk7XG4gIH1cblxuICByZXNldEhlYWQobWVzc2FnZUlkOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgaWYgKG1lc3NhZ2VJZCA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5oZWFkID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlcy5nZXQobWVzc2FnZUlkKTtcbiAgICBpZiAoIW1lc3NhZ2UpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTWVzc2FnZVJlcG9zaXRvcnkocmVzZXRIZWFkKTogQnJhbmNoIG5vdCBmb3VuZC4gVGhpcyBpcyBsaWtlbHkgYW4gaW50ZXJuYWwgYnVnIGluIGFzc2lzdGFudC11aS5cIixcbiAgICAgICk7XG5cbiAgICB0aGlzLmhlYWQgPSBtZXNzYWdlO1xuICAgIGZvciAoXG4gICAgICBsZXQgY3VycmVudDogUmVwb3NpdG9yeU1lc3NhZ2UgfCBudWxsID0gbWVzc2FnZTtcbiAgICAgIGN1cnJlbnQ7XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wcmV2XG4gICAgKSB7XG4gICAgICBpZiAoY3VycmVudC5wcmV2KSB7XG4gICAgICAgIGN1cnJlbnQucHJldi5uZXh0ID0gY3VycmVudDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBleHBvcnQoKTogRXhwb3J0ZWRNZXNzYWdlUmVwb3NpdG9yeSB7XG4gICAgY29uc3QgZXhwb3J0SXRlbXM6IEV4cG9ydGVkTWVzc2FnZVJlcG9zaXRvcnlbXCJtZXNzYWdlc1wiXSA9IFtdO1xuXG4gICAgLy8gaGludDogd2UgYXJlIHJlbHlpbmcgb24gdGhlIGluc2VydGlvbiBvcmRlciBvZiB0aGUgbWVzc2FnZXNcbiAgICAvLyB0aGlzIGlzIGltcG9ydGFudCBmb3IgdGhlIGltcG9ydCBmdW5jdGlvbiB0byBwcm9wZXJseSBsaW5rIHRoZSBtZXNzYWdlc1xuICAgIGZvciAoY29uc3QgWywgbWVzc2FnZV0gb2YgdGhpcy5tZXNzYWdlcykge1xuICAgICAgZXhwb3J0SXRlbXMucHVzaCh7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UuY3VycmVudCxcbiAgICAgICAgcGFyZW50SWQ6IG1lc3NhZ2UucHJldj8uY3VycmVudC5pZCA/PyBudWxsLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhlYWRJZDogdGhpcy5oZWFkPy5jdXJyZW50LmlkID8/IG51bGwsXG4gICAgICBtZXNzYWdlczogZXhwb3J0SXRlbXMsXG4gICAgfTtcbiAgfVxuXG4gIGltcG9ydCh7IGhlYWRJZCwgbWVzc2FnZXMgfTogRXhwb3J0ZWRNZXNzYWdlUmVwb3NpdG9yeSkge1xuICAgIGZvciAoY29uc3QgeyBtZXNzYWdlLCBwYXJlbnRJZCB9IG9mIG1lc3NhZ2VzKSB7XG4gICAgICB0aGlzLmFkZE9yVXBkYXRlTWVzc2FnZShwYXJlbnRJZCwgbWVzc2FnZSk7XG4gICAgfVxuXG4gICAgLy8gc3dpdGNoIHRvIHRoZSBzYXZlZCBoZWFkIGlkIGlmIGl0IGlzIG5vdCB0aGUgbW9zdCByZWNlbnQgbWVzc2FnZVxuICAgIHRoaXMucmVzZXRIZWFkKGhlYWRJZCA/PyBtZXNzYWdlcy5hdCgtMSk/Lm1lc3NhZ2UuaWQgPz8gbnVsbCk7XG4gIH1cbn1cbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBmb3J3YXJkUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUb29sdGlwLCBUb29sdGlwQ29udGVudCwgVG9vbHRpcFRyaWdnZXIgfSBmcm9tIFwiLi90b29sdGlwXCI7XG5pbXBvcnQgeyBCdXR0b24sIEJ1dHRvblByb3BzIH0gZnJvbSBcIi4vYnV0dG9uXCI7XG5cbmV4cG9ydCB0eXBlIFRvb2x0aXBJY29uQnV0dG9uUHJvcHMgPSBCdXR0b25Qcm9wcyAmIHtcbiAgdG9vbHRpcDogc3RyaW5nO1xuICBzaWRlPzogXCJ0b3BcIiB8IFwiYm90dG9tXCIgfCBcImxlZnRcIiB8IFwicmlnaHRcIjtcbn07XG5cbmV4cG9ydCBjb25zdCBUb29sdGlwSWNvbkJ1dHRvbiA9IGZvcndhcmRSZWY8XG4gIEhUTUxCdXR0b25FbGVtZW50LFxuICBUb29sdGlwSWNvbkJ1dHRvblByb3BzXG4+KCh7IGNoaWxkcmVuLCB0b29sdGlwLCBzaWRlID0gXCJib3R0b21cIiwgLi4ucmVzdCB9LCByZWYpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8VG9vbHRpcD5cbiAgICAgIDxUb29sdGlwVHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJpY29uXCIgey4uLnJlc3R9IHJlZj17cmVmfT5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYXVpLXNyLW9ubHlcIj57dG9vbHRpcH08L3NwYW4+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICAgIDxUb29sdGlwQ29udGVudCBzaWRlPXtzaWRlfT57dG9vbHRpcH08L1Rvb2x0aXBDb250ZW50PlxuICAgIDwvVG9vbHRpcD5cbiAgKTtcbn0pO1xuXG5Ub29sdGlwSWNvbkJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiVG9vbHRpcEljb25CdXR0b25cIjtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgKiBhcyBUb29sdGlwUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdG9vbHRpcFwiO1xuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4uL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IHsgRkMgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNvbnN0IFRvb2x0aXA6IEZDPFRvb2x0aXBQcmltaXRpdmUuVG9vbHRpcFByb3BzPiA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxUb29sdGlwUHJpbWl0aXZlLlByb3ZpZGVyPlxuICAgICAgPFRvb2x0aXBQcmltaXRpdmUuUm9vdCB7Li4ucHJvcHN9IC8+XG4gICAgPC9Ub29sdGlwUHJpbWl0aXZlLlByb3ZpZGVyPlxuICApO1xufTtcblxuVG9vbHRpcC5kaXNwbGF5TmFtZSA9IFwiVG9vbHRpcFwiO1xuXG5leHBvcnQgY29uc3QgVG9vbHRpcFRyaWdnZXIgPSBUb29sdGlwUHJpbWl0aXZlLlRyaWdnZXI7XG5cbmV4cG9ydCBjb25zdCBUb29sdGlwQ29udGVudCA9IHdpdGhEZWZhdWx0cyhUb29sdGlwUHJpbWl0aXZlLkNvbnRlbnQsIHtcbiAgc2lkZU9mZnNldDogNCxcbiAgY2xhc3NOYW1lOiBcImF1aS10b29sdGlwLWNvbnRlbnRcIixcbn0pO1xuXG5Ub29sdGlwQ29udGVudC5kaXNwbGF5TmFtZSA9IFwiVG9vbHRpcENvbnRlbnRcIjtcbiIsImltcG9ydCB7XG4gIENvbXBvbmVudFByb3BzV2l0aG91dFJlZixcbiAgRWxlbWVudFJlZixcbiAgRWxlbWVudFR5cGUsXG4gIGZvcndhcmRSZWYsXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSBcImNsYXNzbmFtZXNcIjtcblxuZXhwb3J0IGNvbnN0IHdpdGhEZWZhdWx0UHJvcHMgPVxuICA8VFByb3BzIGV4dGVuZHMgeyBjbGFzc05hbWU/OiBzdHJpbmcgfT4oe1xuICAgIGNsYXNzTmFtZSxcbiAgICAuLi5kZWZhdWx0UHJvcHNcbiAgfTogUGFydGlhbDxUUHJvcHM+KSA9PlxuICAoeyBjbGFzc05hbWU6IGNsYXNzTmFtZVByb3AsIC4uLnByb3BzIH06IFRQcm9wcykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3NOYW1lLCBjbGFzc05hbWVQcm9wKSxcbiAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgIC4uLnByb3BzLFxuICAgIH0gYXMgVFByb3BzO1xuICB9O1xuXG5leHBvcnQgY29uc3Qgd2l0aERlZmF1bHRzID0gPFRDb21wb25lbnQgZXh0ZW5kcyBFbGVtZW50VHlwZT4oXG4gIENvbXBvbmVudDogVENvbXBvbmVudCxcbiAgZGVmYXVsdFByb3BzOiBQYXJ0aWFsPENvbXBvbmVudFByb3BzV2l0aG91dFJlZjxUQ29tcG9uZW50Pj4sXG4pID0+IHtcbiAgdHlwZSBUQ29tcG9uZW50UHJvcHMgPSB0eXBlb2YgZGVmYXVsdFByb3BzO1xuICBjb25zdCBnZXRQcm9wcyA9IHdpdGhEZWZhdWx0UHJvcHM8VENvbXBvbmVudFByb3BzPihkZWZhdWx0UHJvcHMpO1xuICBjb25zdCBXaXRoRGVmYXVsdHMgPSBmb3J3YXJkUmVmPEVsZW1lbnRSZWY8VENvbXBvbmVudD4sIFRDb21wb25lbnRQcm9wcz4oXG4gICAgKHByb3BzLCByZWYpID0+IHtcbiAgICAgIGNvbnN0IENvbXBvbmVudEFzQW55ID0gQ29tcG9uZW50IGFzIGFueTtcbiAgICAgIHJldHVybiA8Q29tcG9uZW50QXNBbnkgey4uLmdldFByb3BzKHByb3BzIGFzIGFueSl9IHJlZj17cmVmfSAvPjtcbiAgICB9LFxuICApO1xuICBXaXRoRGVmYXVsdHMuZGlzcGxheU5hbWUgPVxuICAgIFwid2l0aERlZmF1bHRzKFwiICtcbiAgICAodHlwZW9mIENvbXBvbmVudCA9PT0gXCJzdHJpbmdcIiA/IENvbXBvbmVudCA6IENvbXBvbmVudC5kaXNwbGF5TmFtZSkgK1xuICAgIFwiKVwiO1xuICByZXR1cm4gV2l0aERlZmF1bHRzO1xufTtcbiIsImltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tIFwiY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBidXR0b25WYXJpYW50cyA9IGN2YShcImF1aS1idXR0b25cIiwge1xuICB2YXJpYW50czoge1xuICAgIHZhcmlhbnQ6IHtcbiAgICAgIGRlZmF1bHQ6IFwiYXVpLWJ1dHRvbi1wcmltYXJ5XCIsXG4gICAgICBvdXRsaW5lOiBcImF1aS1idXR0b24tb3V0bGluZVwiLFxuICAgICAgZ2hvc3Q6IFwiYXVpLWJ1dHRvbi1naG9zdFwiLFxuICAgIH0sXG4gICAgc2l6ZToge1xuICAgICAgZGVmYXVsdDogXCJhdWktYnV0dG9uLW1lZGl1bVwiLFxuICAgICAgaWNvbjogXCJhdWktYnV0dG9uLWljb25cIixcbiAgICB9LFxuICB9LFxuICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgICBzaXplOiBcImRlZmF1bHRcIixcbiAgfSxcbn0pO1xuXG50eXBlIEJ1dHRvbkVsZW1lbnQgPSBFbGVtZW50UmVmPHR5cGVvZiBQcmltaXRpdmUuYnV0dG9uPjtcblxuZXhwb3J0IHR5cGUgQnV0dG9uUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8XG4gIHR5cGVvZiBQcmltaXRpdmUuYnV0dG9uXG4+ICZcbiAgVmFyaWFudFByb3BzPHR5cGVvZiBidXR0b25WYXJpYW50cz47XG5cbmNvbnN0IEJ1dHRvbiA9IGZvcndhcmRSZWY8QnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KFxuICAoeyBjbGFzc05hbWUsIHZhcmlhbnQsIHNpemUsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8UHJpbWl0aXZlLmJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2J1dHRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgY2xhc3NOYW1lIH0pfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgLz5cbiAgICApO1xuICB9LFxuKTtcblxuQnV0dG9uLmRpc3BsYXlOYW1lID0gXCJCdXR0b25cIjtcblxuZXhwb3J0IHsgQnV0dG9uLCBidXR0b25WYXJpYW50cyB9O1xuIiwiaW1wb3J0IHtcbiAgQWRkVG9vbFJlc3VsdE9wdGlvbnMsXG4gIFRocmVhZFN1Z2dlc3Rpb24sXG4gIFJ1bnRpbWVDYXBhYmlsaXRpZXMsXG4gIFN1Ym1pdEZlZWRiYWNrT3B0aW9ucyxcbiAgVGhyZWFkUnVudGltZUNvcmUsXG4gIFNwZWVjaFN0YXRlLFxuICBTdWJtaXR0ZWRGZWVkYmFjayxcbiAgVGhyZWFkUnVudGltZUV2ZW50VHlwZSxcbn0gZnJvbSBcIi4uL3J1bnRpbWVzL2NvcmUvVGhyZWFkUnVudGltZUNvcmVcIjtcbmltcG9ydCB7IEV4cG9ydGVkTWVzc2FnZVJlcG9zaXRvcnkgfSBmcm9tIFwiLi4vcnVudGltZXMvdXRpbHMvTWVzc2FnZVJlcG9zaXRvcnlcIjtcbmltcG9ydCB7XG4gIEFwcGVuZE1lc3NhZ2UsXG4gIE1vZGVsQ29uZmlnLFxuICBUaHJlYWRNZXNzYWdlLFxuICBVbnN1YnNjcmliZSxcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQge1xuICBNZXNzYWdlUnVudGltZSxcbiAgTWVzc2FnZVJ1bnRpbWVJbXBsLFxuICBNZXNzYWdlU3RhdGUsXG59IGZyb20gXCIuL01lc3NhZ2VSdW50aW1lXCI7XG5pbXBvcnQgeyBOZXN0ZWRTdWJzY3JpcHRpb25TdWJqZWN0IH0gZnJvbSBcIi4vc3Vic2NyaWJhYmxlL05lc3RlZFN1YnNjcmlwdGlvblN1YmplY3RcIjtcbmltcG9ydCB7IFNoYWxsb3dNZW1vaXplU3ViamVjdCB9IGZyb20gXCIuL3N1YnNjcmliYWJsZS9TaGFsbG93TWVtb2l6ZVN1YmplY3RcIjtcbmltcG9ydCB7XG4gIFN1YnNjcmliYWJsZSxcbiAgU3Vic2NyaWJhYmxlV2l0aFN0YXRlLFxufSBmcm9tIFwiLi9zdWJzY3JpYmFibGUvU3Vic2NyaWJhYmxlXCI7XG5pbXBvcnQge1xuICBUaHJlYWRDb21wb3NlclJ1bnRpbWUsXG4gIFRocmVhZENvbXBvc2VyUnVudGltZUltcGwsXG59IGZyb20gXCIuL0NvbXBvc2VyUnVudGltZVwiO1xuaW1wb3J0IHsgTGF6eU1lbW9pemVTdWJqZWN0IH0gZnJvbSBcIi4vc3Vic2NyaWJhYmxlL0xhenlNZW1vaXplU3ViamVjdFwiO1xuaW1wb3J0IHsgU0tJUF9VUERBVEUgfSBmcm9tIFwiLi9zdWJzY3JpYmFibGUvU0tJUF9VUERBVEVcIjtcbmltcG9ydCB7IENvbXBvc2VyUnVudGltZUNvcmUgfSBmcm9tIFwiLi4vcnVudGltZXMvY29yZS9Db21wb3NlclJ1bnRpbWVDb3JlXCI7XG5pbXBvcnQgeyBNZXNzYWdlUnVudGltZVBhdGgsIFRocmVhZFJ1bnRpbWVQYXRoIH0gZnJvbSBcIi4vUGF0aFR5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIENyZWF0ZUFwcGVuZE1lc3NhZ2UgPVxuICB8IHN0cmluZ1xuICB8IHtcbiAgICAgIHBhcmVudElkPzogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICAgIHJvbGU/OiBBcHBlbmRNZXNzYWdlW1wicm9sZVwiXSB8IHVuZGVmaW5lZDtcbiAgICAgIGNvbnRlbnQ6IEFwcGVuZE1lc3NhZ2VbXCJjb250ZW50XCJdO1xuICAgICAgYXR0YWNobWVudHM/OiBBcHBlbmRNZXNzYWdlW1wiYXR0YWNobWVudHNcIl0gfCB1bmRlZmluZWQ7XG4gICAgfTtcblxuY29uc3QgdG9BcHBlbmRNZXNzYWdlID0gKFxuICBtZXNzYWdlczogcmVhZG9ubHkgVGhyZWFkTWVzc2FnZVtdLFxuICBtZXNzYWdlOiBDcmVhdGVBcHBlbmRNZXNzYWdlLFxuKTogQXBwZW5kTWVzc2FnZSA9PiB7XG4gIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJlbnRJZDogbWVzc2FnZXMuYXQoLTEpPy5pZCA/PyBudWxsLFxuICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICBjb250ZW50OiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogbWVzc2FnZSB9XSxcbiAgICAgIGF0dGFjaG1lbnRzOiBbXSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKG1lc3NhZ2Uucm9sZSAmJiBtZXNzYWdlLnBhcmVudElkICYmIG1lc3NhZ2UuYXR0YWNobWVudHMpIHtcbiAgICByZXR1cm4gbWVzc2FnZSBhcyBBcHBlbmRNZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwYXJlbnRJZDogbWVzc2FnZS5wYXJlbnRJZCA/PyBtZXNzYWdlcy5hdCgtMSk/LmlkID8/IG51bGwsXG4gICAgcm9sZTogbWVzc2FnZS5yb2xlID8/IFwidXNlclwiLFxuICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICBhdHRhY2htZW50czogbWVzc2FnZS5hdHRhY2htZW50cyA/PyBbXSxcbiAgfSBhcyBBcHBlbmRNZXNzYWdlO1xufTtcblxuZXhwb3J0IHR5cGUgVGhyZWFkUnVudGltZUNvcmVCaW5kaW5nID0gU3Vic2NyaWJhYmxlV2l0aFN0YXRlPFxuICBUaHJlYWRSdW50aW1lQ29yZSxcbiAgVGhyZWFkUnVudGltZVBhdGhcbj4gJiB7XG4gIG91dGVyU3Vic2NyaWJlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVW5zdWJzY3JpYmU7XG59O1xuXG5leHBvcnQgdHlwZSBUaHJlYWRTdGF0ZSA9IFJlYWRvbmx5PHtcbiAgdGhyZWFkSWQ6IHN0cmluZztcbiAgaXNEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNSdW5uaW5nOiBib29sZWFuO1xuICBjYXBhYmlsaXRpZXM6IFJ1bnRpbWVDYXBhYmlsaXRpZXM7XG4gIG1lc3NhZ2VzOiByZWFkb25seSBUaHJlYWRNZXNzYWdlW107XG4gIHN1Z2dlc3Rpb25zOiByZWFkb25seSBUaHJlYWRTdWdnZXN0aW9uW107XG4gIGV4dHJhczogdW5rbm93bjtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVGhpcyBBUEkgaXMgc3RpbGwgdW5kZXIgYWN0aXZlIGRldmVsb3BtZW50IGFuZCBtaWdodCBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAqL1xuICBzcGVlY2g6IFNwZWVjaFN0YXRlIHwgdW5kZWZpbmVkO1xufT47XG5cbmV4cG9ydCBjb25zdCBnZXRUaHJlYWRTdGF0ZSA9IChydW50aW1lOiBUaHJlYWRSdW50aW1lQ29yZSk6IFRocmVhZFN0YXRlID0+IHtcbiAgY29uc3QgbGFzdE1lc3NhZ2UgPSBydW50aW1lLm1lc3NhZ2VzLmF0KC0xKTtcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIHRocmVhZElkOiBydW50aW1lLnRocmVhZElkLFxuICAgIGNhcGFiaWxpdGllczogcnVudGltZS5jYXBhYmlsaXRpZXMsXG4gICAgaXNEaXNhYmxlZDogcnVudGltZS5pc0Rpc2FibGVkLFxuICAgIGlzUnVubmluZzpcbiAgICAgIGxhc3RNZXNzYWdlPy5yb2xlICE9PSBcImFzc2lzdGFudFwiXG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiBsYXN0TWVzc2FnZS5zdGF0dXMudHlwZSA9PT0gXCJydW5uaW5nXCIsXG4gICAgbWVzc2FnZXM6IHJ1bnRpbWUubWVzc2FnZXMsXG4gICAgc3VnZ2VzdGlvbnM6IHJ1bnRpbWUuc3VnZ2VzdGlvbnMsXG4gICAgZXh0cmFzOiBydW50aW1lLmV4dHJhcyxcbiAgICBzcGVlY2g6IHJ1bnRpbWUuc3BlZWNoLFxuICB9KTtcbn07XG5cbmV4cG9ydCB0eXBlIFRocmVhZFJ1bnRpbWUgPSB7XG4gIHJlYWRvbmx5IHBhdGg6IFRocmVhZFJ1bnRpbWVQYXRoO1xuXG4gIHJlYWRvbmx5IGNvbXBvc2VyOiBUaHJlYWRDb21wb3NlclJ1bnRpbWU7XG4gIGdldFN0YXRlKCk6IFRocmVhZFN0YXRlO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1ldGhvZCB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuIFN1Ym1pdCBmZWVkYmFjayBpZiB5b3UgbmVlZCB0aGlzIGZ1bmN0aW9uYWxpdHkuXG4gICAqL1xuICB1bnN0YWJsZV9nZXRDb3JlKCk6IFRocmVhZFJ1bnRpbWVDb3JlO1xuXG4gIGFwcGVuZChtZXNzYWdlOiBDcmVhdGVBcHBlbmRNZXNzYWdlKTogdm9pZDtcbiAgc3RhcnRSdW4ocGFyZW50SWQ6IHN0cmluZyB8IG51bGwpOiB2b2lkO1xuICBzdWJzY3JpYmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBVbnN1YnNjcmliZTtcbiAgY2FuY2VsUnVuKCk6IHZvaWQ7XG4gIGdldE1vZGVsQ29uZmlnKCk6IE1vZGVsQ29uZmlnO1xuICBleHBvcnQoKTogRXhwb3J0ZWRNZXNzYWdlUmVwb3NpdG9yeTtcbiAgaW1wb3J0KHJlcG9zaXRvcnk6IEV4cG9ydGVkTWVzc2FnZVJlcG9zaXRvcnkpOiB2b2lkO1xuICBnZXRNZXNzc2FnZUJ5SW5kZXgoaWR4OiBudW1iZXIpOiBNZXNzYWdlUnVudGltZTtcbiAgZ2V0TWVzc3NhZ2VCeUlkKG1lc3NhZ2VJZDogc3RyaW5nKTogTWVzc2FnZVJ1bnRpbWU7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFRoaXMgQVBJIGlzIHN0aWxsIHVuZGVyIGFjdGl2ZSBkZXZlbG9wbWVudCBhbmQgbWlnaHQgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICAgKi9cbiAgc3RvcFNwZWFraW5nOiAoKSA9PiB2b2lkO1xuXG4gIHVuc3RhYmxlX29uKGV2ZW50OiBUaHJlYWRSdW50aW1lRXZlbnRUeXBlLCBjYWxsYmFjazogKCkgPT4gdm9pZCk6IFVuc3Vic2NyaWJlO1xuXG4gIC8vIExlZ2FjeSBtZXRob2RzIHdpdGggZGVwcmVjYXRpb25zXG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5jYXBhYmlsaXRpZXNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgY2FwYWJpbGl0aWVzOiBSZWFkb25seTxSdW50aW1lQ2FwYWJpbGl0aWVzPjtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRTdGF0ZSgpLnRocmVhZElkYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHRocmVhZElkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5pc0Rpc2FibGVkYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5pc1J1bm5pbmdgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgaXNSdW5uaW5nOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkubWVzc2FnZXNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgbWVzc2FnZXM6IHJlYWRvbmx5IFRocmVhZE1lc3NhZ2VbXTtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRTdGF0ZSgpLmZvbGxvd3VwU3VnZ2VzdGlvbnNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgc3VnZ2VzdGlvbnM6IHJlYWRvbmx5IFRocmVhZFN1Z2dlc3Rpb25bXTtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRTdGF0ZSgpLnNwZWVjaFN0YXRlYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHNwZWVjaDogU3BlZWNoU3RhdGUgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5leHRyYXNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgZXh0cmFzOiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldE1lc3NzYWdlQnlJZChpZCkuZ2V0U3RhdGUoKS5icmFuY2hOdW1iZXJgIC8gYGdldE1lc3NzYWdlQnlJZChpZCkuZ2V0U3RhdGUoKS5icmFuY2hDb3VudGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBnZXRCcmFuY2hlczogKG1lc3NhZ2VJZDogc3RyaW5nKSA9PiByZWFkb25seSBzdHJpbmdbXTtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRNZXNzc2FnZUJ5SWQoaWQpLnN3aXRjaFRvQnJhbmNoKHsgb3B0aW9ucyB9KWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBzd2l0Y2hUb0JyYW5jaDogKGJyYW5jaElkOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0TWVzc3NhZ2VCeUlkKGlkKS5nZXRDb250ZW50UGFydEJ5VG9vbENhbGxJZCh0b29sQ2FsbElkKS5hZGRUb29sUmVzdWx0KHsgcmVzdWx0IH0pYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIGFkZFRvb2xSZXN1bHQ6IChvcHRpb25zOiBBZGRUb29sUmVzdWx0T3B0aW9ucykgPT4gdm9pZDtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRNZXNzc2FnZUJ5SWQoaWQpLnNwZWFrKClgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgc3BlYWs6IChtZXNzYWdlSWQ6IHN0cmluZykgPT4gdm9pZDtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRNZXNzc2FnZUJ5SWQoaWQpLmdldFN0YXRlKCkuc3VibWl0dGVkRmVlZGJhY2tgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgZ2V0U3VibWl0dGVkRmVlZGJhY2s6IChtZXNzYWdlSWQ6IHN0cmluZykgPT4gU3VibWl0dGVkRmVlZGJhY2sgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0TWVzc3NhZ2VCeUlkKGlkKS5zdWJtaXRGZWVkYmFjayh7IHR5cGUgfSlgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgc3VibWl0RmVlZGJhY2s6IChmZWVkYmFjazogU3VibWl0RmVlZGJhY2tPcHRpb25zKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldE1lc3NzYWdlQnlJZChpZCkuY29tcG9zZXJgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgZ2V0RWRpdENvbXBvc2VyOiAobWVzc2FnZUlkOiBzdHJpbmcpID0+IENvbXBvc2VyUnVudGltZUNvcmUgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0TWVzc3NhZ2VCeUlkKGlkKS5jb21wb3Nlci5iZWdpbkVkaXQoKWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBiZWdpbkVkaXQ6IChtZXNzYWdlSWQ6IHN0cmluZykgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBjbGFzcyBUaHJlYWRSdW50aW1lSW1wbFxuICBpbXBsZW1lbnRzIE9taXQ8VGhyZWFkUnVudGltZUNvcmUsIFwiZ2V0TWVzc2FnZUJ5SWRcIj4sIFRocmVhZFJ1bnRpbWVcbntcbiAgcHVibGljIGdldCBwYXRoKCkge1xuICAgIHJldHVybiB0aGlzLl90aHJlYWRCaW5kaW5nLnBhdGg7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRTdGF0ZSgpLnRocmVhZElkYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyBnZXQgdGhyZWFkSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoKS50aHJlYWRJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkuaXNEaXNhYmxlZGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgZ2V0IGlzRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoKS5pc0Rpc2FibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5pc1J1bm5pbmdgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgcHVibGljIGdldCBpc1J1bm5pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoKS5pc1J1bm5pbmc7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRTdGF0ZSgpLmNhcGFiaWxpdGllc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgZ2V0IGNhcGFiaWxpdGllcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZSgpLmNhcGFiaWxpdGllcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkuZXh0cmFzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyBnZXQgZXh0cmFzKCkge1xuICAgIHJldHVybiB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCkuZXh0cmFzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5mb2xsb3d1cFN1Z2dlc3Rpb25zYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyBnZXQgc3VnZ2VzdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5zdWdnZXN0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldFN0YXRlKCkubWVzc2FnZXNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgcHVibGljIGdldCBtZXNzYWdlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhyZWFkQmluZGluZy5nZXRTdGF0ZSgpLm1lc3NhZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0U3RhdGUoKS5zcGVlY2hTdGF0ZWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgZ2V0IHNwZWVjaCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhyZWFkQmluZGluZy5nZXRTdGF0ZSgpLnNwZWVjaDtcbiAgfVxuXG4gIHB1YmxpYyB1bnN0YWJsZV9nZXRDb3JlKCkge1xuICAgIHJldHVybiB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCk7XG4gIH1cblxuICBwcml2YXRlIF90aHJlYWRCaW5kaW5nOiBUaHJlYWRSdW50aW1lQ29yZUJpbmRpbmcgJiB7XG4gICAgZ2V0U3RhdGVTdGF0ZSgpOiBUaHJlYWRTdGF0ZTtcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcih0aHJlYWRCaW5kaW5nOiBUaHJlYWRSdW50aW1lQ29yZUJpbmRpbmcpIHtcbiAgICBjb25zdCBzdGF0ZUJpbmRpbmcgPSBuZXcgTGF6eU1lbW9pemVTdWJqZWN0KHtcbiAgICAgIHBhdGg6IHRocmVhZEJpbmRpbmcucGF0aCxcbiAgICAgIGdldFN0YXRlOiAoKSA9PiBnZXRUaHJlYWRTdGF0ZSh0aHJlYWRCaW5kaW5nLmdldFN0YXRlKCkpLFxuICAgICAgc3Vic2NyaWJlOiAoY2FsbGJhY2spID0+IHRocmVhZEJpbmRpbmcuc3Vic2NyaWJlKGNhbGxiYWNrKSxcbiAgICB9KTtcblxuICAgIHRoaXMuX3RocmVhZEJpbmRpbmcgPSB7XG4gICAgICBwYXRoOiB0aHJlYWRCaW5kaW5nLnBhdGgsXG4gICAgICBnZXRTdGF0ZTogKCkgPT4gdGhyZWFkQmluZGluZy5nZXRTdGF0ZSgpLFxuICAgICAgZ2V0U3RhdGVTdGF0ZTogKCkgPT4gc3RhdGVCaW5kaW5nLmdldFN0YXRlKCksXG4gICAgICBvdXRlclN1YnNjcmliZTogKGNhbGxiYWNrKSA9PiB0aHJlYWRCaW5kaW5nLm91dGVyU3Vic2NyaWJlKGNhbGxiYWNrKSxcbiAgICAgIHN1YnNjcmliZTogKGNhbGxiYWNrKSA9PiB0aHJlYWRCaW5kaW5nLnN1YnNjcmliZShjYWxsYmFjayksXG4gICAgfTtcblxuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgVGhyZWFkQ29tcG9zZXJSdW50aW1lSW1wbChcbiAgICAgIG5ldyBOZXN0ZWRTdWJzY3JpcHRpb25TdWJqZWN0KHtcbiAgICAgICAgcGF0aDoge1xuICAgICAgICAgIC4uLnRoaXMucGF0aCxcbiAgICAgICAgICByZWY6IHRoaXMucGF0aC5yZWYgKyBgJHt0aGlzLnBhdGgucmVmfS5jb21wb3NlcmAsXG4gICAgICAgICAgY29tcG9zZXJTb3VyY2U6IFwidGhyZWFkXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGdldFN0YXRlOiAoKSA9PiB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCkuY29tcG9zZXIsXG4gICAgICAgIHN1YnNjcmliZTogKGNhbGxiYWNrKSA9PiB0aGlzLl90aHJlYWRCaW5kaW5nLnN1YnNjcmliZShjYWxsYmFjayksXG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcHVibGljIHJlYWRvbmx5IGNvbXBvc2VyO1xuXG4gIHB1YmxpYyBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhyZWFkQmluZGluZy5nZXRTdGF0ZVN0YXRlKCk7XG4gIH1cblxuICBwdWJsaWMgYXBwZW5kKG1lc3NhZ2U6IENyZWF0ZUFwcGVuZE1lc3NhZ2UpIHtcbiAgICB0aGlzLl90aHJlYWRCaW5kaW5nXG4gICAgICAuZ2V0U3RhdGUoKVxuICAgICAgLmFwcGVuZChcbiAgICAgICAgdG9BcHBlbmRNZXNzYWdlKHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5tZXNzYWdlcywgbWVzc2FnZSksXG4gICAgICApO1xuICB9XG5cbiAgcHVibGljIHN1YnNjcmliZShjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIHJldHVybiB0aGlzLl90aHJlYWRCaW5kaW5nLnN1YnNjcmliZShjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQGRlcnByZWNhdGVkIFVzZSBgZ2V0TWVzc3NhZ2VCeUlkKGlkKS5nZXRTdGF0ZSgpLmJyYW5jaE51bWJlcmAgLyBgZ2V0TWVzc3NhZ2VCeUlkKGlkKS5nZXRTdGF0ZSgpLmJyYW5jaENvdW50YCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyBnZXRCcmFuY2hlcyhtZXNzYWdlSWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCkuZ2V0QnJhbmNoZXMobWVzc2FnZUlkKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNb2RlbENvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhyZWFkQmluZGluZy5nZXRTdGF0ZSgpLmdldE1vZGVsQ29uZmlnKCk7XG4gIH1cblxuICAvLyBUT0RPIHNvbWV0aW1lcyB5b3Ugd2FudCB0byBjb250aW51ZSB3aGVuIHRoZXJlIGlzIG5vIGNoaWxkIG1lc3NhZ2VcbiAgcHVibGljIHN0YXJ0UnVuKHBhcmVudElkOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5zdGFydFJ1bihwYXJlbnRJZCk7XG4gIH1cblxuICBwdWJsaWMgY2FuY2VsUnVuKCkge1xuICAgIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5jYW5jZWxSdW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldE1lc3NzYWdlQnlJZChpZCkuZ2V0Q29udGVudFBhcnRCeVRvb2xDYWxsSWQodG9vbENhbGxJZCkuYWRkVG9vbFJlc3VsdCh7IHJlc3VsdCB9KWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgYWRkVG9vbFJlc3VsdChvcHRpb25zOiBBZGRUb29sUmVzdWx0T3B0aW9ucykge1xuICAgIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5hZGRUb29sUmVzdWx0KG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgZ2V0TWVzc3NhZ2VCeUlkKGlkKS5zd2l0Y2hUb0JyYW5jaCh7IG9wdGlvbnMgfSlgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgcHVibGljIHN3aXRjaFRvQnJhbmNoKGJyYW5jaElkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhyZWFkQmluZGluZy5nZXRTdGF0ZSgpLnN3aXRjaFRvQnJhbmNoKGJyYW5jaElkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldE1lc3NzYWdlQnlJZChpZCkuc3BlYWsoKWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgc3BlYWsobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhyZWFkQmluZGluZy5nZXRTdGF0ZSgpLnNwZWFrKG1lc3NhZ2VJZCk7XG4gIH1cblxuICBwdWJsaWMgc3RvcFNwZWFraW5nKCkge1xuICAgIHJldHVybiB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCkuc3RvcFNwZWFraW5nKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3VibWl0dGVkRmVlZGJhY2sobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5fdGhyZWFkQmluZGluZy5nZXRTdGF0ZSgpLmdldFN1Ym1pdHRlZEZlZWRiYWNrKG1lc3NhZ2VJZCk7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBnZXRNZXNzc2FnZUJ5SWQoaWQpLnN1Ym1pdEZlZWRiYWNrKHsgdHlwZSB9KWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgc3VibWl0RmVlZGJhY2sob3B0aW9uczogU3VibWl0RmVlZGJhY2tPcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5zdWJtaXRGZWVkYmFjayhvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldE1lc3NzYWdlQnlJZChpZCkuZ2V0TWVzc2FnZUJ5SW5kZXgoaWR4KS5jb21wb3NlcmAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgZ2V0RWRpdENvbXBvc2VyKG1lc3NhZ2VJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5nZXRFZGl0Q29tcG9zZXIobWVzc2FnZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYGdldE1lc3NzYWdlQnlJZChpZCkuZ2V0TWVzc2FnZUJ5SW5kZXgoaWR4KS5jb21wb3Nlci5iZWdpbkVkaXQoKWAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgYmVnaW5FZGl0KG1lc3NhZ2VJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5iZWdpbkVkaXQobWVzc2FnZUlkKTtcbiAgfVxuXG4gIHB1YmxpYyBleHBvcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5leHBvcnQoKTtcbiAgfVxuXG4gIHB1YmxpYyBpbXBvcnQoZGF0YTogRXhwb3J0ZWRNZXNzYWdlUmVwb3NpdG9yeSkge1xuICAgIHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5pbXBvcnQoZGF0YSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TWVzc3NhZ2VCeUluZGV4KGlkeDogbnVtYmVyKSB7XG4gICAgaWYgKGlkeCA8IDApIHRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgaW5kZXggbXVzdCBiZSA+PSAwXCIpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2dldE1lc3NhZ2VSdW50aW1lKFxuICAgICAge1xuICAgICAgICAuLi50aGlzLnBhdGgsXG4gICAgICAgIHJlZjogdGhpcy5wYXRoLnJlZiArIGAke3RoaXMucGF0aC5yZWZ9Lm1lc3NhZ2VzWyR7aWR4fV1gLFxuICAgICAgICBtZXNzYWdlU2VsZWN0b3I6IHsgdHlwZTogXCJpbmRleFwiLCBpbmRleDogaWR4IH0sXG4gICAgICB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5tZXNzYWdlcztcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VzW2lkeF07XG4gICAgICAgIGlmICghbWVzc2FnZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIHBhcmVudElkOiBtZXNzYWdlc1tpZHggLSAxXT8uaWQgPz8gbnVsbCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNZXNzc2FnZUJ5SWQobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0TWVzc2FnZVJ1bnRpbWUoXG4gICAgICB7XG4gICAgICAgIC4uLnRoaXMucGF0aCxcbiAgICAgICAgcmVmOlxuICAgICAgICAgIHRoaXMucGF0aC5yZWYgK1xuICAgICAgICAgIGAke3RoaXMucGF0aC5yZWZ9Lm1lc3NhZ2VzW21lc3NhZ2VJZD0ke0pTT04uc3RyaW5naWZ5KG1lc3NhZ2VJZCl9XWAsXG4gICAgICAgIG1lc3NhZ2VTZWxlY3RvcjogeyB0eXBlOiBcIm1lc3NhZ2VJZFwiLCBtZXNzYWdlSWQ6IG1lc3NhZ2VJZCB9LFxuICAgICAgfSxcbiAgICAgICgpID0+IHRoaXMuX3RocmVhZEJpbmRpbmcuZ2V0U3RhdGUoKS5nZXRNZXNzYWdlQnlJZChtZXNzYWdlSWQpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRNZXNzYWdlUnVudGltZShcbiAgICBwYXRoOiBNZXNzYWdlUnVudGltZVBhdGgsXG4gICAgY2FsbGJhY2s6ICgpID0+XG4gICAgICB8IHsgcGFyZW50SWQ6IHN0cmluZyB8IG51bGw7IG1lc3NhZ2U6IFRocmVhZE1lc3NhZ2UgfVxuICAgICAgfCB1bmRlZmluZWQsXG4gICkge1xuICAgIHJldHVybiBuZXcgTWVzc2FnZVJ1bnRpbWVJbXBsKFxuICAgICAgbmV3IFNoYWxsb3dNZW1vaXplU3ViamVjdCh7XG4gICAgICAgIHBhdGgsXG4gICAgICAgIGdldFN0YXRlOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBtZXNzYWdlLCBwYXJlbnRJZCB9ID0gY2FsbGJhY2soKSA/PyB7fTtcblxuICAgICAgICAgIGNvbnN0IHsgbWVzc2FnZXMsIHNwZWVjaDogc3BlZWNoU3RhdGUgfSA9XG4gICAgICAgICAgICB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCk7XG5cbiAgICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgcGFyZW50SWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFNLSVBfVVBEQVRFO1xuXG4gICAgICAgICAgY29uc3QgdGhyZWFkID0gdGhpcy5fdGhyZWFkQmluZGluZy5nZXRTdGF0ZSgpO1xuXG4gICAgICAgICAgY29uc3QgYnJhbmNoZXMgPSB0aHJlYWQuZ2V0QnJhbmNoZXMobWVzc2FnZS5pZCk7XG4gICAgICAgICAgY29uc3Qgc3VibWl0dGVkRmVlZGJhY2sgPSB0aHJlYWQuZ2V0U3VibWl0dGVkRmVlZGJhY2sobWVzc2FnZS5pZCk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ubWVzc2FnZSxcblxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGlzTGFzdDogbWVzc2FnZXMuYXQoLTEpPy5pZCA9PT0gbWVzc2FnZS5pZCxcbiAgICAgICAgICAgIHBhcmVudElkLFxuXG4gICAgICAgICAgICBicmFuY2hlcyxcbiAgICAgICAgICAgIGJyYW5jaE51bWJlcjogYnJhbmNoZXMuaW5kZXhPZihtZXNzYWdlLmlkKSArIDEsXG4gICAgICAgICAgICBicmFuY2hDb3VudDogYnJhbmNoZXMubGVuZ3RoLFxuXG4gICAgICAgICAgICBzcGVlY2g6XG4gICAgICAgICAgICAgIHNwZWVjaFN0YXRlPy5tZXNzYWdlSWQgPT09IG1lc3NhZ2UuaWQgPyBzcGVlY2hTdGF0ZSA6IHVuZGVmaW5lZCxcblxuICAgICAgICAgICAgc3VibWl0dGVkRmVlZGJhY2ssXG4gICAgICAgICAgfSBzYXRpc2ZpZXMgTWVzc2FnZVN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzdWJzY3JpYmU6IChjYWxsYmFjaykgPT4gdGhpcy5fdGhyZWFkQmluZGluZy5zdWJzY3JpYmUoY2FsbGJhY2spLFxuICAgICAgfSksXG4gICAgICB0aGlzLl90aHJlYWRCaW5kaW5nLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9ldmVudExpc3RlbmVyTmVzdGVkU3Vic2NyaXB0aW9ucyA9IG5ldyBNYXA8XG4gICAgc3RyaW5nLFxuICAgIE5lc3RlZFN1YnNjcmlwdGlvblN1YmplY3Q8U3Vic2NyaWJhYmxlLCBUaHJlYWRSdW50aW1lUGF0aD5cbiAgPigpO1xuXG4gIHB1YmxpYyB1bnN0YWJsZV9vbihcbiAgICBldmVudDogVGhyZWFkUnVudGltZUV2ZW50VHlwZSxcbiAgICBjYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgKTogVW5zdWJzY3JpYmUge1xuICAgIGxldCBzdWJqZWN0ID0gdGhpcy5fZXZlbnRMaXN0ZW5lck5lc3RlZFN1YnNjcmlwdGlvbnMuZ2V0KGV2ZW50KTtcbiAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgIHN1YmplY3QgPSBuZXcgTmVzdGVkU3Vic2NyaXB0aW9uU3ViamVjdCh7XG4gICAgICAgIHBhdGg6IHRoaXMucGF0aCxcbiAgICAgICAgZ2V0U3RhdGU6ICgpID0+ICh7XG4gICAgICAgICAgc3Vic2NyaWJlOiAoY2FsbGJhY2spID0+XG4gICAgICAgICAgICB0aGlzLl90aHJlYWRCaW5kaW5nLmdldFN0YXRlKCkudW5zdGFibGVfb24oZXZlbnQsIGNhbGxiYWNrKSxcbiAgICAgICAgfSksXG4gICAgICAgIHN1YnNjcmliZTogKGNhbGxiYWNrKSA9PiB0aGlzLl90aHJlYWRCaW5kaW5nLm91dGVyU3Vic2NyaWJlKGNhbGxiYWNrKSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fZXZlbnRMaXN0ZW5lck5lc3RlZFN1YnNjcmlwdGlvbnMuc2V0KGV2ZW50LCBzdWJqZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIHN1YmplY3Quc3Vic2NyaWJlKGNhbGxiYWNrKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXNzaXN0YW50UnVudGltZUNvcmUgfSBmcm9tIFwiLi4vcnVudGltZXMvY29yZS9Bc3Npc3RhbnRSdW50aW1lQ29yZVwiO1xuaW1wb3J0IHsgTmVzdGVkU3Vic2NyaXB0aW9uU3ViamVjdCB9IGZyb20gXCIuL3N1YnNjcmliYWJsZS9OZXN0ZWRTdWJzY3JpcHRpb25TdWJqZWN0XCI7XG5pbXBvcnQgeyBNb2RlbENvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4uL3R5cGVzL01vZGVsQ29uZmlnVHlwZXNcIjtcbmltcG9ydCB7XG4gIFRocmVhZFJ1bnRpbWUsXG4gIFRocmVhZFJ1bnRpbWVDb3JlQmluZGluZyxcbiAgVGhyZWFkUnVudGltZUltcGwsXG59IGZyb20gXCIuL1RocmVhZFJ1bnRpbWVcIjtcbmltcG9ydCB7IFVuc3Vic2NyaWJlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIEFzc2lzdGFudFJ1bnRpbWUgPSB7XG4gIHRocmVhZDogVGhyZWFkUnVudGltZTtcblxuICBzd2l0Y2hUb05ld1RocmVhZCgpOiB2b2lkO1xuXG4gIHN3aXRjaFRvVGhyZWFkKHRocmVhZElkOiBzdHJpbmcpOiB2b2lkO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBzd2l0Y2hUb05ld1RocmVhZGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBzd2l0Y2hUb1RocmVhZCh0aHJlYWRJZDogc3RyaW5nIHwgbnVsbCk6IHZvaWQ7XG5cbiAgcmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKHByb3ZpZGVyOiBNb2RlbENvbmZpZ1Byb3ZpZGVyKTogVW5zdWJzY3JpYmU7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFRocmVhZCBpcyBub3cgc3RhdGljIGFuZCBuZXZlciBnZXRzIHVwZGF0ZWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi4wLlxuICAgKi9cbiAgc3Vic2NyaWJlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVW5zdWJzY3JpYmU7XG59O1xuXG5leHBvcnQgY2xhc3MgQXNzaXN0YW50UnVudGltZUltcGxcbiAgaW1wbGVtZW50cyBPbWl0PEFzc2lzdGFudFJ1bnRpbWVDb3JlLCBcInRocmVhZFwiPiwgQXNzaXN0YW50UnVudGltZVxue1xuICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29yZTogQXNzaXN0YW50UnVudGltZUNvcmUsXG4gICAgcHJpdmF0ZSByZWFkb25seSBfdGhyZWFkOiBUaHJlYWRSdW50aW1lLFxuICApIHt9XG5cbiAgcHVibGljIGdldCB0aHJlYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RocmVhZDtcbiAgfVxuXG4gIHB1YmxpYyBzd2l0Y2hUb05ld1RocmVhZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5zd2l0Y2hUb05ld1RocmVhZCgpO1xuICB9XG5cbiAgcHVibGljIHN3aXRjaFRvVGhyZWFkKHRocmVhZElkOiBzdHJpbmcpOiB2b2lkO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBzd2l0Y2hUb05ld1RocmVhZGAgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LjAuXG4gICAqL1xuICBwdWJsaWMgc3dpdGNoVG9UaHJlYWQodGhyZWFkSWQ6IHN0cmluZyB8IG51bGwpOiB2b2lkO1xuICBwdWJsaWMgc3dpdGNoVG9UaHJlYWQodGhyZWFkSWQ6IHN0cmluZyB8IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5zd2l0Y2hUb1RocmVhZCh0aHJlYWRJZCk7XG4gIH1cblxuICBwdWJsaWMgcmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKHByb3ZpZGVyOiBNb2RlbENvbmZpZ1Byb3ZpZGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvcmUucmVnaXN0ZXJNb2RlbENvbmZpZ1Byb3ZpZGVyKHByb3ZpZGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBUaHJlYWQgaXMgbm93IHN0YXRpYyBhbmQgbmV2ZXIgZ2V0cyB1cGRhdGVkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuMC5cbiAgICovXG4gIHB1YmxpYyBzdWJzY3JpYmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5zdWJzY3JpYmUoY2FsbGJhY2spO1xuICB9XG5cbiAgcHJvdGVjdGVkIHN0YXRpYyBjcmVhdGVNYWluVGhyZWFkUnVudGltZShcbiAgICBfY29yZTogQXNzaXN0YW50UnVudGltZUNvcmUsXG4gICAgQ3VzdG9tVGhyZWFkUnVudGltZTogbmV3IChcbiAgICAgIGJpbmRpbmc6IFRocmVhZFJ1bnRpbWVDb3JlQmluZGluZyxcbiAgICApID0+IFRocmVhZFJ1bnRpbWUgPSBUaHJlYWRSdW50aW1lSW1wbCxcbiAgKSB7XG4gICAgcmV0dXJuIG5ldyBDdXN0b21UaHJlYWRSdW50aW1lKFxuICAgICAgbmV3IE5lc3RlZFN1YnNjcmlwdGlvblN1YmplY3Qoe1xuICAgICAgICBwYXRoOiB7XG4gICAgICAgICAgcmVmOiBcInRocmVhZHMubWFpblwiLFxuICAgICAgICAgIHRocmVhZFNlbGVjdG9yOiB7IHR5cGU6IFwibWFpblwiIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGdldFN0YXRlOiAoKSA9PiBfY29yZS50aHJlYWQsXG4gICAgICAgIHN1YnNjcmliZTogKGNhbGxiYWNrKSA9PiBfY29yZS5zdWJzY3JpYmUoY2FsbGJhY2spLFxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKFxuICAgIF9jb3JlOiBBc3Npc3RhbnRSdW50aW1lQ29yZSxcbiAgICBDdXN0b21UaHJlYWRSdW50aW1lOiBuZXcgKFxuICAgICAgYmluZGluZzogVGhyZWFkUnVudGltZUNvcmVCaW5kaW5nLFxuICAgICkgPT4gVGhyZWFkUnVudGltZSA9IFRocmVhZFJ1bnRpbWVJbXBsLFxuICApIHtcbiAgICByZXR1cm4gbmV3IEFzc2lzdGFudFJ1bnRpbWVJbXBsKFxuICAgICAgX2NvcmUsXG4gICAgICBBc3Npc3RhbnRSdW50aW1lSW1wbC5jcmVhdGVNYWluVGhyZWFkUnVudGltZShfY29yZSwgQ3VzdG9tVGhyZWFkUnVudGltZSksXG4gICAgKSBhcyBBc3Npc3RhbnRSdW50aW1lO1xuICB9XG59XG4iLCJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjFNZXNzYWdlIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7IENvcmVNZXNzYWdlLCBUb29sQ2FsbENvbnRlbnRQYXJ0IH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5cbnR5cGUgZnJvbUxhbmd1YWdlTW9kZWxNZXNzYWdlc09wdGlvbnMgPSB7XG4gIG1lcmdlU3RlcHM6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY29uc3QgZnJvbUxhbmd1YWdlTW9kZWxNZXNzYWdlcyA9IChcbiAgbG06IExhbmd1YWdlTW9kZWxWMU1lc3NhZ2VbXSxcbiAgeyBtZXJnZVN0ZXBzIH06IGZyb21MYW5ndWFnZU1vZGVsTWVzc2FnZXNPcHRpb25zLFxuKTogQ29yZU1lc3NhZ2VbXSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2VzOiBDb3JlTWVzc2FnZVtdID0gW107XG5cbiAgZm9yIChjb25zdCBsbU1lc3NhZ2Ugb2YgbG0pIHtcbiAgICBjb25zdCByb2xlID0gbG1NZXNzYWdlLnJvbGU7XG4gICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcbiAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICB0ZXh0OiBsbU1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInVzZXJcIjoge1xuICAgICAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBsbU1lc3NhZ2UuY29udGVudC5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQuaW1hZ2UgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHBhcnQuaW1hZ2UuaHJlZixcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9ubHkgaW1hZ2VzIHdpdGggVVJMIGRhdGEgYXJlIHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlIFwiZmlsZVwiOiB7XG4gICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpbGUgY29udGVudCBwYXJ0cyBhcmUgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5oYW5kbGVkVHlwZTogbmV2ZXIgPSB0eXBlO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjb250ZW50IHBhcnQgdHlwZTogJHt1bmhhbmRsZWRUeXBlfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhc3Npc3RhbnRcIjoge1xuICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gbG1NZXNzYWdlLmNvbnRlbnQubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0b29sLWNhbGxcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGxcIixcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgYXJnc1RleHQ6IEpTT04uc3RyaW5naWZ5KHBhcnQuYXJncyksXG4gICAgICAgICAgICAgIGFyZ3M6IHBhcnQuYXJncyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgIH0gc2F0aXNmaWVzIFRvb2xDYWxsQ29udGVudFBhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobWVyZ2VTdGVwcykge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzTWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGlmIChwcmV2aW91c01lc3NhZ2U/LnJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgICAgICAgIHByZXZpb3VzTWVzc2FnZS5jb250ZW50LnB1c2goLi4ubmV3Q29udGVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IG5ld0NvbnRlbnQsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ0b29sXCI6IHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNNZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChwcmV2aW91c01lc3NhZ2U/LnJvbGUgIT09IFwiYXNzaXN0YW50XCIpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJBIHRvb2wgbWVzc2FnZSBtdXN0IGJlIHByZWNlZGVkIGJ5IGFuIGFzc2lzdGFudCBtZXNzYWdlLlwiLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0b29sIG9mIGxtTWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgY29uc3QgdG9vbENhbGwgPSBwcmV2aW91c01lc3NhZ2UuY29udGVudC5maW5kKFxuICAgICAgICAgICAgKGMpOiBjIGlzIFRvb2xDYWxsQ29udGVudFBhcnQgPT5cbiAgICAgICAgICAgICAgYy50eXBlID09PSBcInRvb2wtY2FsbFwiICYmIGMudG9vbENhbGxJZCA9PT0gdG9vbC50b29sQ2FsbElkLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCF0b29sQ2FsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlY2VpdmVkIHRvb2wgcmVzdWx0IGZvciBhbiB1bmtub3duIHRvb2wgY2FsbC5cIik7XG4gICAgICAgICAgaWYgKHRvb2xDYWxsLnRvb2xOYW1lICE9PSB0b29sLnRvb2xOYW1lKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vbCBjYWxsIG5hbWUgbWlzbWF0Y2guXCIpO1xuXG4gICAgICAgICAgdG9vbENhbGwucmVzdWx0ID0gdG9vbC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKHRvb2wuaXNFcnJvcikge1xuICAgICAgICAgICAgdG9vbENhbGwuaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgdW5oYW5kbGVkUm9sZTogbmV2ZXIgPSByb2xlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbWVzc2FnZSByb2xlOiAke3VuaGFuZGxlZFJvbGV9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1lc3NhZ2VzO1xufTtcbiIsImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMUZ1bmN0aW9uVG9vbCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBUb29sIH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzL01vZGVsQ29uZmlnVHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGZyb21MYW5ndWFnZU1vZGVsVG9vbHMgPSAoXG4gIHRvb2xzOiBMYW5ndWFnZU1vZGVsVjFGdW5jdGlvblRvb2xbXSxcbik6IFJlY29yZDxzdHJpbmcsIFRvb2w8YW55LCBhbnk+PiA9PiB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgdG9vbHMubWFwKCh0b29sKSA9PiBbXG4gICAgICB0b29sLm5hbWUsXG4gICAgICB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiB0b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICBwYXJhbWV0ZXJzOiB0b29sLnBhcmFtZXRlcnMsXG4gICAgICB9LFxuICAgIF0pLFxuICApO1xufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBjaHVua0J5TGluZVN0cmVhbSgpIHtcbiAgbGV0IGJ1ZmZlciA9IFwiXCI7XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgYnVmZmVyICs9IGNodW5rO1xuICAgICAgY29uc3QgbGluZXMgPSBidWZmZXIuc3BsaXQoXCJcXG5cIik7XG5cbiAgICAgIC8vIFByb2Nlc3MgYWxsIGNvbXBsZXRlIGxpbmVzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUobGluZXNbaV0pO1xuICAgICAgfVxuXG4gICAgICAvLyBLZWVwIHRoZSBsYXN0IGluY29tcGxldGUgbGluZSBpbiB0aGUgYnVmZmVyXG4gICAgICBidWZmZXIgPSBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXSE7XG4gICAgfSxcbiAgICBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAvLyBmbHVzaCBhbnkgcmVtYWluaW5nIGNvbnRlbnQgaW4gdGhlIGJ1ZmZlclxuICAgICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYnVmZmVyKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cbiIsImltcG9ydCB7IGNodW5rQnlMaW5lU3RyZWFtIH0gZnJvbSBcIi4vY2h1bmtCeUxpbmVTdHJlYW1cIjtcbmltcG9ydCB7IFBpcGVhYmxlVHJhbnNmb3JtU3RyZWFtIH0gZnJvbSBcIi4vUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW1cIjtcbmltcG9ydCB7IFN0cmVhbVBhcnQgfSBmcm9tIFwiLi9TdHJlYW1QYXJ0XCI7XG5cbmNvbnN0IGRlY29kZVN0cmVhbVBhcnQgPSA8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcbiAgcGFydDogc3RyaW5nLFxuKTogU3RyZWFtUGFydDxUPiA9PiB7XG4gIGNvbnN0IGluZGV4ID0gcGFydC5pbmRleE9mKFwiOlwiKTtcbiAgaWYgKGluZGV4ID09PSAtMSkgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJlYW0gcGFydFwiKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBwYXJ0LnNsaWNlKDAsIGluZGV4KSxcbiAgICB2YWx1ZTogSlNPTi5wYXJzZShwYXJ0LnNsaWNlKGluZGV4ICsgMSkpLFxuICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmVhbVBhcnREZWNvZGVyU3RyZWFtPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oKSB7XG4gIGNvbnN0IGRlY29kZVN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW08c3RyaW5nLCBTdHJlYW1QYXJ0PFQ+Pih7XG4gICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICBjb250cm9sbGVyLmVucXVldWUoZGVjb2RlU3RyZWFtUGFydDxUPihjaHVuaykpO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBuZXcgUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW0oKHJlYWRhYmxlKSA9PiB7XG4gICAgcmV0dXJuIHJlYWRhYmxlXG4gICAgICAucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpXG4gICAgICAucGlwZVRocm91Z2goY2h1bmtCeUxpbmVTdHJlYW0oKSlcbiAgICAgIC5waXBlVGhyb3VnaChkZWNvZGVTdHJlYW0pO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IHN0cmVhbVBhcnREZWNvZGVyU3RyZWFtIH0gZnJvbSBcIi4vc3RyZWFtUGFydERlY29kZXJTdHJlYW1cIjtcbmltcG9ydCB7IHN0cmVhbVBhcnRFbmNvZGVyU3RyZWFtIH0gZnJvbSBcIi4vc3RyZWFtUGFydEVuY29kZXJTdHJlYW1cIjtcbmltcG9ydCB7IFN0cmVhbVBhcnQgfSBmcm9tIFwiLi9TdHJlYW1QYXJ0XCI7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBTdHJlYW1VdGlscyB7XG4gIGV4cG9ydCB7IFN0cmVhbVBhcnQgfTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBgc3RyZWFtVXRpbHNgIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBgYXNzaXN0YW50LXN0cmVhbWAgb25jZSBpdCBpcyByZWFkeS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0cmVhbVV0aWxzID0ge1xuICBzdHJlYW1QYXJ0RW5jb2RlclN0cmVhbSxcbiAgc3RyZWFtUGFydERlY29kZXJTdHJlYW0sXG59O1xuIiwiaW1wb3J0IHsgTG9jYWxSdW50aW1lT3B0aW9ucywgdXNlTG9jYWxSdW50aW1lIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRWRnZUNoYXRBZGFwdGVyT3B0aW9ucywgRWRnZUNoYXRBZGFwdGVyIH0gZnJvbSBcIi4vRWRnZUNoYXRBZGFwdGVyXCI7XG5pbXBvcnQgeyBzcGxpdExvY2FsUnVudGltZU9wdGlvbnMgfSBmcm9tIFwiLi4vbG9jYWwvTG9jYWxSdW50aW1lT3B0aW9uc1wiO1xuXG5leHBvcnQgdHlwZSBFZGdlUnVudGltZU9wdGlvbnMgPSBFZGdlQ2hhdEFkYXB0ZXJPcHRpb25zICYgTG9jYWxSdW50aW1lT3B0aW9ucztcblxuZXhwb3J0IGNvbnN0IHVzZUVkZ2VSdW50aW1lID0gKG9wdGlvbnM6IEVkZ2VSdW50aW1lT3B0aW9ucykgPT4ge1xuICBjb25zdCB7IGxvY2FsUnVudGltZU9wdGlvbnMsIG90aGVyT3B0aW9ucyB9ID1cbiAgICBzcGxpdExvY2FsUnVudGltZU9wdGlvbnMob3B0aW9ucyk7XG4gIGNvbnN0IFthZGFwdGVyXSA9IHVzZVN0YXRlKCgpID0+IG5ldyBFZGdlQ2hhdEFkYXB0ZXIob3RoZXJPcHRpb25zKSk7XG4gIHJldHVybiB1c2VMb2NhbFJ1bnRpbWUoYWRhcHRlciwgbG9jYWxSdW50aW1lT3B0aW9ucyk7XG59O1xuIiwiaW1wb3J0IHtcbiAgQXNzaXN0YW50U3RyZWFtQ2h1bmssXG4gIEFzc2lzdGFudFN0cmVhbUNodW5rVHlwZSxcbn0gZnJvbSBcIi4vQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlXCI7XG5pbXBvcnQgeyBTdHJlYW1QYXJ0IH0gZnJvbSBcIi4vdXRpbHMvU3RyZWFtUGFydFwiO1xuaW1wb3J0IHsgVG9vbFJlc3VsdFN0cmVhbVBhcnQgfSBmcm9tIFwiLi90b29sUmVzdWx0U3RyZWFtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3Npc3RhbnREZWNvZGVyU3RyZWFtKCkge1xuICBjb25zdCB0b29sQ2FsbE5hbWVzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcbiAgbGV0IGN1cnJlbnRUb29sQ2FsbDpcbiAgICB8IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBhcmdzVGV4dDogc3RyaW5nIH1cbiAgICB8IHVuZGVmaW5lZDtcblxuICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICBTdHJlYW1QYXJ0PEFzc2lzdGFudFN0cmVhbUNodW5rPixcbiAgICBUb29sUmVzdWx0U3RyZWFtUGFydFxuICA+KHtcbiAgICB0cmFuc2Zvcm0oeyB0eXBlLCB2YWx1ZSB9LCBjb250cm9sbGVyKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGN1cnJlbnRUb29sQ2FsbCAmJlxuICAgICAgICB0eXBlICE9PSBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVG9vbENhbGxEZWx0YSAmJlxuICAgICAgICB0eXBlICE9PSBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuRXJyb3JcbiAgICAgICkge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgdG9vbENhbGxJZDogY3VycmVudFRvb2xDYWxsLmlkLFxuICAgICAgICAgIHRvb2xOYW1lOiBjdXJyZW50VG9vbENhbGwubmFtZSxcbiAgICAgICAgICBhcmdzOiBjdXJyZW50VG9vbENhbGwuYXJnc1RleHQsXG4gICAgICAgIH0pO1xuICAgICAgICBjdXJyZW50VG9vbENhbGwgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIEFzc2lzdGFudFN0cmVhbUNodW5rVHlwZS5UZXh0RGVsdGE6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0LWRlbHRhXCIsXG4gICAgICAgICAgICB0ZXh0RGVsdGE6IHZhbHVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLlRvb2xDYWxsQmVnaW46IHtcbiAgICAgICAgICBjb25zdCB7IHRvb2xDYWxsSWQ6IGlkLCB0b29sTmFtZTogbmFtZSB9ID0gdmFsdWU7XG4gICAgICAgICAgdG9vbENhbGxOYW1lcy5zZXQoaWQsIG5hbWUpO1xuICAgICAgICAgIGN1cnJlbnRUb29sQ2FsbCA9IHsgaWQsIG5hbWUsIGFyZ3NUZXh0OiBcIlwiIH07XG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGwtZGVsdGFcIixcbiAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgdG9vbENhbGxJZDogaWQsXG4gICAgICAgICAgICB0b29sTmFtZTogbmFtZSxcbiAgICAgICAgICAgIGFyZ3NUZXh0RGVsdGE6IFwiXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBBc3Npc3RhbnRTdHJlYW1DaHVua1R5cGUuVG9vbENhbGxEZWx0YToge1xuICAgICAgICAgIGNvbnN0IHsgdG9vbENhbGxJZCwgYXJnc1RleHREZWx0YSB9ID0gdmFsdWU7XG5cbiAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IHRvb2xDYWxsTmFtZXMuZ2V0KHRvb2xDYWxsSWQpITtcbiAgICAgICAgICBpZiAoY3VycmVudFRvb2xDYWxsPy5pZCA9PT0gdG9vbENhbGxJZCkge1xuICAgICAgICAgICAgY3VycmVudFRvb2xDYWxsLmFyZ3NUZXh0ICs9IGFyZ3NUZXh0RGVsdGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbC1kZWx0YVwiLFxuICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICBhcmdzVGV4dERlbHRhOiBhcmdzVGV4dERlbHRhLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLlRvb2xDYWxsUmVzdWx0OiB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgdG9vbENhbGxJZDogdmFsdWUudG9vbENhbGxJZCxcbiAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbE5hbWVzLmdldCh2YWx1ZS50b29sQ2FsbElkKSEsXG4gICAgICAgICAgICByZXN1bHQ6IHZhbHVlLnJlc3VsdCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEFzc2lzdGFudFN0cmVhbUNodW5rVHlwZS5GaW5pc2g6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLkVycm9yOiB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgIGVycm9yOiB2YWx1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLlRvb2xDYWxsOiB7XG4gICAgICAgICAgY29uc3QgeyB0b29sQ2FsbElkLCB0b29sTmFtZSwgYXJncyB9ID0gdmFsdWU7XG4gICAgICAgICAgY29uc3QgYXJnc1RleHQgPSBKU09OLnN0cmluZ2lmeShhcmdzKTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGwtZGVsdGFcIixcbiAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgYXJnc1RleHREZWx0YTogYXJnc1RleHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsSWQsXG4gICAgICAgICAgICB0b29sTmFtZTogdG9vbE5hbWUsXG4gICAgICAgICAgICBhcmdzOiBhcmdzVGV4dCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLlN0ZXBGaW5pc2g6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogXCJzdGVwLWZpbmlzaFwiLFxuICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIGNhc2UgQXNzaXN0YW50U3RyZWFtQ2h1bmtUeXBlLkRhdGE6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IHVuaGFuZGxlZFR5cGU6IG5ldmVyID0gdHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCBjaHVuayB0eXBlOiAke3VuaGFuZGxlZFR5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cbiIsImltcG9ydCB7IENoYXRNb2RlbEFkYXB0ZXIsIENoYXRNb2RlbFJ1bk9wdGlvbnMgfSBmcm9tIFwiLi4vbG9jYWxcIjtcbmltcG9ydCB7IENoYXRNb2RlbFJ1blJlc3VsdCB9IGZyb20gXCIuLi9sb2NhbC9DaGF0TW9kZWxBZGFwdGVyXCI7XG5pbXBvcnQgeyB0b0NvcmVNZXNzYWdlcyB9IGZyb20gXCIuL2NvbnZlcnRlcnMvdG9Db3JlTWVzc2FnZXNcIjtcbmltcG9ydCB7IHRvTGFuZ3VhZ2VNb2RlbFRvb2xzIH0gZnJvbSBcIi4vY29udmVydGVycy90b0xhbmd1YWdlTW9kZWxUb29sc1wiO1xuaW1wb3J0IHsgRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuL0VkZ2VSdW50aW1lUmVxdWVzdE9wdGlvbnNcIjtcbmltcG9ydCB7IGFzc2lzdGFudERlY29kZXJTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1zL2Fzc2lzdGFudERlY29kZXJTdHJlYW1cIjtcbmltcG9ydCB7IHN0cmVhbVBhcnREZWNvZGVyU3RyZWFtIH0gZnJvbSBcIi4vc3RyZWFtcy91dGlscy9zdHJlYW1QYXJ0RGVjb2RlclN0cmVhbVwiO1xuaW1wb3J0IHsgcnVuUmVzdWx0U3RyZWFtIH0gZnJvbSBcIi4vc3RyZWFtcy9ydW5SZXN1bHRTdHJlYW1cIjtcbmltcG9ydCB7IHRvb2xSZXN1bHRTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1zL3Rvb2xSZXN1bHRTdHJlYW1cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFzQXN5bmNJdGVyYWJsZTxUPihcbiAgc291cmNlOiBSZWFkYWJsZVN0cmVhbTxUPixcbik6IEFzeW5jSXRlcmFibGU8VD4ge1xuICByZXR1cm4ge1xuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl06ICgpID0+IHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IHNvdXJjZS5nZXRSZWFkZXIoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFzeW5jIG5leHQoKTogUHJvbWlzZTxJdGVyYXRvclJlc3VsdDxULCB1bmRlZmluZWQ+PiB7XG4gICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICByZXR1cm4gZG9uZVxuICAgICAgICAgICAgPyB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfVxuICAgICAgICAgICAgOiB7IGRvbmU6IGZhbHNlLCB2YWx1ZSB9O1xuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LFxuICB9O1xufVxuZXhwb3J0IHR5cGUgRWRnZUNoYXRBZGFwdGVyT3B0aW9ucyA9IHtcbiAgYXBpOiBzdHJpbmc7XG5cbiAgY3JlZGVudGlhbHM/OiBSZXF1ZXN0Q3JlZGVudGlhbHM7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgSGVhZGVycztcbiAgYm9keT86IG9iamVjdDtcbn07XG5cbmV4cG9ydCBjbGFzcyBFZGdlQ2hhdEFkYXB0ZXIgaW1wbGVtZW50cyBDaGF0TW9kZWxBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBvcHRpb25zOiBFZGdlQ2hhdEFkYXB0ZXJPcHRpb25zKSB7fVxuXG4gIGFzeW5jICpydW4oeyBtZXNzYWdlcywgYWJvcnRTaWduYWwsIGNvbmZpZyB9OiBDaGF0TW9kZWxSdW5PcHRpb25zKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMub3B0aW9ucy5oZWFkZXJzKTtcbiAgICBoZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaCh0aGlzLm9wdGlvbnMuYXBpLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNyZWRlbnRpYWxzOiB0aGlzLm9wdGlvbnMuY3JlZGVudGlhbHMgPz8gXCJzYW1lLW9yaWdpblwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBzeXN0ZW06IGNvbmZpZy5zeXN0ZW0sXG4gICAgICAgIG1lc3NhZ2VzOiB0b0NvcmVNZXNzYWdlcyhtZXNzYWdlcyksXG4gICAgICAgIHRvb2xzOiBjb25maWcudG9vbHMgPyB0b0xhbmd1YWdlTW9kZWxUb29scyhjb25maWcudG9vbHMpIDogW10sXG4gICAgICAgIC4uLmNvbmZpZy5jYWxsU2V0dGluZ3MsXG4gICAgICAgIC4uLmNvbmZpZy5jb25maWcsXG5cbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmJvZHksXG4gICAgICB9IHNhdGlzZmllcyBFZGdlUnVudGltZVJlcXVlc3RPcHRpb25zKSxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWwsXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3VsdC5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0dXMgJHtyZXN1bHQuc3RhdHVzfTogJHthd2FpdCByZXN1bHQudGV4dCgpfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHN0cmVhbSA9IHJlc3VsdFxuICAgICAgLmJvZHkhLnBpcGVUaHJvdWdoKHN0cmVhbVBhcnREZWNvZGVyU3RyZWFtKCkpXG4gICAgICAucGlwZVRocm91Z2goYXNzaXN0YW50RGVjb2RlclN0cmVhbSgpKVxuICAgICAgLnBpcGVUaHJvdWdoKHRvb2xSZXN1bHRTdHJlYW0oY29uZmlnLnRvb2xzLCBhYm9ydFNpZ25hbCkpXG4gICAgICAucGlwZVRocm91Z2gocnVuUmVzdWx0U3RyZWFtKCkpO1xuXG4gICAgbGV0IHVwZGF0ZTogQ2hhdE1vZGVsUnVuUmVzdWx0IHwgdW5kZWZpbmVkO1xuICAgIGZvciBhd2FpdCAodXBkYXRlIG9mIGFzQXN5bmNJdGVyYWJsZShzdHJlYW0pKSB7XG4gICAgICB5aWVsZCB1cGRhdGU7XG4gICAgfVxuXG4gICAgaWYgKHVwZGF0ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZGF0YSByZWNlaXZlZCBmcm9tIEVkZ2UgUnVudGltZVwiKTtcbiAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBDb3JlTWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgQXR0YWNobWVudEFkYXB0ZXIgfSBmcm9tIFwiLi4vYXR0YWNobWVudC9BdHRhY2htZW50QWRhcHRlclwiO1xuaW1wb3J0IHsgRmVlZGJhY2tBZGFwdGVyIH0gZnJvbSBcIi4uL2ZlZWRiYWNrL0ZlZWRiYWNrQWRhcHRlclwiO1xuaW1wb3J0IHsgU3BlZWNoU3ludGhlc2lzQWRhcHRlciB9IGZyb20gXCIuLi9zcGVlY2gvU3BlZWNoQWRhcHRlclR5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIExvY2FsUnVudGltZU9wdGlvbnMgPSB7XG4gIGluaXRpYWxNZXNzYWdlcz86IHJlYWRvbmx5IENvcmVNZXNzYWdlW10gfCB1bmRlZmluZWQ7XG4gIG1heFN0ZXBzPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBtYXhTdGVwc2AgKHdoaWNoIGlzIGBtYXhUb29sUm91bmR0cmlwc2AgKyAxOyBpZiB5b3Ugc2V0IGBtYXhUb29sUm91bmR0cmlwc2AgdG8gMiwgc2V0IGBtYXhTdGVwc2AgdG8gMykgaW5zdGVhZC4gVGhpcyBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuNi5cbiAgICovXG4gIG1heFRvb2xSb3VuZHRyaXBzPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBhZGFwdGVycz86XG4gICAgfCB7XG4gICAgICAgIGF0dGFjaG1lbnRzPzogQXR0YWNobWVudEFkYXB0ZXIgfCB1bmRlZmluZWQ7XG4gICAgICAgIHNwZWVjaD86IFNwZWVjaFN5bnRoZXNpc0FkYXB0ZXIgfCB1bmRlZmluZWQ7XG4gICAgICAgIGZlZWRiYWNrPzogRmVlZGJhY2tBZGFwdGVyIHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IHNwbGl0TG9jYWxSdW50aW1lT3B0aW9ucyA9IDxUIGV4dGVuZHMgTG9jYWxSdW50aW1lT3B0aW9ucz4oXG4gIG9wdGlvbnM6IFQsXG4pID0+IHtcbiAgY29uc3QgeyBpbml0aWFsTWVzc2FnZXMsIG1heFRvb2xSb3VuZHRyaXBzLCBtYXhTdGVwcywgYWRhcHRlcnMsIC4uLnJlc3QgfSA9XG4gICAgb3B0aW9ucztcblxuICByZXR1cm4ge1xuICAgIGxvY2FsUnVudGltZU9wdGlvbnM6IHtcbiAgICAgIGluaXRpYWxNZXNzYWdlcyxcbiAgICAgIG1heFRvb2xSb3VuZHRyaXBzLFxuICAgICAgbWF4U3RlcHMsXG4gICAgICBhZGFwdGVycyxcbiAgICB9LFxuICAgIG90aGVyT3B0aW9uczogcmVzdCxcbiAgfTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7IFRocmVhZEFzc2lzdGFudE1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IHNob3VsZENvbnRpbnVlID0gKHJlc3VsdDogVGhyZWFkQXNzaXN0YW50TWVzc2FnZSkgPT5cbiAgcmVzdWx0LnN0YXR1cz8udHlwZSA9PT0gXCJyZXF1aXJlcy1hY3Rpb25cIiAmJlxuICByZXN1bHQuc3RhdHVzLnJlYXNvbiA9PT0gXCJ0b29sLWNhbGxzXCIgJiZcbiAgcmVzdWx0LmNvbnRlbnQuZXZlcnkoKGMpID0+IGMudHlwZSAhPT0gXCJ0b29sLWNhbGxcIiB8fCAhIWMucmVzdWx0KTtcbiIsImltcG9ydCB7IEFwcGVuZE1lc3NhZ2UsIFRocmVhZE1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IGdldFRocmVhZE1lc3NhZ2VUZXh0IH0gZnJvbSBcIi4uLy4uL3V0aWxzL2dldFRocmVhZE1lc3NhZ2VUZXh0XCI7XG5pbXBvcnQgeyBBdHRhY2htZW50QWRhcHRlciB9IGZyb20gXCIuLi9hdHRhY2htZW50XCI7XG5pbXBvcnQgeyBUaHJlYWRSdW50aW1lQ29yZSB9IGZyb20gXCIuLi9jb3JlL1RocmVhZFJ1bnRpbWVDb3JlXCI7XG5pbXBvcnQgeyBCYXNlQ29tcG9zZXJSdW50aW1lQ29yZSB9IGZyb20gXCIuL0Jhc2VDb21wb3NlclJ1bnRpbWVDb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0RWRpdENvbXBvc2VyUnVudGltZUNvcmUgZXh0ZW5kcyBCYXNlQ29tcG9zZXJSdW50aW1lQ29yZSB7XG4gIHB1YmxpYyBnZXQgY2FuQ2FuY2VsKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldEF0dGFjaG1lbnRBZGFwdGVyKCkge1xuICAgIHJldHVybiB0aGlzLnJ1bnRpbWUuYWRhcHRlcnM/LmF0dGFjaG1lbnRzO1xuICB9XG5cbiAgcHJpdmF0ZSBfbm9uVGV4dFBhcnRzO1xuICBwcml2YXRlIF9wcmV2aW91c1RleHQ7XG4gIHByaXZhdGUgX3BhcmVudElkO1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJ1bnRpbWU6IE9taXQ8VGhyZWFkUnVudGltZUNvcmUsIFwiY29tcG9zZXJcIj4gJiB7XG4gICAgICBhZGFwdGVycz86IHsgYXR0YWNobWVudHM/OiBBdHRhY2htZW50QWRhcHRlciB8IHVuZGVmaW5lZCB9IHwgdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgcHJpdmF0ZSBlbmRFZGl0Q2FsbGJhY2s6ICgpID0+IHZvaWQsXG4gICAgeyBwYXJlbnRJZCwgbWVzc2FnZSB9OiB7IHBhcmVudElkOiBzdHJpbmcgfCBudWxsOyBtZXNzYWdlOiBUaHJlYWRNZXNzYWdlIH0sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fcGFyZW50SWQgPSBwYXJlbnRJZDtcbiAgICB0aGlzLl9wcmV2aW91c1RleHQgPSBnZXRUaHJlYWRNZXNzYWdlVGV4dChtZXNzYWdlKTtcbiAgICB0aGlzLnNldFRleHQodGhpcy5fcHJldmlvdXNUZXh0KTtcblxuICAgIHRoaXMuX25vblRleHRQYXJ0cyA9IG1lc3NhZ2UuY29udGVudC5maWx0ZXIoXG4gICAgICAocGFydCkgPT4gcGFydC50eXBlICE9PSBcInRleHRcIiAmJiBwYXJ0LnR5cGUgIT09IFwidWlcIixcbiAgICApO1xuXG4gICAgdGhpcy5hdHRhY2htZW50cyA9IG1lc3NhZ2UuYXR0YWNobWVudHMgPz8gW107XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgaGFuZGxlU2VuZChtZXNzYWdlOiBPbWl0PEFwcGVuZE1lc3NhZ2UsIFwicGFyZW50SWRcIj4pIHtcbiAgICBjb25zdCB0ZXh0ID0gZ2V0VGhyZWFkTWVzc2FnZVRleHQobWVzc2FnZSBhcyBBcHBlbmRNZXNzYWdlKTtcbiAgICBpZiAodGV4dCAhPT0gdGhpcy5fcHJldmlvdXNUZXh0KSB7XG4gICAgICB0aGlzLnJ1bnRpbWUuYXBwZW5kKHtcbiAgICAgICAgLi4uKG1lc3NhZ2UgYXMgQXBwZW5kTWVzc2FnZSksXG4gICAgICAgIGNvbnRlbnQ6IFsuLi5tZXNzYWdlLmNvbnRlbnQsIC4uLnRoaXMuX25vblRleHRQYXJ0c10gYXMgYW55LFxuICAgICAgICBwYXJlbnRJZDogdGhpcy5fcGFyZW50SWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmVuZEVkaXRDYWxsYmFjaygpO1xuICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjYW5jZWwoKSB7XG4gICAgdGhpcy5lbmRFZGl0Q2FsbGJhY2soKTtcbiAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHtcbiAgTW9kZWxDb25maWdQcm92aWRlcixcbiAgQXBwZW5kTWVzc2FnZSxcbiAgVW5zdWJzY3JpYmUsXG59IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHtcbiAgRXhwb3J0ZWRNZXNzYWdlUmVwb3NpdG9yeSxcbiAgTWVzc2FnZVJlcG9zaXRvcnksXG59IGZyb20gXCIuLi91dGlscy9NZXNzYWdlUmVwb3NpdG9yeVwiO1xuaW1wb3J0IHsgRGVmYXVsdFRocmVhZENvbXBvc2VyUnVudGltZUNvcmUgfSBmcm9tIFwiLi4vY29tcG9zZXIvRGVmYXVsdFRocmVhZENvbXBvc2VyUnVudGltZUNvcmVcIjtcbmltcG9ydCB7XG4gIEFkZFRvb2xSZXN1bHRPcHRpb25zLFxuICBUaHJlYWRTdWdnZXN0aW9uLFxuICBTdWJtaXRGZWVkYmFja09wdGlvbnMsXG4gIFRocmVhZFJ1bnRpbWVDb3JlLFxuICBTcGVlY2hTdGF0ZSxcbiAgUnVudGltZUNhcGFiaWxpdGllcyxcbiAgU3VibWl0dGVkRmVlZGJhY2ssXG4gIFRocmVhZFJ1bnRpbWVFdmVudFR5cGUsXG59IGZyb20gXCIuLi9jb3JlL1RocmVhZFJ1bnRpbWVDb3JlXCI7XG5pbXBvcnQgeyBEZWZhdWx0RWRpdENvbXBvc2VyUnVudGltZUNvcmUgfSBmcm9tIFwiLi4vY29tcG9zZXIvRGVmYXVsdEVkaXRDb21wb3NlclJ1bnRpbWVDb3JlXCI7XG5pbXBvcnQgeyBTcGVlY2hTeW50aGVzaXNBZGFwdGVyIH0gZnJvbSBcIi4uL3NwZWVjaFwiO1xuaW1wb3J0IHsgRmVlZGJhY2tBZGFwdGVyIH0gZnJvbSBcIi4uL2ZlZWRiYWNrL0ZlZWRiYWNrQWRhcHRlclwiO1xuaW1wb3J0IHsgQXR0YWNobWVudEFkYXB0ZXIgfSBmcm9tIFwiLi4vYXR0YWNobWVudFwiO1xuaW1wb3J0IHsgZ2V0VGhyZWFkTWVzc2FnZVRleHQgfSBmcm9tIFwiLi4vLi4vdXRpbHMvZ2V0VGhyZWFkTWVzc2FnZVRleHRcIjtcblxudHlwZSBCYXNlVGhyZWFkQWRhcHRlcnMgPSB7XG4gIHNwZWVjaD86IFNwZWVjaFN5bnRoZXNpc0FkYXB0ZXIgfCB1bmRlZmluZWQ7XG4gIGZlZWRiYWNrPzogRmVlZGJhY2tBZGFwdGVyIHwgdW5kZWZpbmVkO1xuICBhdHRhY2htZW50cz86IEF0dGFjaG1lbnRBZGFwdGVyIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VUaHJlYWRSdW50aW1lQ29yZSBpbXBsZW1lbnRzIFRocmVhZFJ1bnRpbWVDb3JlIHtcbiAgcHJpdmF0ZSBfc3Vic2NyaXB0aW9ucyA9IG5ldyBTZXQ8KCkgPT4gdm9pZD4oKTtcblxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgcmVwb3NpdG9yeSA9IG5ldyBNZXNzYWdlUmVwb3NpdG9yeSgpO1xuICBwdWJsaWMgYWJzdHJhY3QgZ2V0IGFkYXB0ZXJzKCk6IEJhc2VUaHJlYWRBZGFwdGVycyB8IHVuZGVmaW5lZDtcblxuICBwdWJsaWMgYWJzdHJhY3QgZ2V0IHRocmVhZElkKCk6IHN0cmluZztcbiAgcHVibGljIGFic3RyYWN0IGdldCBpc0Rpc2FibGVkKCk6IGJvb2xlYW47XG4gIHB1YmxpYyBhYnN0cmFjdCBnZXQgc3VnZ2VzdGlvbnMoKTogcmVhZG9ubHkgVGhyZWFkU3VnZ2VzdGlvbltdO1xuICBwdWJsaWMgYWJzdHJhY3QgZ2V0IGV4dHJhcygpOiB1bmtub3duO1xuXG4gIHB1YmxpYyBhYnN0cmFjdCBnZXQgY2FwYWJpbGl0aWVzKCk6IFJ1bnRpbWVDYXBhYmlsaXRpZXM7XG4gIHB1YmxpYyBhYnN0cmFjdCBhcHBlbmQobWVzc2FnZTogQXBwZW5kTWVzc2FnZSk6IHZvaWQ7XG4gIHB1YmxpYyBhYnN0cmFjdCBzdGFydFJ1bihwYXJlbnRJZDogc3RyaW5nIHwgbnVsbCk6IHZvaWQ7XG4gIHB1YmxpYyBhYnN0cmFjdCBhZGRUb29sUmVzdWx0KG9wdGlvbnM6IEFkZFRvb2xSZXN1bHRPcHRpb25zKTogdm9pZDtcbiAgcHVibGljIGFic3RyYWN0IGNhbmNlbFJ1bigpOiB2b2lkO1xuXG4gIHB1YmxpYyBnZXQgbWVzc2FnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVwb3NpdG9yeS5nZXRNZXNzYWdlcygpO1xuICB9XG5cbiAgcHVibGljIHJlYWRvbmx5IGNvbXBvc2VyID0gbmV3IERlZmF1bHRUaHJlYWRDb21wb3NlclJ1bnRpbWVDb3JlKHRoaXMpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY29uZmlnUHJvdmlkZXI6IE1vZGVsQ29uZmlnUHJvdmlkZXIpIHtcbiAgICB0aGlzLmNvbmZpZ1Byb3ZpZGVyLnN1YnNjcmliZT8uKCgpID0+IHtcbiAgICAgIHRoaXMuX25vdGlmeUV2ZW50U3Vic2NyaWJlcnMoXCJtb2RlbC1jb25maWctdXBkYXRlXCIpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldE1vZGVsQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ1Byb3ZpZGVyLmdldE1vZGVsQ29uZmlnKCk7XG4gIH1cblxuICBwcml2YXRlIF9lZGl0Q29tcG9zZXJzID0gbmV3IE1hcDxzdHJpbmcsIERlZmF1bHRFZGl0Q29tcG9zZXJSdW50aW1lQ29yZT4oKTtcbiAgcHVibGljIGdldEVkaXRDb21wb3NlcihtZXNzYWdlSWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLl9lZGl0Q29tcG9zZXJzLmdldChtZXNzYWdlSWQpO1xuICB9XG4gIHB1YmxpYyBiZWdpbkVkaXQobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5fZWRpdENvbXBvc2Vycy5oYXMobWVzc2FnZUlkKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVkaXQgYWxyZWFkeSBpbiBwcm9ncmVzc1wiKTtcblxuICAgIHRoaXMuX2VkaXRDb21wb3NlcnMuc2V0KFxuICAgICAgbWVzc2FnZUlkLFxuICAgICAgbmV3IERlZmF1bHRFZGl0Q29tcG9zZXJSdW50aW1lQ29yZShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgKCkgPT4gdGhpcy5fZWRpdENvbXBvc2Vycy5kZWxldGUobWVzc2FnZUlkKSxcbiAgICAgICAgdGhpcy5yZXBvc2l0b3J5LmdldE1lc3NhZ2UobWVzc2FnZUlkKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLl9ub3RpZnlTdWJzY3JpYmVycygpO1xuICB9XG5cbiAgcHVibGljIGdldE1lc3NhZ2VCeUlkKG1lc3NhZ2VJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMucmVwb3NpdG9yeS5nZXRNZXNzYWdlKG1lc3NhZ2VJZCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0QnJhbmNoZXMobWVzc2FnZUlkOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMucmVwb3NpdG9yeS5nZXRCcmFuY2hlcyhtZXNzYWdlSWQpO1xuICB9XG5cbiAgcHVibGljIHN3aXRjaFRvQnJhbmNoKGJyYW5jaElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9zaXRvcnkuc3dpdGNoVG9CcmFuY2goYnJhbmNoSWQpO1xuICAgIHRoaXMuX25vdGlmeVN1YnNjcmliZXJzKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX25vdGlmeVN1YnNjcmliZXJzKCkge1xuICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgdGhpcy5fc3Vic2NyaXB0aW9ucykgY2FsbGJhY2soKTtcbiAgfVxuXG4gIHB1YmxpYyBfbm90aWZ5RXZlbnRTdWJzY3JpYmVycyhldmVudDogVGhyZWFkUnVudGltZUV2ZW50VHlwZSkge1xuICAgIGNvbnN0IHN1YnNjcmliZXJzID0gdGhpcy5fZXZlbnRTdWJzY3JpYmVycy5nZXQoZXZlbnQpO1xuICAgIGlmICghc3Vic2NyaWJlcnMpIHJldHVybjtcblxuICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2Ygc3Vic2NyaWJlcnMpIGNhbGxiYWNrKCk7XG4gIH1cblxuICBwdWJsaWMgc3Vic2NyaWJlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVW5zdWJzY3JpYmUge1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMuYWRkKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gKCkgPT4gdGhpcy5fc3Vic2NyaXB0aW9ucy5kZWxldGUoY2FsbGJhY2spO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3VibWl0dGVkRmVlZGJhY2s6IFJlY29yZDxzdHJpbmcsIFN1Ym1pdHRlZEZlZWRiYWNrPiA9IHt9O1xuXG4gIHB1YmxpYyBnZXRTdWJtaXR0ZWRGZWVkYmFjayhtZXNzYWdlSWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLl9zdWJtaXR0ZWRGZWVkYmFja1ttZXNzYWdlSWRdO1xuICB9XG5cbiAgcHVibGljIHN1Ym1pdEZlZWRiYWNrKHsgbWVzc2FnZUlkLCB0eXBlIH06IFN1Ym1pdEZlZWRiYWNrT3B0aW9ucykge1xuICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFkYXB0ZXJzPy5mZWVkYmFjaztcbiAgICBpZiAoIWFkYXB0ZXIpIHRocm93IG5ldyBFcnJvcihcIkZlZWRiYWNrIGFkYXB0ZXIgbm90IGNvbmZpZ3VyZWRcIik7XG5cbiAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHRoaXMucmVwb3NpdG9yeS5nZXRNZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgYWRhcHRlci5zdWJtaXQoeyBtZXNzYWdlLCB0eXBlIH0pO1xuXG4gICAgdGhpcy5fc3VibWl0dGVkRmVlZGJhY2tbbWVzc2FnZUlkXSA9IHsgdHlwZSB9O1xuICAgIHRoaXMuX25vdGlmeVN1YnNjcmliZXJzKCk7XG4gIH1cblxuICBwcml2YXRlIF9zdG9wU3BlYWtpbmc6IFVuc3Vic2NyaWJlIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgc3BlZWNoOiBTcGVlY2hTdGF0ZSB8IHVuZGVmaW5lZDtcblxuICBwdWJsaWMgc3BlYWsobWVzc2FnZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hZGFwdGVycz8uc3BlZWNoO1xuICAgIGlmICghYWRhcHRlcikgdGhyb3cgbmV3IEVycm9yKFwiU3BlZWNoIGFkYXB0ZXIgbm90IGNvbmZpZ3VyZWRcIik7XG5cbiAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHRoaXMucmVwb3NpdG9yeS5nZXRNZXNzYWdlKG1lc3NhZ2VJZCk7XG5cbiAgICB0aGlzLl9zdG9wU3BlYWtpbmc/LigpO1xuXG4gICAgY29uc3QgdXR0ZXJhbmNlID0gYWRhcHRlci5zcGVhayhnZXRUaHJlYWRNZXNzYWdlVGV4dChtZXNzYWdlKSk7XG4gICAgY29uc3QgdW5zdWIgPSB1dHRlcmFuY2Uuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIGlmICh1dHRlcmFuY2Uuc3RhdHVzLnR5cGUgPT09IFwiZW5kZWRcIikge1xuICAgICAgICB0aGlzLl9zdG9wU3BlYWtpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3BlZWNoID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zcGVlY2ggPSB7IG1lc3NhZ2VJZCwgc3RhdHVzOiB1dHRlcmFuY2Uuc3RhdHVzIH07XG4gICAgICB9XG4gICAgICB0aGlzLl9ub3RpZnlTdWJzY3JpYmVycygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zcGVlY2ggPSB7IG1lc3NhZ2VJZCwgc3RhdHVzOiB1dHRlcmFuY2Uuc3RhdHVzIH07XG4gICAgdGhpcy5fbm90aWZ5U3Vic2NyaWJlcnMoKTtcblxuICAgIHRoaXMuX3N0b3BTcGVha2luZyA9ICgpID0+IHtcbiAgICAgIHV0dGVyYW5jZS5jYW5jZWwoKTtcbiAgICAgIHVuc3ViKCk7XG4gICAgICB0aGlzLnNwZWVjaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX3N0b3BTcGVha2luZyA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHN0b3BTcGVha2luZygpIHtcbiAgICBpZiAoIXRoaXMuX3N0b3BTcGVha2luZykgdGhyb3cgbmV3IEVycm9yKFwiTm8gbWVzc2FnZSBpcyBiZWluZyBzcG9rZW5cIik7XG4gICAgdGhpcy5fc3RvcFNwZWFraW5nKCk7XG4gICAgdGhpcy5fbm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBleHBvcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVwb3NpdG9yeS5leHBvcnQoKTtcbiAgfVxuXG4gIHB1YmxpYyBpbXBvcnQoZGF0YTogRXhwb3J0ZWRNZXNzYWdlUmVwb3NpdG9yeSkge1xuICAgIHRoaXMucmVwb3NpdG9yeS5pbXBvcnQoZGF0YSk7XG4gICAgdGhpcy5fbm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2V2ZW50U3Vic2NyaWJlcnMgPSBuZXcgTWFwPHN0cmluZywgU2V0PCgpID0+IHZvaWQ+PigpO1xuXG4gIHB1YmxpYyB1bnN0YWJsZV9vbihldmVudDogVGhyZWFkUnVudGltZUV2ZW50VHlwZSwgY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICBjb25zdCBzdWJzY3JpYmVycyA9IHRoaXMuX2V2ZW50U3Vic2NyaWJlcnMuZ2V0KGV2ZW50KTtcbiAgICBpZiAoIXN1YnNjcmliZXJzKSB7XG4gICAgICB0aGlzLl9ldmVudFN1YnNjcmliZXJzLnNldChldmVudCwgbmV3IFNldChbY2FsbGJhY2tdKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1YnNjcmliZXJzLmFkZChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IHN1YnNjcmliZXJzID0gdGhpcy5fZXZlbnRTdWJzY3JpYmVycy5nZXQoZXZlbnQpITtcbiAgICAgIHN1YnNjcmliZXJzLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2VuZXJhdGVJZCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbFwiO1xuaW1wb3J0IHR5cGUge1xuICBNb2RlbENvbmZpZ1Byb3ZpZGVyLFxuICBBcHBlbmRNZXNzYWdlLFxuICBUaHJlYWRBc3Npc3RhbnRNZXNzYWdlLFxufSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IGZyb21Db3JlTWVzc2FnZSwgZnJvbUNvcmVNZXNzYWdlcyB9IGZyb20gXCIuLi9lZGdlXCI7XG5pbXBvcnQgdHlwZSB7IENoYXRNb2RlbEFkYXB0ZXIsIENoYXRNb2RlbFJ1blJlc3VsdCB9IGZyb20gXCIuL0NoYXRNb2RlbEFkYXB0ZXJcIjtcbmltcG9ydCB7IHNob3VsZENvbnRpbnVlIH0gZnJvbSBcIi4vc2hvdWxkQ29udGludWVcIjtcbmltcG9ydCB7IExvY2FsUnVudGltZU9wdGlvbnMgfSBmcm9tIFwiLi9Mb2NhbFJ1bnRpbWVPcHRpb25zXCI7XG5pbXBvcnQge1xuICBBZGRUb29sUmVzdWx0T3B0aW9ucyxcbiAgVGhyZWFkU3VnZ2VzdGlvbixcbiAgVGhyZWFkUnVudGltZUNvcmUsXG59IGZyb20gXCIuLi9jb3JlL1RocmVhZFJ1bnRpbWVDb3JlXCI7XG5pbXBvcnQgeyBCYXNlVGhyZWFkUnVudGltZUNvcmUgfSBmcm9tIFwiLi4vY29yZS9CYXNlVGhyZWFkUnVudGltZUNvcmVcIjtcblxuZXhwb3J0IGNsYXNzIExvY2FsVGhyZWFkUnVudGltZUNvcmVcbiAgZXh0ZW5kcyBCYXNlVGhyZWFkUnVudGltZUNvcmVcbiAgaW1wbGVtZW50cyBUaHJlYWRSdW50aW1lQ29yZVxue1xuICBwdWJsaWMgcmVhZG9ubHkgY2FwYWJpbGl0aWVzID0ge1xuICAgIHN3aXRjaFRvQnJhbmNoOiB0cnVlLFxuICAgIGVkaXQ6IHRydWUsXG4gICAgcmVsb2FkOiB0cnVlLFxuICAgIGNhbmNlbDogdHJ1ZSxcbiAgICB1bnN0YWJsZV9jb3B5OiB0cnVlLFxuICAgIHNwZWVjaDogZmFsc2UsXG4gICAgYXR0YWNobWVudHM6IGZhbHNlLFxuICAgIGZlZWRiYWNrOiBmYWxzZSxcbiAgfTtcblxuICBwcml2YXRlIGFib3J0Q29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyIHwgbnVsbCA9IG51bGw7XG5cbiAgcHVibGljIHJlYWRvbmx5IHRocmVhZElkOiBzdHJpbmc7XG4gIHB1YmxpYyByZWFkb25seSBpc0Rpc2FibGVkID0gZmFsc2U7XG4gIHB1YmxpYyByZWFkb25seSBzdWdnZXN0aW9uczogcmVhZG9ubHkgVGhyZWFkU3VnZ2VzdGlvbltdID0gW107XG5cbiAgcHVibGljIGdldCBhZGFwdGVycygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFkYXB0ZXJzO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29uZmlnUHJvdmlkZXI6IE1vZGVsQ29uZmlnUHJvdmlkZXIsXG4gICAgcHVibGljIGFkYXB0ZXI6IENoYXRNb2RlbEFkYXB0ZXIsXG4gICAgeyBpbml0aWFsTWVzc2FnZXMsIC4uLm9wdGlvbnMgfTogTG9jYWxSdW50aW1lT3B0aW9ucyxcbiAgKSB7XG4gICAgc3VwZXIoY29uZmlnUHJvdmlkZXIpO1xuXG4gICAgdGhpcy50aHJlYWRJZCA9IGdlbmVyYXRlSWQoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmIChpbml0aWFsTWVzc2FnZXMpIHtcbiAgICAgIGxldCBwYXJlbnRJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IGZyb21Db3JlTWVzc2FnZXMoaW5pdGlhbE1lc3NhZ2VzKTtcbiAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgICAgICB0aGlzLnJlcG9zaXRvcnkuYWRkT3JVcGRhdGVNZXNzYWdlKHBhcmVudElkLCBtZXNzYWdlKTtcbiAgICAgICAgcGFyZW50SWQgPSBtZXNzYWdlLmlkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX29wdGlvbnMhOiBMb2NhbFJ1bnRpbWVPcHRpb25zO1xuXG4gIHB1YmxpYyBnZXQgb3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZXh0cmFzKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgc2V0IG9wdGlvbnMoeyBpbml0aWFsTWVzc2FnZXMsIC4uLm9wdGlvbnMgfTogTG9jYWxSdW50aW1lT3B0aW9ucykge1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgbGV0IGhhc1VwZGF0ZXMgPSBmYWxzZTtcblxuICAgIGNvbnN0IGNhblNwZWFrID0gb3B0aW9ucy5hZGFwdGVycz8uc3BlZWNoICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKHRoaXMuY2FwYWJpbGl0aWVzLnNwZWVjaCAhPT0gY2FuU3BlYWspIHtcbiAgICAgIHRoaXMuY2FwYWJpbGl0aWVzLnNwZWVjaCA9IGNhblNwZWFrO1xuICAgICAgaGFzVXBkYXRlcyA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgY2FuQXR0YWNoID0gb3B0aW9ucy5hZGFwdGVycz8uYXR0YWNobWVudHMgIT09IHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5jYXBhYmlsaXRpZXMuYXR0YWNobWVudHMgIT09IGNhbkF0dGFjaCkge1xuICAgICAgdGhpcy5jYXBhYmlsaXRpZXMuYXR0YWNobWVudHMgPSBjYW5BdHRhY2g7XG4gICAgICBoYXNVcGRhdGVzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBjYW5GZWVkYmFjayA9IG9wdGlvbnMuYWRhcHRlcnM/LmZlZWRiYWNrICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKHRoaXMuY2FwYWJpbGl0aWVzLmZlZWRiYWNrICE9PSBjYW5GZWVkYmFjaykge1xuICAgICAgdGhpcy5jYXBhYmlsaXRpZXMuZmVlZGJhY2sgPSBjYW5GZWVkYmFjaztcbiAgICAgIGhhc1VwZGF0ZXMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChoYXNVcGRhdGVzKSB0aGlzLl9ub3RpZnlTdWJzY3JpYmVycygpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGFwcGVuZChtZXNzYWdlOiBBcHBlbmRNZXNzYWdlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgbmV3TWVzc2FnZSA9IGZyb21Db3JlTWVzc2FnZShtZXNzYWdlLCB7XG4gICAgICBhdHRhY2htZW50czogbWVzc2FnZS5hdHRhY2htZW50cyxcbiAgICB9KTtcbiAgICB0aGlzLnJlcG9zaXRvcnkuYWRkT3JVcGRhdGVNZXNzYWdlKG1lc3NhZ2UucGFyZW50SWQsIG5ld01lc3NhZ2UpO1xuXG4gICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgIGF3YWl0IHRoaXMuc3RhcnRSdW4obmV3TWVzc2FnZS5pZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVwb3NpdG9yeS5yZXNldEhlYWQobmV3TWVzc2FnZS5pZCk7XG4gICAgICB0aGlzLl9ub3RpZnlTdWJzY3JpYmVycygpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzdGFydFJ1bihwYXJlbnRJZDogc3RyaW5nIHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMucmVwb3NpdG9yeS5yZXNldEhlYWQocGFyZW50SWQpO1xuXG4gICAgLy8gYWRkIGFzc2lzdGFudCBtZXNzYWdlXG4gICAgY29uc3QgaWQgPSBnZW5lcmF0ZUlkKCk7XG4gICAgbGV0IG1lc3NhZ2U6IFRocmVhZEFzc2lzdGFudE1lc3NhZ2UgPSB7XG4gICAgICBpZCxcbiAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICBzdGF0dXM6IHsgdHlwZTogXCJydW5uaW5nXCIgfSxcbiAgICAgIGNvbnRlbnQ6IFtdLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICB0aGlzLl9ub3RpZnlFdmVudFN1YnNjcmliZXJzKFwicnVuLXN0YXJ0XCIpO1xuXG4gICAgZG8ge1xuICAgICAgbWVzc2FnZSA9IGF3YWl0IHRoaXMucGVyZm9ybVJvdW5kdHJpcChwYXJlbnRJZCwgbWVzc2FnZSk7XG4gICAgfSB3aGlsZSAoc2hvdWxkQ29udGludWUobWVzc2FnZSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBwZXJmb3JtUm91bmR0cmlwKFxuICAgIHBhcmVudElkOiBzdHJpbmcgfCBudWxsLFxuICAgIG1lc3NhZ2U6IFRocmVhZEFzc2lzdGFudE1lc3NhZ2UsXG4gICkge1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5yZXBvc2l0b3J5LmdldE1lc3NhZ2VzKCk7XG5cbiAgICAvLyBhYm9ydCBleGlzdGluZyBydW5cbiAgICB0aGlzLmFib3J0Q29udHJvbGxlcj8uYWJvcnQoKTtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGNvbnN0IGluaXRpYWxDb250ZW50ID0gbWVzc2FnZS5jb250ZW50O1xuICAgIGNvbnN0IGluaXRpYWxTdGVwcyA9IG1lc3NhZ2UubWV0YWRhdGE/LnN0ZXBzO1xuICAgIGNvbnN0IGluaXRhbEN1c3RvbSA9IG1lc3NhZ2UubWV0YWRhdGE/LmN1c3RvbTtcbiAgICBjb25zdCB1cGRhdGVNZXNzYWdlID0gKG06IFBhcnRpYWw8Q2hhdE1vZGVsUnVuUmVzdWx0PikgPT4ge1xuICAgICAgY29uc3QgbmV3U3RlcHMgPSBtLm1ldGFkYXRhPy5zdGVwcyB8fCBtLm1ldGFkYXRhPy5yb3VuZHRyaXBzO1xuICAgICAgY29uc3Qgc3RlcHMgPSBuZXdTdGVwc1xuICAgICAgICA/IFsuLi4oaW5pdGlhbFN0ZXBzID8/IFtdKSwgLi4ubmV3U3RlcHNdXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICBtZXNzYWdlID0ge1xuICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAuLi4obS5jb250ZW50XG4gICAgICAgICAgPyB7IGNvbnRlbnQ6IFsuLi5pbml0aWFsQ29udGVudCwgLi4uKG0uY29udGVudCA/PyBbXSldIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCksXG4gICAgICAgIHN0YXR1czogbS5zdGF0dXMgPz8gbWVzc2FnZS5zdGF0dXMsXG4gICAgICAgIC8vIFRPRE8gZGVwcmVjYXRlZCwgcmVtb3ZlIGluIHYwLjZcbiAgICAgICAgLi4uKHN0ZXBzID8geyByb3VuZHRyaXBzOiBzdGVwcyB9IDogdW5kZWZpbmVkKSxcbiAgICAgICAgLi4uKG0ubWV0YWRhdGFcbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIC4uLihzdGVwcyA/IHsgcm91bmR0cmlwczogc3RlcHMsIHN0ZXBzIH0gOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIC4uLihtLm1ldGFkYXRhPy5jdXN0b21cbiAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbTogeyAuLi4oaW5pdGFsQ3VzdG9tID8/IHt9KSwgLi4ubS5tZXRhZGF0YS5jdXN0b20gfSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgIH07XG4gICAgICB0aGlzLnJlcG9zaXRvcnkuYWRkT3JVcGRhdGVNZXNzYWdlKHBhcmVudElkLCBtZXNzYWdlKTtcbiAgICAgIHRoaXMuX25vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG1heFN0ZXBzID0gdGhpcy5vcHRpb25zLm1heFN0ZXBzXG4gICAgICA/IHRoaXMub3B0aW9ucy5tYXhTdGVwc1xuICAgICAgOiAodGhpcy5vcHRpb25zLm1heFRvb2xSb3VuZHRyaXBzID8/IDEpICsgMTtcblxuICAgIGNvbnN0IHN0ZXBzID0gbWVzc2FnZS5tZXRhZGF0YT8uc3RlcHM/Lmxlbmd0aCA/PyAwO1xuICAgIGlmIChzdGVwcyA+PSBtYXhTdGVwcykge1xuICAgICAgLy8gcmVhY2hlZCBtYXggdG9vbCBzdGVwc1xuICAgICAgdXBkYXRlTWVzc2FnZSh7XG4gICAgICAgIHN0YXR1czoge1xuICAgICAgICAgIHR5cGU6IFwiaW5jb21wbGV0ZVwiLFxuICAgICAgICAgIHJlYXNvbjogXCJ0b29sLWNhbGxzXCIsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVNZXNzYWdlKHtcbiAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgdHlwZTogXCJydW5uaW5nXCIsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvbWlzZU9yR2VuZXJhdG9yID0gdGhpcy5hZGFwdGVyLnJ1bih7XG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICBhYm9ydFNpZ25hbDogdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICBjb25maWc6IHRoaXMuZ2V0TW9kZWxDb25maWcoKSxcbiAgICAgICAgb25VcGRhdGU6IHVwZGF0ZU1lc3NhZ2UsXG4gICAgICB9KTtcblxuICAgICAgLy8gaGFuZGxlIGFzeW5jIGl0ZXJhdG9yIGZvciBzdHJlYW1pbmcgcmVzdWx0c1xuICAgICAgaWYgKFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHByb21pc2VPckdlbmVyYXRvcikge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHIgb2YgcHJvbWlzZU9yR2VuZXJhdG9yKSB7XG4gICAgICAgICAgdXBkYXRlTWVzc2FnZShyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlTWVzc2FnZShhd2FpdCBwcm9taXNlT3JHZW5lcmF0b3IpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlciA9IG51bGw7XG5cbiAgICAgIGlmIChtZXNzYWdlLnN0YXR1cy50eXBlID09PSBcInJ1bm5pbmdcIikge1xuICAgICAgICB1cGRhdGVNZXNzYWdlKHtcbiAgICAgICAgICBzdGF0dXM6IHsgdHlwZTogXCJjb21wbGV0ZVwiLCByZWFzb246IFwidW5rbm93blwiIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbnVsbDtcblxuICAgICAgLy8gVE9ETyB0aGlzIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHRoZSBydW4gcmVzdWx0IHN0cmVhbVxuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICAgIHVwZGF0ZU1lc3NhZ2Uoe1xuICAgICAgICAgIHN0YXR1czogeyB0eXBlOiBcImluY29tcGxldGVcIiwgcmVhc29uOiBcImNhbmNlbGxlZFwiIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlTWVzc2FnZSh7XG4gICAgICAgICAgc3RhdHVzOiB7IHR5cGU6IFwiaW5jb21wbGV0ZVwiLCByZWFzb246IFwiZXJyb3JcIiwgZXJyb3I6IGUgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cblxuICBwdWJsaWMgY2FuY2VsUnVuKCkge1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyPy5hYm9ydCgpO1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUb29sUmVzdWx0KHtcbiAgICBtZXNzYWdlSWQsXG4gICAgdG9vbENhbGxJZCxcbiAgICByZXN1bHQsXG4gIH06IEFkZFRvb2xSZXN1bHRPcHRpb25zKSB7XG4gICAgY29uc3QgbWVzc2FnZURhdGEgPSB0aGlzLnJlcG9zaXRvcnkuZ2V0TWVzc2FnZShtZXNzYWdlSWQpO1xuICAgIGNvbnN0IHsgcGFyZW50SWQgfSA9IG1lc3NhZ2VEYXRhO1xuICAgIGxldCB7IG1lc3NhZ2UgfSA9IG1lc3NhZ2VEYXRhO1xuXG4gICAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJhc3Npc3RhbnRcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyaWVkIHRvIGFkZCB0b29sIHJlc3VsdCB0byBub24tYXNzaXN0YW50IG1lc3NhZ2VcIik7XG5cbiAgICBsZXQgYWRkZWQgPSBmYWxzZTtcbiAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICBjb25zdCBuZXdDb250ZW50ID0gbWVzc2FnZS5jb250ZW50Lm1hcCgoYykgPT4ge1xuICAgICAgaWYgKGMudHlwZSAhPT0gXCJ0b29sLWNhbGxcIikgcmV0dXJuIGM7XG4gICAgICBpZiAoYy50b29sQ2FsbElkICE9PSB0b29sQ2FsbElkKSByZXR1cm4gYztcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIGlmICghYy5yZXN1bHQpIGFkZGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmMsXG4gICAgICAgIHJlc3VsdCxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBpZiAoIWZvdW5kKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJpZWQgdG8gYWRkIHRvb2wgcmVzdWx0IHRvIG5vbi1leGlzdGluZyB0b29sIGNhbGxcIik7XG5cbiAgICBtZXNzYWdlID0ge1xuICAgICAgLi4ubWVzc2FnZSxcbiAgICAgIGNvbnRlbnQ6IG5ld0NvbnRlbnQsXG4gICAgfTtcbiAgICB0aGlzLnJlcG9zaXRvcnkuYWRkT3JVcGRhdGVNZXNzYWdlKHBhcmVudElkLCBtZXNzYWdlKTtcblxuICAgIGlmIChhZGRlZCAmJiBzaG91bGRDb250aW51ZShtZXNzYWdlKSkge1xuICAgICAgdGhpcy5wZXJmb3JtUm91bmR0cmlwKHBhcmVudElkLCBtZXNzYWdlKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IHR5cGUgTW9kZWxDb25maWdQcm92aWRlciB9IGZyb20gXCIuLi8uLi90eXBlcy9Nb2RlbENvbmZpZ1R5cGVzXCI7XG5pbXBvcnQgdHlwZSB7IENvcmVNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL3R5cGVzL0Fzc2lzdGFudFR5cGVzXCI7XG5pbXBvcnQgeyBCYXNlQXNzaXN0YW50UnVudGltZUNvcmUgfSBmcm9tIFwiLi4vY29yZS9CYXNlQXNzaXN0YW50UnVudGltZUNvcmVcIjtcbmltcG9ydCB0eXBlIHsgQ2hhdE1vZGVsQWRhcHRlciB9IGZyb20gXCIuL0NoYXRNb2RlbEFkYXB0ZXJcIjtcbmltcG9ydCB7IFByb3h5Q29uZmlnUHJvdmlkZXIgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWxcIjtcbmltcG9ydCB7IExvY2FsVGhyZWFkUnVudGltZUNvcmUgfSBmcm9tIFwiLi9Mb2NhbFRocmVhZFJ1bnRpbWVDb3JlXCI7XG5pbXBvcnQgeyBMb2NhbFJ1bnRpbWVPcHRpb25zIH0gZnJvbSBcIi4vTG9jYWxSdW50aW1lT3B0aW9uc1wiO1xuaW1wb3J0IHsgZnJvbUNvcmVNZXNzYWdlcyB9IGZyb20gXCIuLi9lZGdlL2NvbnZlcnRlcnMvZnJvbUNvcmVNZXNzYWdlXCI7XG5cbmV4cG9ydCBjbGFzcyBMb2NhbFJ1bnRpbWVDb3JlIGV4dGVuZHMgQmFzZUFzc2lzdGFudFJ1bnRpbWVDb3JlPExvY2FsVGhyZWFkUnVudGltZUNvcmU+IHtcbiAgcHJpdmF0ZSByZWFkb25seSBfcHJveHlDb25maWdQcm92aWRlcjogUHJveHlDb25maWdQcm92aWRlcjtcblxuICBjb25zdHJ1Y3RvcihhZGFwdGVyOiBDaGF0TW9kZWxBZGFwdGVyLCBvcHRpb25zOiBMb2NhbFJ1bnRpbWVPcHRpb25zKSB7XG4gICAgY29uc3QgcHJveHlDb25maWdQcm92aWRlciA9IG5ldyBQcm94eUNvbmZpZ1Byb3ZpZGVyKCk7XG4gICAgc3VwZXIobmV3IExvY2FsVGhyZWFkUnVudGltZUNvcmUocHJveHlDb25maWdQcm92aWRlciwgYWRhcHRlciwgb3B0aW9ucykpO1xuICAgIHRoaXMuX3Byb3h5Q29uZmlnUHJvdmlkZXIgPSBwcm94eUNvbmZpZ1Byb3ZpZGVyO1xuICB9XG4gIHB1YmxpYyByZWdpc3Rlck1vZGVsQ29uZmlnUHJvdmlkZXIocHJvdmlkZXI6IE1vZGVsQ29uZmlnUHJvdmlkZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJveHlDb25maWdQcm92aWRlci5yZWdpc3Rlck1vZGVsQ29uZmlnUHJvdmlkZXIocHJvdmlkZXIpO1xuICB9XG5cbiAgcHVibGljIHN3aXRjaFRvTmV3VGhyZWFkKCkge1xuICAgIGNvbnN0IHsgaW5pdGlhbE1lc3NhZ2VzLCAuLi5vcHRpb25zIH0gPSB0aGlzLnRocmVhZC5vcHRpb25zO1xuXG4gICAgdGhpcy50aHJlYWQgPSBuZXcgTG9jYWxUaHJlYWRSdW50aW1lQ29yZShcbiAgICAgIHRoaXMuX3Byb3h5Q29uZmlnUHJvdmlkZXIsXG4gICAgICB0aGlzLnRocmVhZC5hZGFwdGVyLFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuICAgIHRoaXMudGhyZWFkLl9ub3RpZnlFdmVudFN1YnNjcmliZXJzKFwic3dpdGNoZWQtdG9cIik7XG4gIH1cblxuICBwdWJsaWMgc3dpdGNoVG9UaHJlYWQodGhyZWFkSWQ6IHN0cmluZyB8IG51bGwpIHtcbiAgICBpZiAodGhyZWFkSWQgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkxvY2FsUnVudGltZSBkb2VzIG5vdCB5ZXQgc3VwcG9ydCBzd2l0Y2hpbmcgdGhyZWFkc1wiKTtcbiAgICB9XG5cbiAgICB0aGlzLnN3aXRjaFRvTmV3VGhyZWFkKCk7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQoe1xuICAgIGluaXRpYWxNZXNzYWdlcyxcbiAgfToge1xuICAgIGluaXRpYWxNZXNzYWdlcz86IHJlYWRvbmx5IENvcmVNZXNzYWdlW10gfCB1bmRlZmluZWQ7XG4gIH0gPSB7fSkge1xuICAgIHRoaXMuc3dpdGNoVG9UaHJlYWQobnVsbCk7XG4gICAgaWYgKCFpbml0aWFsTWVzc2FnZXMpIHJldHVybjtcblxuICAgIGNvbnN0IG1lc3NhZ2VzID0gZnJvbUNvcmVNZXNzYWdlcyhpbml0aWFsTWVzc2FnZXMpO1xuICAgIHRoaXMudGhyZWFkLmltcG9ydCh7XG4gICAgICBtZXNzYWdlczogbWVzc2FnZXMubWFwKChtLCBpZHgpID0+ICh7XG4gICAgICAgIHBhcmVudElkOiBtZXNzYWdlc1tpZHggLSAxXT8uaWQgPz8gbnVsbCxcbiAgICAgICAgbWVzc2FnZTogbSxcbiAgICAgIH0pKSxcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRXh0ZXJuYWxTdG9yZVJ1bnRpbWVDb3JlIH0gZnJvbSBcIi4vRXh0ZXJuYWxTdG9yZVJ1bnRpbWVDb3JlXCI7XG5pbXBvcnQgeyBFeHRlcm5hbFN0b3JlQWRhcHRlciB9IGZyb20gXCIuL0V4dGVybmFsU3RvcmVBZGFwdGVyXCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRSdW50aW1lSW1wbCB9IGZyb20gXCIuLi8uLi9hcGkvQXNzaXN0YW50UnVudGltZVwiO1xuaW1wb3J0IHsgVGhyZWFkUnVudGltZUltcGwgfSBmcm9tIFwiLi4vLi4vYXBpL1RocmVhZFJ1bnRpbWVcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUV4dGVybmFsU3RvcmVSdW50aW1lID0gPFQsPihzdG9yZTogRXh0ZXJuYWxTdG9yZUFkYXB0ZXI8VD4pID0+IHtcbiAgY29uc3QgW3J1bnRpbWVdID0gdXNlU3RhdGUoKCkgPT4gbmV3IEV4dGVybmFsU3RvcmVSdW50aW1lQ29yZShzdG9yZSkpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcnVudGltZS50aHJlYWQuc3RvcmUgPSBzdG9yZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT4gQXNzaXN0YW50UnVudGltZUltcGwuY3JlYXRlKHJ1bnRpbWUsIFRocmVhZFJ1bnRpbWVJbXBsKSxcbiAgICBbcnVudGltZV0sXG4gICk7XG59O1xuIiwiaW1wb3J0IHsgVGhyZWFkTWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3Qgc3ltYm9sSW5uZXJNZXNzYWdlID0gU3ltYm9sKFwiaW5uZXJNZXNzYWdlXCIpO1xuXG5leHBvcnQgdHlwZSBFeHRlcm5hbFN0b3JlVGhyZWFkTWVzc2FnZTxUPiA9IFRocmVhZE1lc3NhZ2UgJiB7XG4gIFtzeW1ib2xJbm5lck1lc3NhZ2VdPzogVDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFeHRlcm5hbFN0b3JlTWVzc2FnZSA9IDxULD4obWVzc2FnZTogVGhyZWFkTWVzc2FnZSkgPT4ge1xuICByZXR1cm4gKG1lc3NhZ2UgYXMgRXh0ZXJuYWxTdG9yZVRocmVhZE1lc3NhZ2U8VD4pW3N5bWJvbElubmVyTWVzc2FnZV07XG59O1xuIiwiaW1wb3J0IHsgVGhyZWFkTWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBDb252ZXJ0ZXJDYWxsYmFjazxUSW4+ID0gKFxuICBjYWNoZTogVGhyZWFkTWVzc2FnZSB8IHVuZGVmaW5lZCxcbiAgbWVzc2FnZTogVEluLFxuICBpZHg6IG51bWJlcixcbikgPT4gVGhyZWFkTWVzc2FnZTtcblxuZXhwb3J0IGNsYXNzIFRocmVhZE1lc3NhZ2VDb252ZXJ0ZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGNhY2hlID0gbmV3IFdlYWtNYXA8V2Vha0tleSwgVGhyZWFkTWVzc2FnZT4oKTtcblxuICBjb252ZXJ0TWVzc2FnZXM8VEluIGV4dGVuZHMgV2Vha0tleT4oXG4gICAgbWVzc2FnZXM6IFRJbltdLFxuICAgIGNvbnZlcnRlcjogQ29udmVydGVyQ2FsbGJhY2s8VEluPixcbiAgKTogVGhyZWFkTWVzc2FnZVtdIHtcbiAgICByZXR1cm4gbWVzc2FnZXMubWFwKChtLCBpZHgpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuY2FjaGUuZ2V0KG0pO1xuICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IGNvbnZlcnRlcihjYWNoZWQsIG0sIGlkeCk7XG4gICAgICB0aGlzLmNhY2hlLnNldChtLCBuZXdNZXNzYWdlKTtcbiAgICAgIHJldHVybiBuZXdNZXNzYWdlO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNZXNzYWdlU3RhdHVzIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5cbmNvbnN0IEFVVE9fU1RBVFVTX1JVTk5JTkcgPSBPYmplY3QuZnJlZXplKHsgdHlwZTogXCJydW5uaW5nXCIgfSk7XG5jb25zdCBBVVRPX1NUQVRVU19DT01QTEVURSA9IE9iamVjdC5mcmVlemUoe1xuICB0eXBlOiBcImNvbXBsZXRlXCIsXG4gIHJlYXNvbjogXCJ1bmtub3duXCIsXG59KTtcblxuZXhwb3J0IGNvbnN0IGlzQXV0b1N0YXR1cyA9IChzdGF0dXM6IE1lc3NhZ2VTdGF0dXMpID0+XG4gIHN0YXR1cyA9PT0gQVVUT19TVEFUVVNfUlVOTklORyB8fCBzdGF0dXMgPT09IEFVVE9fU1RBVFVTX0NPTVBMRVRFO1xuXG5leHBvcnQgY29uc3QgZ2V0QXV0b1N0YXR1cyA9IChpc0xhc3Q6IGJvb2xlYW4sIGlzUnVubmluZzogYm9vbGVhbikgPT5cbiAgaXNMYXN0ICYmIGlzUnVubmluZyA/IEFVVE9fU1RBVFVTX1JVTk5JTkcgOiBBVVRPX1NUQVRVU19DT01QTEVURTtcbiIsImltcG9ydCB7XG4gIE1lc3NhZ2VTdGF0dXMsXG4gIFRleHRDb250ZW50UGFydCxcbiAgSW1hZ2VDb250ZW50UGFydCxcbiAgVG9vbENhbGxDb250ZW50UGFydCxcbiAgVUlDb250ZW50UGFydCxcbiAgVGhyZWFkTWVzc2FnZSxcbiAgVGhyZWFkQXNzaXN0YW50Q29udGVudFBhcnQsXG4gIFRocmVhZEFzc2lzdGFudE1lc3NhZ2UsXG4gIFRocmVhZFVzZXJDb250ZW50UGFydCxcbiAgVGhyZWFkVXNlck1lc3NhZ2UsXG4gIFRocmVhZFN5c3RlbU1lc3NhZ2UsXG4gIENvbXBsZXRlQXR0YWNobWVudCxcbn0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBDb3JlVG9vbENhbGxDb250ZW50UGFydCB9IGZyb20gXCIuLi8uLi90eXBlcy9Bc3Npc3RhbnRUeXBlc1wiO1xuXG5leHBvcnQgdHlwZSBUaHJlYWRNZXNzYWdlTGlrZSA9IHtcbiAgcm9sZTogXCJhc3Npc3RhbnRcIiB8IFwidXNlclwiIHwgXCJzeXN0ZW1cIjtcbiAgY29udGVudDpcbiAgICB8IHN0cmluZ1xuICAgIHwgKFxuICAgICAgICB8IFRleHRDb250ZW50UGFydFxuICAgICAgICB8IEltYWdlQ29udGVudFBhcnRcbiAgICAgICAgfCBUb29sQ2FsbENvbnRlbnRQYXJ0PGFueSwgYW55PlxuICAgICAgICB8IENvcmVUb29sQ2FsbENvbnRlbnRQYXJ0PGFueSwgYW55PlxuICAgICAgICB8IFVJQ29udGVudFBhcnRcbiAgICAgIClbXTtcbiAgaWQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGNyZWF0ZWRBdD86IERhdGUgfCB1bmRlZmluZWQ7XG4gIHN0YXR1cz86IE1lc3NhZ2VTdGF0dXMgfCB1bmRlZmluZWQ7XG4gIGF0dGFjaG1lbnRzPzogQ29tcGxldGVBdHRhY2htZW50W10gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZnJvbVRocmVhZE1lc3NhZ2VMaWtlID0gKFxuICBsaWtlOiBUaHJlYWRNZXNzYWdlTGlrZSxcbiAgZmFsbGJhY2tJZDogc3RyaW5nLFxuICBmYWxsYmFja1N0YXR1czogTWVzc2FnZVN0YXR1cyxcbik6IFRocmVhZE1lc3NhZ2UgPT4ge1xuICBjb25zdCB7IHJvbGUsIGlkLCBjcmVhdGVkQXQsIGF0dGFjaG1lbnRzLCBzdGF0dXMgfSA9IGxpa2U7XG4gIGNvbnN0IGNvbW1vbiA9IHtcbiAgICBpZDogaWQgPz8gZmFsbGJhY2tJZCxcbiAgICBjcmVhdGVkQXQ6IGNyZWF0ZWRBdCA/PyBuZXcgRGF0ZSgpLFxuICB9O1xuXG4gIGNvbnN0IGNvbnRlbnQgPVxuICAgIHR5cGVvZiBsaWtlLmNvbnRlbnQgPT09IFwic3RyaW5nXCJcbiAgICAgID8gW3sgdHlwZTogXCJ0ZXh0XCIgYXMgY29uc3QsIHRleHQ6IGxpa2UuY29udGVudCB9XVxuICAgICAgOiBsaWtlLmNvbnRlbnQ7XG5cbiAgaWYgKHJvbGUgIT09IFwidXNlclwiICYmIGF0dGFjaG1lbnRzKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGFjaG1lbnRzIGFyZSBvbmx5IHN1cHBvcnRlZCBmb3IgdXNlciBtZXNzYWdlc1wiKTtcbiAgLy8gVE9ETyBhZGQgaW4gMC42XG4gIC8vIGlmIChyb2xlICE9PSBcImFzc2lzdGFudFwiICYmIHN0YXR1cylcbiAgLy8gICB0aHJvdyBuZXcgRXJyb3IoXCJTdGF0dXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGFzc2lzdGFudCBtZXNzYWdlc1wiKTtcblxuICBzd2l0Y2ggKHJvbGUpIHtcbiAgICBjYXNlIFwiYXNzaXN0YW50XCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jb21tb24sXG4gICAgICAgIHJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRcbiAgICAgICAgICAubWFwKChwYXJ0KTogVGhyZWFkQXNzaXN0YW50Q29udGVudFBhcnQgfCBudWxsID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgICBpZiAocGFydC50ZXh0LnRyaW0oKS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJ1aVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjoge1xuICAgICAgICAgICAgICAgIGlmIChcImFyZ3NUZXh0XCIgaW4gcGFydCkgcmV0dXJuIHBhcnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLnBhcnQsXG4gICAgICAgICAgICAgICAgICBhcmdzVGV4dDogSlNPTi5zdHJpbmdpZnkocGFydC5hcmdzKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaGFuZGxlZFR5cGU6IFwiaW1hZ2VcIiA9IHR5cGU7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNvbnRlbnQgcGFydCB0eXBlOiAke3VuaGFuZGxlZFR5cGV9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5maWx0ZXIoKGMpID0+ICEhYyksXG4gICAgICAgIHN0YXR1czogc3RhdHVzID8/IGZhbGxiYWNrU3RhdHVzLFxuICAgICAgfSBzYXRpc2ZpZXMgVGhyZWFkQXNzaXN0YW50TWVzc2FnZTtcblxuICAgIGNhc2UgXCJ1c2VyXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jb21tb24sXG4gICAgICAgIHJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQubWFwKChwYXJ0KTogVGhyZWFkVXNlckNvbnRlbnRQYXJ0ID0+IHtcbiAgICAgICAgICBjb25zdCB0eXBlID0gcGFydC50eXBlO1xuICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ1aVwiOlxuICAgICAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgIGNvbnN0IHVuaGFuZGxlZFR5cGU6IFwidG9vbC1jYWxsXCIgPSB0eXBlO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY29udGVudCBwYXJ0IHR5cGU6ICR7dW5oYW5kbGVkVHlwZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMgPz8gW10sXG4gICAgICB9IHNhdGlzZmllcyBUaHJlYWRVc2VyTWVzc2FnZTtcblxuICAgIGNhc2UgXCJzeXN0ZW1cIjpcbiAgICAgIGlmIChjb250ZW50Lmxlbmd0aCAhPT0gMSB8fCBjb250ZW50WzBdIS50eXBlICE9PSBcInRleHRcIilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiU3lzdGVtIG1lc3NhZ2VzIG11c3QgaGF2ZSBleGFjdGx5IG9uZSB0ZXh0IGNvbnRlbnQgcGFydC5cIixcbiAgICAgICAgKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY29tbW9uLFxuICAgICAgICByb2xlLFxuICAgICAgICBjb250ZW50OiBjb250ZW50IGFzIFtUZXh0Q29udGVudFBhcnRdLFxuICAgICAgfSBzYXRpc2ZpZXMgVGhyZWFkU3lzdGVtTWVzc2FnZTtcblxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IHVuc3VwcG9ydGVkUm9sZTogbmV2ZXIgPSByb2xlO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG1lc3NhZ2Ugcm9sZTogJHt1bnN1cHBvcnRlZFJvbGV9YCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHsgQWRkVG9vbFJlc3VsdE9wdGlvbnMsIFRocmVhZFN1Z2dlc3Rpb24gfSBmcm9tIFwiLi4vY29yZVwiO1xuXG5pbXBvcnQgeyBBcHBlbmRNZXNzYWdlLCBNb2RlbENvbmZpZ1Byb3ZpZGVyLCBUaHJlYWRNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBFeHRlcm5hbFN0b3JlQWRhcHRlciB9IGZyb20gXCIuL0V4dGVybmFsU3RvcmVBZGFwdGVyXCI7XG5pbXBvcnQge1xuICBnZXRFeHRlcm5hbFN0b3JlTWVzc2FnZSxcbiAgc3ltYm9sSW5uZXJNZXNzYWdlLFxufSBmcm9tIFwiLi9nZXRFeHRlcm5hbFN0b3JlTWVzc2FnZVwiO1xuaW1wb3J0IHsgVGhyZWFkTWVzc2FnZUNvbnZlcnRlciB9IGZyb20gXCIuL1RocmVhZE1lc3NhZ2VDb252ZXJ0ZXJcIjtcbmltcG9ydCB7IGdldEF1dG9TdGF0dXMsIGlzQXV0b1N0YXR1cyB9IGZyb20gXCIuL2F1dG8tc3RhdHVzXCI7XG5pbXBvcnQgeyBmcm9tVGhyZWFkTWVzc2FnZUxpa2UgfSBmcm9tIFwiLi9UaHJlYWRNZXNzYWdlTGlrZVwiO1xuaW1wb3J0IHsgZ2V0VGhyZWFkTWVzc2FnZVRleHQgfSBmcm9tIFwiLi4vLi4vdXRpbHMvZ2V0VGhyZWFkTWVzc2FnZVRleHRcIjtcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWxcIjtcbmltcG9ydCB7XG4gIFJ1bnRpbWVDYXBhYmlsaXRpZXMsXG4gIFRocmVhZFJ1bnRpbWVDb3JlLFxufSBmcm9tIFwiLi4vY29yZS9UaHJlYWRSdW50aW1lQ29yZVwiO1xuaW1wb3J0IHsgQmFzZVRocmVhZFJ1bnRpbWVDb3JlIH0gZnJvbSBcIi4uL2NvcmUvQmFzZVRocmVhZFJ1bnRpbWVDb3JlXCI7XG5cbmNvbnN0IEVNUFRZX0FSUkFZID0gT2JqZWN0LmZyZWV6ZShbXSk7XG5cbmV4cG9ydCBjb25zdCBoYXNVcGNvbWluZ01lc3NhZ2UgPSAoXG4gIGlzUnVubmluZzogYm9vbGVhbixcbiAgbWVzc2FnZXM6IFRocmVhZE1lc3NhZ2VbXSxcbikgPT4ge1xuICByZXR1cm4gaXNSdW5uaW5nICYmIG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdPy5yb2xlICE9PSBcImFzc2lzdGFudFwiO1xufTtcblxuZXhwb3J0IGNsYXNzIEV4dGVybmFsU3RvcmVUaHJlYWRSdW50aW1lQ29yZVxuICBleHRlbmRzIEJhc2VUaHJlYWRSdW50aW1lQ29yZVxuICBpbXBsZW1lbnRzIFRocmVhZFJ1bnRpbWVDb3JlXG57XG4gIHByaXZhdGUgYXNzaXN0YW50T3B0aW1pc3RpY0lkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBwcml2YXRlIF9jYXBhYmlsaXRpZXM6IFJ1bnRpbWVDYXBhYmlsaXRpZXMgPSB7XG4gICAgc3dpdGNoVG9CcmFuY2g6IGZhbHNlLFxuICAgIGVkaXQ6IGZhbHNlLFxuICAgIHJlbG9hZDogZmFsc2UsXG4gICAgY2FuY2VsOiBmYWxzZSxcbiAgICB1bnN0YWJsZV9jb3B5OiBmYWxzZSxcbiAgICBzcGVlY2g6IGZhbHNlLFxuICAgIGF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgICBmZWVkYmFjazogZmFsc2UsXG4gIH07XG5cbiAgcHVibGljIGdldCBjYXBhYmlsaXRpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcGFiaWxpdGllcztcbiAgfVxuXG4gIHB1YmxpYyB0aHJlYWRJZCE6IHN0cmluZztcbiAgcHJpdmF0ZSBfbWVzc2FnZXMhOiBUaHJlYWRNZXNzYWdlW107XG4gIHB1YmxpYyBpc0Rpc2FibGVkITogYm9vbGVhbjtcblxuICBwdWJsaWMgb3ZlcnJpZGUgZ2V0IG1lc3NhZ2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlcztcbiAgfVxuXG4gIHB1YmxpYyBnZXQgYWRhcHRlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLmFkYXB0ZXJzO1xuICB9XG5cbiAgcHVibGljIHN1Z2dlc3Rpb25zOiByZWFkb25seSBUaHJlYWRTdWdnZXN0aW9uW10gPSBbXTtcbiAgcHVibGljIGV4dHJhczogdW5rbm93biA9IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIF9jb252ZXJ0ZXIgPSBuZXcgVGhyZWFkTWVzc2FnZUNvbnZlcnRlcigpO1xuXG4gIHByaXZhdGUgX3N0b3JlITogRXh0ZXJuYWxTdG9yZUFkYXB0ZXI8YW55PjtcblxuICBwdWJsaWMgb3ZlcnJpZGUgYmVnaW5FZGl0KG1lc3NhZ2VJZDogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLnN0b3JlLm9uRWRpdClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJ1bnRpbWUgZG9lcyBub3Qgc3VwcG9ydCBlZGl0aW5nLlwiKTtcblxuICAgIHN1cGVyLmJlZ2luRWRpdChtZXNzYWdlSWQpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29uZmlnUHJvdmlkZXI6IE1vZGVsQ29uZmlnUHJvdmlkZXIsXG4gICAgc3RvcmU6IEV4dGVybmFsU3RvcmVBZGFwdGVyPGFueT4sXG4gICkge1xuICAgIHN1cGVyKGNvbmZpZ1Byb3ZpZGVyKTtcbiAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHN0b3JlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgc3RvcmUoc3RvcmU6IEV4dGVybmFsU3RvcmVBZGFwdGVyPGFueT4pIHtcbiAgICBpZiAodGhpcy5fc3RvcmUgPT09IHN0b3JlKSByZXR1cm47XG5cbiAgICB0aGlzLnRocmVhZElkID0gc3RvcmUudGhyZWFkSWQgPz8gdGhpcy50aHJlYWRJZCA/PyBnZW5lcmF0ZUlkKCk7XG4gICAgY29uc3QgaXNSdW5uaW5nID0gc3RvcmUuaXNSdW5uaW5nID8/IGZhbHNlO1xuICAgIHRoaXMuaXNEaXNhYmxlZCA9IHN0b3JlLmlzRGlzYWJsZWQgPz8gZmFsc2U7XG5cbiAgICBjb25zdCBvbGRTdG9yZSA9IHRoaXMuX3N0b3JlIGFzIEV4dGVybmFsU3RvcmVBZGFwdGVyPGFueT4gfCB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLmV4dHJhcyA9IHN0b3JlLmV4dHJhcztcbiAgICB0aGlzLnN1Z2dlc3Rpb25zID0gc3RvcmUuc3VnZ2VzdGlvbnMgPz8gRU1QVFlfQVJSQVk7XG4gICAgdGhpcy5fY2FwYWJpbGl0aWVzID0ge1xuICAgICAgc3dpdGNoVG9CcmFuY2g6IHRoaXMuX3N0b3JlLnNldE1lc3NhZ2VzICE9PSB1bmRlZmluZWQsXG4gICAgICBlZGl0OiB0aGlzLl9zdG9yZS5vbkVkaXQgIT09IHVuZGVmaW5lZCxcbiAgICAgIHJlbG9hZDogdGhpcy5fc3RvcmUub25SZWxvYWQgIT09IHVuZGVmaW5lZCxcbiAgICAgIGNhbmNlbDogdGhpcy5fc3RvcmUub25DYW5jZWwgIT09IHVuZGVmaW5lZCxcbiAgICAgIHNwZWVjaDogdGhpcy5fc3RvcmUuYWRhcHRlcnM/LnNwZWVjaCAhPT0gdW5kZWZpbmVkLFxuICAgICAgdW5zdGFibGVfY29weTogdGhpcy5fc3RvcmUudW5zdGFibGVfY2FwYWJpbGl0aWVzPy5jb3B5ICE9PSBmYWxzZSwgLy8gZGVmYXVsdCB0cnVlXG4gICAgICBhdHRhY2htZW50czogISF0aGlzLnN0b3JlLmFkYXB0ZXJzPy5hdHRhY2htZW50cyxcbiAgICAgIGZlZWRiYWNrOiAhIXRoaXMuc3RvcmUuYWRhcHRlcnM/LmZlZWRiYWNrLFxuICAgIH07XG5cbiAgICBpZiAob2xkU3RvcmUpIHtcbiAgICAgIC8vIGZsdXNoIHRoZSBjb252ZXJ0ZXIgY2FjaGUgd2hlbiB0aGUgY29udmVydE1lc3NhZ2UgcHJvcCBjaGFuZ2VzXG4gICAgICBpZiAob2xkU3RvcmUuY29udmVydE1lc3NhZ2UgIT09IHN0b3JlLmNvbnZlcnRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuX2NvbnZlcnRlciA9IG5ldyBUaHJlYWRNZXNzYWdlQ29udmVydGVyKCk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBvbGRTdG9yZS5pc1J1bm5pbmcgPT09IHN0b3JlLmlzUnVubmluZyAmJlxuICAgICAgICBvbGRTdG9yZS5tZXNzYWdlcyA9PT0gc3RvcmUubWVzc2FnZXNcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9ub3RpZnlTdWJzY3JpYmVycygpO1xuICAgICAgICAvLyBubyBjb252ZXJzaW9uIHVwZGF0ZVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZXMgPSAhc3RvcmUuY29udmVydE1lc3NhZ2VcbiAgICAgID8gc3RvcmUubWVzc2FnZXNcbiAgICAgIDogdGhpcy5fY29udmVydGVyLmNvbnZlcnRNZXNzYWdlcyhzdG9yZS5tZXNzYWdlcywgKGNhY2hlLCBtLCBpZHgpID0+IHtcbiAgICAgICAgICBpZiAoIXN0b3JlLmNvbnZlcnRNZXNzYWdlKSByZXR1cm4gbTtcblxuICAgICAgICAgIGNvbnN0IGlzTGFzdCA9IGlkeCA9PT0gc3RvcmUubWVzc2FnZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBjb25zdCBhdXRvU3RhdHVzID0gZ2V0QXV0b1N0YXR1cyhpc0xhc3QsIGlzUnVubmluZyk7XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjYWNoZSAmJlxuICAgICAgICAgICAgKGNhY2hlLnJvbGUgIT09IFwiYXNzaXN0YW50XCIgfHxcbiAgICAgICAgICAgICAgIWlzQXV0b1N0YXR1cyhjYWNoZS5zdGF0dXMpIHx8XG4gICAgICAgICAgICAgIGNhY2hlLnN0YXR1cyA9PT0gYXV0b1N0YXR1cylcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gY2FjaGU7XG5cbiAgICAgICAgICBjb25zdCBuZXdNZXNzYWdlID0gZnJvbVRocmVhZE1lc3NhZ2VMaWtlKFxuICAgICAgICAgICAgc3RvcmUuY29udmVydE1lc3NhZ2UobSwgaWR4KSxcbiAgICAgICAgICAgIGlkeC50b1N0cmluZygpLFxuICAgICAgICAgICAgYXV0b1N0YXR1cyxcbiAgICAgICAgICApO1xuICAgICAgICAgIChuZXdNZXNzYWdlIGFzIGFueSlbc3ltYm9sSW5uZXJNZXNzYWdlXSA9IG07XG4gICAgICAgICAgcmV0dXJuIG5ld01lc3NhZ2U7XG4gICAgICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VzW2ldITtcbiAgICAgIGNvbnN0IHBhcmVudCA9IG1lc3NhZ2VzW2kgLSAxXTtcbiAgICAgIHRoaXMucmVwb3NpdG9yeS5hZGRPclVwZGF0ZU1lc3NhZ2UocGFyZW50Py5pZCA/PyBudWxsLCBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hc3Npc3RhbnRPcHRpbWlzdGljSWQpIHtcbiAgICAgIHRoaXMucmVwb3NpdG9yeS5kZWxldGVNZXNzYWdlKHRoaXMuYXNzaXN0YW50T3B0aW1pc3RpY0lkKTtcbiAgICAgIHRoaXMuYXNzaXN0YW50T3B0aW1pc3RpY0lkID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaGFzVXBjb21pbmdNZXNzYWdlKGlzUnVubmluZywgbWVzc2FnZXMpKSB7XG4gICAgICB0aGlzLmFzc2lzdGFudE9wdGltaXN0aWNJZCA9IHRoaXMucmVwb3NpdG9yeS5hcHBlbmRPcHRpbWlzdGljTWVzc2FnZShcbiAgICAgICAgbWVzc2FnZXMuYXQoLTEpPy5pZCA/PyBudWxsLFxuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICBjb250ZW50OiBbXSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5yZXBvc2l0b3J5LnJlc2V0SGVhZChcbiAgICAgIHRoaXMuYXNzaXN0YW50T3B0aW1pc3RpY0lkID8/IG1lc3NhZ2VzLmF0KC0xKT8uaWQgPz8gbnVsbCxcbiAgICApO1xuXG4gICAgdGhpcy5fbWVzc2FnZXMgPSB0aGlzLnJlcG9zaXRvcnkuZ2V0TWVzc2FnZXMoKTtcbiAgICB0aGlzLl9ub3RpZnlTdWJzY3JpYmVycygpO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIHN3aXRjaFRvQnJhbmNoKGJyYW5jaElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3N0b3JlLnNldE1lc3NhZ2VzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUnVudGltZSBkb2VzIG5vdCBzdXBwb3J0IHN3aXRjaGluZyBicmFuY2hlcy5cIik7XG5cbiAgICB0aGlzLnJlcG9zaXRvcnkuc3dpdGNoVG9CcmFuY2goYnJhbmNoSWQpO1xuICAgIHRoaXMudXBkYXRlTWVzc2FnZXModGhpcy5yZXBvc2l0b3J5LmdldE1lc3NhZ2VzKCkpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGFwcGVuZChtZXNzYWdlOiBBcHBlbmRNZXNzYWdlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKG1lc3NhZ2UucGFyZW50SWQgIT09ICh0aGlzLm1lc3NhZ2VzLmF0KC0xKT8uaWQgPz8gbnVsbCkpIHtcbiAgICAgIGlmICghdGhpcy5fc3RvcmUub25FZGl0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdW50aW1lIGRvZXMgbm90IHN1cHBvcnQgZWRpdGluZyBtZXNzYWdlcy5cIik7XG4gICAgICBhd2FpdCB0aGlzLl9zdG9yZS5vbkVkaXQobWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHRoaXMuX3N0b3JlLm9uTmV3KG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzdGFydFJ1bihwYXJlbnRJZDogc3RyaW5nIHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5fc3RvcmUub25SZWxvYWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdW50aW1lIGRvZXMgbm90IHN1cHBvcnQgcmVsb2FkaW5nIG1lc3NhZ2VzLlwiKTtcblxuICAgIGF3YWl0IHRoaXMuX3N0b3JlLm9uUmVsb2FkKHBhcmVudElkKTtcbiAgfVxuXG4gIHB1YmxpYyBjYW5jZWxSdW4oKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9zdG9yZS5vbkNhbmNlbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJ1bnRpbWUgZG9lcyBub3Qgc3VwcG9ydCBjYW5jZWxsaW5nIHJ1bnMuXCIpO1xuXG4gICAgdGhpcy5fc3RvcmUub25DYW5jZWwoKTtcblxuICAgIGlmICh0aGlzLmFzc2lzdGFudE9wdGltaXN0aWNJZCkge1xuICAgICAgdGhpcy5yZXBvc2l0b3J5LmRlbGV0ZU1lc3NhZ2UodGhpcy5hc3Npc3RhbnRPcHRpbWlzdGljSWQpO1xuICAgICAgdGhpcy5hc3Npc3RhbnRPcHRpbWlzdGljSWQgPSBudWxsO1xuICAgIH1cblxuICAgIGxldCBtZXNzYWdlcyA9IHRoaXMucmVwb3NpdG9yeS5nZXRNZXNzYWdlcygpO1xuICAgIGNvbnN0IHByZXZpb3VzTWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChcbiAgICAgIHByZXZpb3VzTWVzc2FnZT8ucm9sZSA9PT0gXCJ1c2VyXCIgJiZcbiAgICAgIHByZXZpb3VzTWVzc2FnZS5pZCA9PT0gbWVzc2FnZXMuYXQoLTEpPy5pZCAvLyBlbnN1cmUgdGhlIHByZXZpb3VzIG1lc3NhZ2UgaXMgYSBsZWFmIG5vZGVcbiAgICApIHtcbiAgICAgIHRoaXMucmVwb3NpdG9yeS5kZWxldGVNZXNzYWdlKHByZXZpb3VzTWVzc2FnZS5pZCk7XG4gICAgICBpZiAoIXRoaXMuY29tcG9zZXIudGV4dC50cmltKCkpIHtcbiAgICAgICAgdGhpcy5jb21wb3Nlci5zZXRUZXh0KGdldFRocmVhZE1lc3NhZ2VUZXh0KHByZXZpb3VzTWVzc2FnZSkpO1xuICAgICAgfVxuXG4gICAgICBtZXNzYWdlcyA9IHRoaXMucmVwb3NpdG9yeS5nZXRNZXNzYWdlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ub3RpZnlTdWJzY3JpYmVycygpO1xuICAgIH1cblxuICAgIC8vIHJlc3luYyBtZXNzYWdlcyAoZm9yIHJlbG9hZGluZywgdG8gcmVzdG9yZSB0aGUgcHJldmlvdXMgYnJhbmNoKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVNZXNzYWdlcyhtZXNzYWdlcyk7XG4gICAgfSwgMCk7XG4gIH1cblxuICBwdWJsaWMgYWRkVG9vbFJlc3VsdChvcHRpb25zOiBBZGRUb29sUmVzdWx0T3B0aW9ucykge1xuICAgIGlmICghdGhpcy5fc3RvcmUub25BZGRUb29sUmVzdWx0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUnVudGltZSBkb2VzIG5vdCBzdXBwb3J0IHRvb2wgcmVzdWx0cy5cIik7XG4gICAgdGhpcy5fc3RvcmUub25BZGRUb29sUmVzdWx0KG9wdGlvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVNZXNzYWdlcyA9IChtZXNzYWdlczogVGhyZWFkTWVzc2FnZVtdKSA9PiB7XG4gICAgdGhpcy5fc3RvcmUuc2V0TWVzc2FnZXM/LihcbiAgICAgIG1lc3NhZ2VzLmZsYXRNYXAoZ2V0RXh0ZXJuYWxTdG9yZU1lc3NhZ2UpLmZpbHRlcigobSkgPT4gbSAhPSBudWxsKSxcbiAgICApO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgQmFzZUFzc2lzdGFudFJ1bnRpbWVDb3JlLCBQcm94eUNvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsXCI7XG5pbXBvcnQgeyBNb2RlbENvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBFeHRlcm5hbFN0b3JlQWRhcHRlciB9IGZyb20gXCIuL0V4dGVybmFsU3RvcmVBZGFwdGVyXCI7XG5pbXBvcnQgeyBFeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZUNvcmUgfSBmcm9tIFwiLi9FeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZUNvcmVcIjtcblxuZXhwb3J0IGNsYXNzIEV4dGVybmFsU3RvcmVSdW50aW1lQ29yZSBleHRlbmRzIEJhc2VBc3Npc3RhbnRSdW50aW1lQ29yZTxFeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZUNvcmU+IHtcbiAgcHJpdmF0ZSByZWFkb25seSBfcHJveHlDb25maWdQcm92aWRlcjtcblxuICBjb25zdHJ1Y3RvcihzdG9yZTogRXh0ZXJuYWxTdG9yZUFkYXB0ZXI8YW55Pikge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IFByb3h5Q29uZmlnUHJvdmlkZXIoKTtcbiAgICBzdXBlcihuZXcgRXh0ZXJuYWxTdG9yZVRocmVhZFJ1bnRpbWVDb3JlKHByb3ZpZGVyLCBzdG9yZSkpO1xuICAgIHRoaXMuX3Byb3h5Q29uZmlnUHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNb2RlbENvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJveHlDb25maWdQcm92aWRlci5nZXRNb2RlbENvbmZpZygpO1xuICB9XG5cbiAgcHVibGljIHJlZ2lzdGVyTW9kZWxDb25maWdQcm92aWRlcihwcm92aWRlcjogTW9kZWxDb25maWdQcm92aWRlcikge1xuICAgIHJldHVybiB0aGlzLl9wcm94eUNvbmZpZ1Byb3ZpZGVyLnJlZ2lzdGVyTW9kZWxDb25maWdQcm92aWRlcihwcm92aWRlcik7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc3dpdGNoVG9OZXdUaHJlYWQoKSB7XG4gICAgaWYgKCF0aGlzLnRocmVhZC5zdG9yZS5vblN3aXRjaFRvTmV3VGhyZWFkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUnVudGltZSBkb2VzIG5vdCBzdXBwb3J0IHN3aXRjaGluZyB0byBuZXcgdGhyZWFkcy5cIik7XG5cbiAgICB0aGlzLnRocmVhZCA9IG5ldyBFeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZUNvcmUoXG4gICAgICB0aGlzLl9wcm94eUNvbmZpZ1Byb3ZpZGVyLFxuICAgICAge1xuICAgICAgICAuLi50aGlzLnRocmVhZC5zdG9yZSxcbiAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgfSxcbiAgICApO1xuICAgIGF3YWl0IHRoaXMudGhyZWFkLnN0b3JlLm9uU3dpdGNoVG9OZXdUaHJlYWQhKCk7XG4gICAgdGhpcy50aHJlYWQuX25vdGlmeUV2ZW50U3Vic2NyaWJlcnMoXCJzd2l0Y2hlZC10b1wiKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzd2l0Y2hUb1RocmVhZCh0aHJlYWRJZDogc3RyaW5nIHwgbnVsbCkge1xuICAgIGlmICh0aHJlYWRJZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKCF0aGlzLnRocmVhZC5zdG9yZS5vblN3aXRjaFRvVGhyZWFkKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdW50aW1lIGRvZXMgbm90IHN1cHBvcnQgc3dpdGNoaW5nIHRocmVhZHMuXCIpO1xuXG4gICAgICB0aGlzLnRocmVhZCA9IG5ldyBFeHRlcm5hbFN0b3JlVGhyZWFkUnVudGltZUNvcmUoXG4gICAgICAgIHRoaXMuX3Byb3h5Q29uZmlnUHJvdmlkZXIsXG4gICAgICAgIHtcbiAgICAgICAgICAuLi50aGlzLnRocmVhZC5zdG9yZSxcbiAgICAgICAgICBtZXNzYWdlczogW10sIC8vIGlnbm9yZSBtZXNzYWdlcyB1bnRpbCByZXJlbmRlclxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMudGhyZWFkLnN0b3JlLm9uU3dpdGNoVG9UaHJlYWQhKHRocmVhZElkKTtcbiAgICAgIHRoaXMudGhyZWFkLl9ub3RpZnlFdmVudFN1YnNjcmliZXJzKFwic3dpdGNoZWQtdG9cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3dpdGNoVG9OZXdUaHJlYWQoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRocmVhZE1lc3NhZ2VDb252ZXJ0ZXIgfSBmcm9tIFwiLi9UaHJlYWRNZXNzYWdlQ29udmVydGVyXCI7XG5pbXBvcnQge1xuICBnZXRFeHRlcm5hbFN0b3JlTWVzc2FnZSxcbiAgc3ltYm9sSW5uZXJNZXNzYWdlLFxufSBmcm9tIFwiLi9nZXRFeHRlcm5hbFN0b3JlTWVzc2FnZVwiO1xuaW1wb3J0IHsgZnJvbVRocmVhZE1lc3NhZ2VMaWtlLCBUaHJlYWRNZXNzYWdlTGlrZSB9IGZyb20gXCIuL1RocmVhZE1lc3NhZ2VMaWtlXCI7XG5pbXBvcnQgeyBnZXRBdXRvU3RhdHVzLCBpc0F1dG9TdGF0dXMgfSBmcm9tIFwiLi9hdXRvLXN0YXR1c1wiO1xuaW1wb3J0IHsgVG9vbENhbGxDb250ZW50UGFydCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG5leHBvcnQgbmFtZXNwYWNlIHVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlciB7XG4gIGV4cG9ydCB0eXBlIE1lc3NhZ2UgPVxuICAgIHwgVGhyZWFkTWVzc2FnZUxpa2VcbiAgICB8IHtcbiAgICAgICAgcm9sZTogXCJ0b29sXCI7XG4gICAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgICAgdG9vbE5hbWU/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgIHJlc3VsdDogYW55O1xuICAgICAgfTtcblxuICBleHBvcnQgdHlwZSBDYWxsYmFjazxUPiA9IChtZXNzYWdlOiBUKSA9PiBNZXNzYWdlIHwgTWVzc2FnZVtdO1xufVxuXG50eXBlIENhbGxiYWNrUmVzdWx0PFQ+ID0ge1xuICBpbnB1dDogVDtcbiAgb3V0cHV0czogdXNlRXh0ZXJuYWxNZXNzYWdlQ29udmVydGVyLk1lc3NhZ2VbXTtcbn07XG5cbnR5cGUgQ2h1bmtSZXN1bHQ8VD4gPSB7XG4gIGlucHV0czogVFtdO1xuICBvdXRwdXRzOiB1c2VFeHRlcm5hbE1lc3NhZ2VDb252ZXJ0ZXIuTWVzc2FnZVtdO1xufTtcblxuY29uc3Qgam9pbkV4dGVybmFsTWVzc2FnZXMgPSAoXG4gIG1lc3NhZ2VzOiB1c2VFeHRlcm5hbE1lc3NhZ2VDb252ZXJ0ZXIuTWVzc2FnZVtdLFxuKTogVGhyZWFkTWVzc2FnZUxpa2UgPT4ge1xuICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlOiBUaHJlYWRNZXNzYWdlTGlrZSAmIHsgY29udGVudDogYW55W10gfSA9IHtcbiAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgIGNvbnRlbnQ6IFtdLFxuICB9O1xuICBmb3IgKGNvbnN0IG91dHB1dCBvZiBtZXNzYWdlcykge1xuICAgIGlmIChvdXRwdXQucm9sZSA9PT0gXCJ0b29sXCIpIHtcbiAgICAgIGNvbnN0IHRvb2xDYWxsSWR4ID0gYXNzaXN0YW50TWVzc2FnZS5jb250ZW50LmZpbmRJbmRleChcbiAgICAgICAgKGMpID0+IGMudHlwZSA9PT0gXCJ0b29sLWNhbGxcIiAmJiBjLnRvb2xDYWxsSWQgPT09IG91dHB1dC50b29sQ2FsbElkLFxuICAgICAgKTtcbiAgICAgIGlmICh0b29sQ2FsbElkeCAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgdG9vbENhbGwgPSBhc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnRbXG4gICAgICAgICAgdG9vbENhbGxJZHhcbiAgICAgICAgXSEgYXMgVG9vbENhbGxDb250ZW50UGFydDtcbiAgICAgICAgaWYgKG91dHB1dC50b29sTmFtZSkge1xuICAgICAgICAgIGlmICh0b29sQ2FsbC50b29sTmFtZSAhPT0gb3V0cHV0LnRvb2xOYW1lKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgVG9vbCBjYWxsIG5hbWUgJHtvdXRwdXQudG9vbENhbGxJZH0gJHtvdXRwdXQudG9vbE5hbWV9IGRvZXMgbm90IG1hdGNoIGV4aXN0aW5nIHRvb2wgY2FsbCAke3Rvb2xDYWxsLnRvb2xOYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lzdGFudE1lc3NhZ2UuY29udGVudFt0b29sQ2FsbElkeF0gPSB7XG4gICAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgICAgcmVzdWx0OiBvdXRwdXQucmVzdWx0LFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBUb29sIGNhbGwgJHtvdXRwdXQudG9vbENhbGxJZH0gJHtvdXRwdXQudG9vbE5hbWV9IG5vdCBmb3VuZCBpbiBhc3Npc3RhbnQgbWVzc2FnZWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJvbGUgPSBvdXRwdXQucm9sZTtcbiAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlIFwic3lzdGVtXCI6XG4gICAgICAgIGNhc2UgXCJ1c2VyXCI6XG4gICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgY2FzZSBcImFzc2lzdGFudFwiOlxuICAgICAgICAgIGlmIChhc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBhc3Npc3RhbnRNZXNzYWdlLmlkID0gb3V0cHV0LmlkO1xuICAgICAgICAgICAgYXNzaXN0YW50TWVzc2FnZS5jcmVhdGVkQXQgPz89IG91dHB1dC5jcmVhdGVkQXQ7XG4gICAgICAgICAgICBhc3Npc3RhbnRNZXNzYWdlLnN0YXR1cyA/Pz0gb3V0cHV0LnN0YXR1cztcbiAgICAgICAgICAgIC8vIFRPRE8ga2VlcCB0aGlzIGluIHN5bmNcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaXN0YW50TWVzc2FnZS5jb250ZW50LnB1c2goLi4ub3V0cHV0LmNvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgdW5zdXBwb3J0ZWRSb2xlOiBuZXZlciA9IHJvbGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG1lc3NhZ2Ugcm9sZTogJHt1bnN1cHBvcnRlZFJvbGV9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFzc2lzdGFudE1lc3NhZ2U7XG59O1xuXG5jb25zdCBjaHVua0V4dGVybmFsTWVzc2FnZXMgPSA8VCw+KGNhbGxiYWNrUmVzdWx0czogQ2FsbGJhY2tSZXN1bHQ8VD5bXSkgPT4ge1xuICBjb25zdCByZXN1bHRzOiBDaHVua1Jlc3VsdDxUPltdID0gW107XG4gIGxldCBpc0Fzc2lzdGFudCA9IGZhbHNlO1xuICBsZXQgaW5wdXRzOiBUW10gPSBbXTtcbiAgbGV0IG91dHB1dHM6IHVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlci5NZXNzYWdlW10gPSBbXTtcblxuICBjb25zdCBmbHVzaCA9ICgpID0+IHtcbiAgICBpZiAob3V0cHV0cy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIGlucHV0cyxcbiAgICAgICAgb3V0cHV0cyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpbnB1dHMgPSBbXTtcbiAgICBvdXRwdXRzID0gW107XG4gIH07XG5cbiAgZm9yIChjb25zdCBjYWxsYmFja1Jlc3VsdCBvZiBjYWxsYmFja1Jlc3VsdHMpIHtcbiAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBjYWxsYmFja1Jlc3VsdC5vdXRwdXRzKSB7XG4gICAgICBpZiAoIWlzQXNzaXN0YW50IHx8IG91dHB1dC5yb2xlID09PSBcInVzZXJcIiB8fCBvdXRwdXQucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICBmbHVzaCgpO1xuICAgICAgfVxuICAgICAgaXNBc3Npc3RhbnQgPSBvdXRwdXQucm9sZSA9PT0gXCJhc3Npc3RhbnRcIiB8fCBvdXRwdXQucm9sZSA9PT0gXCJ0b29sXCI7XG5cbiAgICAgIGlmIChpbnB1dHMuYXQoLTEpICE9PSBjYWxsYmFja1Jlc3VsdC5pbnB1dCkge1xuICAgICAgICBpbnB1dHMucHVzaChjYWxsYmFja1Jlc3VsdC5pbnB1dCk7XG4gICAgICB9XG4gICAgICBvdXRwdXRzLnB1c2gob3V0cHV0KTtcbiAgICB9XG4gIH1cbiAgZmx1c2goKTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlRXh0ZXJuYWxNZXNzYWdlQ29udmVydGVyID0gPFQgZXh0ZW5kcyBXZWFrS2V5Pih7XG4gIGNhbGxiYWNrLFxuICBtZXNzYWdlcyxcbiAgaXNSdW5uaW5nLFxufToge1xuICBjYWxsYmFjazogdXNlRXh0ZXJuYWxNZXNzYWdlQ29udmVydGVyLkNhbGxiYWNrPFQ+O1xuICBtZXNzYWdlczogVFtdO1xuICBpc1J1bm5pbmc6IGJvb2xlYW47XG59KSA9PiB7XG4gIGNvbnN0IHN0YXRlID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgY2FsbGJhY2ssXG4gICAgICBjYWxsYmFja0NhY2hlOiBuZXcgV2Vha01hcDxULCBDYWxsYmFja1Jlc3VsdDxUPj4oKSxcbiAgICAgIGNodW5rQ2FjaGU6IG5ldyBXZWFrTWFwPFxuICAgICAgICB1c2VFeHRlcm5hbE1lc3NhZ2VDb252ZXJ0ZXIuTWVzc2FnZSxcbiAgICAgICAgQ2h1bmtSZXN1bHQ8VD5cbiAgICAgID4oKSxcbiAgICAgIGNvbnZlcnRlckNhY2hlOiBuZXcgVGhyZWFkTWVzc2FnZUNvbnZlcnRlcigpLFxuICAgIH0pLFxuICAgIFtjYWxsYmFja10sXG4gICk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrUmVzdWx0czogQ2FsbGJhY2tSZXN1bHQ8VD5bXSA9IFtdO1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgICAgbGV0IHJlc3VsdCA9IHN0YXRlLmNhbGxiYWNrQ2FjaGUuZ2V0KG1lc3NhZ2UpO1xuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gc3RhdGUuY2FsbGJhY2sobWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IG91dHB1dHMgPSBBcnJheS5pc0FycmF5KG91dHB1dCkgPyBvdXRwdXQgOiBbb3V0cHV0XTtcbiAgICAgICAgcmVzdWx0ID0geyBpbnB1dDogbWVzc2FnZSwgb3V0cHV0cyB9O1xuICAgICAgICBzdGF0ZS5jYWxsYmFja0NhY2hlLnNldChtZXNzYWdlLCByZXN1bHQpO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2tSZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICB9XG5cbiAgICBjb25zdCBjaHVua3MgPSBjaHVua0V4dGVybmFsTWVzc2FnZXMoY2FsbGJhY2tSZXN1bHRzKS5tYXAoKG0pID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IG0ub3V0cHV0c1swXTtcbiAgICAgIGlmICgha2V5KSByZXR1cm4gbTtcblxuICAgICAgY29uc3QgY2FjaGVkID0gc3RhdGUuY2h1bmtDYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmIChjYWNoZWQgJiYgc2hhbGxvd0FycmF5RXF1YWwoY2FjaGVkLm91dHB1dHMsIG0ub3V0cHV0cykpIHJldHVybiBjYWNoZWQ7XG4gICAgICBzdGF0ZS5jaHVua0NhY2hlLnNldChrZXksIG0pO1xuICAgICAgcmV0dXJuIG07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RhdGUuY29udmVydGVyQ2FjaGUuY29udmVydE1lc3NhZ2VzKFxuICAgICAgY2h1bmtzLFxuICAgICAgKGNhY2hlLCBtZXNzYWdlLCBpZHgpID0+IHtcbiAgICAgICAgY29uc3QgaXNMYXN0ID0gaWR4ID09PSBjaHVua3MubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgYXV0b1N0YXR1cyA9IGdldEF1dG9TdGF0dXMoaXNMYXN0LCBpc1J1bm5pbmcpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYWNoZSAmJlxuICAgICAgICAgIChjYWNoZS5yb2xlICE9PSBcImFzc2lzdGFudFwiIHx8XG4gICAgICAgICAgICAhaXNBdXRvU3RhdHVzKGNhY2hlLnN0YXR1cykgfHxcbiAgICAgICAgICAgIGNhY2hlLnN0YXR1cyA9PT0gYXV0b1N0YXR1cylcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRzID0gZ2V0RXh0ZXJuYWxTdG9yZU1lc3NhZ2UoY2FjaGUpIGFzIFRbXTtcbiAgICAgICAgICBpZiAoc2hhbGxvd0FycmF5RXF1YWwoaW5wdXRzLCBtZXNzYWdlLmlucHV0cykpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdNZXNzYWdlID0gZnJvbVRocmVhZE1lc3NhZ2VMaWtlKFxuICAgICAgICAgIGpvaW5FeHRlcm5hbE1lc3NhZ2VzKG1lc3NhZ2Uub3V0cHV0cyksXG4gICAgICAgICAgaWR4LnRvU3RyaW5nKCksXG4gICAgICAgICAgYXV0b1N0YXR1cyxcbiAgICAgICAgKTtcbiAgICAgICAgKG5ld01lc3NhZ2UgYXMgYW55KVtzeW1ib2xJbm5lck1lc3NhZ2VdID0gbWVzc2FnZS5pbnB1dHM7XG4gICAgICAgIHJldHVybiBuZXdNZXNzYWdlO1xuICAgICAgfSxcbiAgICApO1xuICB9LCBbc3RhdGUsIG1lc3NhZ2VzLCBpc1J1bm5pbmddKTtcbn07XG5cbmNvbnN0IHNoYWxsb3dBcnJheUVxdWFsID0gKGE6IHVua25vd25bXSwgYjogdW5rbm93bltdKSA9PiB7XG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG4iLCJpbXBvcnQgeyBMb2NhbFJ1bnRpbWVPcHRpb25zLCB1c2VMb2NhbFJ1bnRpbWUgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBEYW5nZXJvdXNJbkJyb3dzZXJBZGFwdGVyLFxuICBEYW5nZXJvdXNJbkJyb3dzZXJBZGFwdGVyT3B0aW9ucyxcbn0gZnJvbSBcIi4vRGFuZ2Vyb3VzSW5Ccm93c2VyQWRhcHRlclwiO1xuaW1wb3J0IHsgc3BsaXRMb2NhbFJ1bnRpbWVPcHRpb25zIH0gZnJvbSBcIi4uL2xvY2FsL0xvY2FsUnVudGltZU9wdGlvbnNcIjtcblxuZXhwb3J0IHR5cGUgRGFuZ2Vyb3VzSW5Ccm93c2VyUnVudGltZU9wdGlvbnMgPVxuICBEYW5nZXJvdXNJbkJyb3dzZXJBZGFwdGVyT3B0aW9ucyAmIExvY2FsUnVudGltZU9wdGlvbnM7XG5cbmV4cG9ydCBjb25zdCB1c2VEYW5nZXJvdXNJbkJyb3dzZXJSdW50aW1lID0gKFxuICBvcHRpb25zOiBEYW5nZXJvdXNJbkJyb3dzZXJSdW50aW1lT3B0aW9ucyxcbikgPT4ge1xuICBjb25zdCB7IGxvY2FsUnVudGltZU9wdGlvbnMsIG90aGVyT3B0aW9ucyB9ID1cbiAgICBzcGxpdExvY2FsUnVudGltZU9wdGlvbnMob3B0aW9ucyk7XG4gIGNvbnN0IFthZGFwdGVyXSA9IHVzZVN0YXRlKCgpID0+IG5ldyBEYW5nZXJvdXNJbkJyb3dzZXJBZGFwdGVyKG90aGVyT3B0aW9ucykpO1xuICByZXR1cm4gdXNlTG9jYWxSdW50aW1lKGFkYXB0ZXIsIGxvY2FsUnVudGltZU9wdGlvbnMpO1xufTtcbiIsImltcG9ydCB7IENoYXRNb2RlbEFkYXB0ZXIsIENoYXRNb2RlbFJ1bk9wdGlvbnMgfSBmcm9tIFwiLi4vbG9jYWxcIjtcbmltcG9ydCB7IHRvQ29yZU1lc3NhZ2VzIH0gZnJvbSBcIi4uL2VkZ2UvY29udmVydGVycy90b0NvcmVNZXNzYWdlc1wiO1xuaW1wb3J0IHsgdG9MYW5ndWFnZU1vZGVsVG9vbHMgfSBmcm9tIFwiLi4vZWRnZS9jb252ZXJ0ZXJzL3RvTGFuZ3VhZ2VNb2RlbFRvb2xzXCI7XG5pbXBvcnQgeyBFZGdlUnVudGltZVJlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uL2VkZ2UvRWRnZVJ1bnRpbWVSZXF1ZXN0T3B0aW9uc1wiO1xuaW1wb3J0IHsgcnVuUmVzdWx0U3RyZWFtIH0gZnJvbSBcIi4uL2VkZ2Uvc3RyZWFtcy9ydW5SZXN1bHRTdHJlYW1cIjtcbmltcG9ydCB7IHRvb2xSZXN1bHRTdHJlYW0gfSBmcm9tIFwiLi4vZWRnZS9zdHJlYW1zL3Rvb2xSZXN1bHRTdHJlYW1cIjtcbmltcG9ydCB7IGFzQXN5bmNJdGVyYWJsZSB9IGZyb20gXCIuLi9lZGdlL0VkZ2VDaGF0QWRhcHRlclwiO1xuaW1wb3J0IHtcbiAgQ3JlYXRlRWRnZVJ1bnRpbWVBUElPcHRpb25zLFxuICBnZXRFZGdlUnVudGltZVN0cmVhbSxcbn0gZnJvbSBcIi4uL2VkZ2UvY3JlYXRlRWRnZVJ1bnRpbWVBUElcIjtcblxuZXhwb3J0IHR5cGUgRGFuZ2Vyb3VzSW5Ccm93c2VyQWRhcHRlck9wdGlvbnMgPSBDcmVhdGVFZGdlUnVudGltZUFQSU9wdGlvbnM7XG5cbmV4cG9ydCBjbGFzcyBEYW5nZXJvdXNJbkJyb3dzZXJBZGFwdGVyIGltcGxlbWVudHMgQ2hhdE1vZGVsQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgb3B0aW9uczogRGFuZ2Vyb3VzSW5Ccm93c2VyQWRhcHRlck9wdGlvbnMpIHt9XG5cbiAgYXN5bmMgKnJ1bih7IG1lc3NhZ2VzLCBhYm9ydFNpZ25hbCwgY29uZmlnIH06IENoYXRNb2RlbFJ1bk9wdGlvbnMpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRFZGdlUnVudGltZVN0cmVhbSh7XG4gICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICAgIHJlcXVlc3REYXRhOiB7XG4gICAgICAgIHN5c3RlbTogY29uZmlnLnN5c3RlbSxcbiAgICAgICAgbWVzc2FnZXM6IHRvQ29yZU1lc3NhZ2VzKG1lc3NhZ2VzKSxcbiAgICAgICAgdG9vbHM6IGNvbmZpZy50b29scyA/IHRvTGFuZ3VhZ2VNb2RlbFRvb2xzKGNvbmZpZy50b29scykgOiBbXSxcbiAgICAgICAgLi4uY29uZmlnLmNhbGxTZXR0aW5ncyxcbiAgICAgICAgLi4uY29uZmlnLmNvbmZpZyxcbiAgICAgIH0gc2F0aXNmaWVzIEVkZ2VSdW50aW1lUmVxdWVzdE9wdGlvbnMsXG4gICAgfSk7XG5cbiAgICBjb25zdCBzdHJlYW0gPSByZXNcbiAgICAgIC5waXBlVGhyb3VnaCh0b29sUmVzdWx0U3RyZWFtKGNvbmZpZy50b29scywgYWJvcnRTaWduYWwpKVxuICAgICAgLnBpcGVUaHJvdWdoKHJ1blJlc3VsdFN0cmVhbSgpKTtcblxuICAgIGZvciBhd2FpdCAoY29uc3QgdXBkYXRlIG9mIGFzQXN5bmNJdGVyYWJsZShzdHJlYW0pKSB7XG4gICAgICB5aWVsZCB1cGRhdGU7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBTcGVlY2hTeW50aGVzaXNBZGFwdGVyIH0gZnJvbSBcIi4vU3BlZWNoQWRhcHRlclR5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBXZWJTcGVlY2hTeW50aGVzaXNBZGFwdGVyIGltcGxlbWVudHMgU3BlZWNoU3ludGhlc2lzQWRhcHRlciB7XG4gIHNwZWFrKHRleHQ6IHN0cmluZyk6IFNwZWVjaFN5bnRoZXNpc0FkYXB0ZXIuVXR0ZXJhbmNlIHtcbiAgICBjb25zdCB1dHRlcmFuY2UgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpO1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU2V0PCgpID0+IHZvaWQ+KCk7XG4gICAgY29uc3QgaGFuZGxlRW5kID0gKFxuICAgICAgcmVhc29uOiBcImZpbmlzaGVkXCIgfCBcImVycm9yXCIgfCBcImNhbmNlbGxlZFwiLFxuICAgICAgZXJyb3I/OiB1bmtub3duLFxuICAgICkgPT4ge1xuICAgICAgaWYgKHJlcy5zdGF0dXMudHlwZSA9PT0gXCJlbmRlZFwiKSByZXR1cm47XG5cbiAgICAgIHJlcy5zdGF0dXMgPSB7IHR5cGU6IFwiZW5kZWRcIiwgcmVhc29uLCBlcnJvciB9O1xuICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaCgoaGFuZGxlcikgPT4gaGFuZGxlcigpKTtcbiAgICB9O1xuXG4gICAgdXR0ZXJhbmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRcIiwgKCkgPT4gaGFuZGxlRW5kKFwiZmluaXNoZWRcIikpO1xuICAgIHV0dGVyYW5jZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGUpID0+IGhhbmRsZUVuZChcImVycm9yXCIsIGUuZXJyb3IpKTtcblxuICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuc3BlYWsodXR0ZXJhbmNlKTtcblxuICAgIGNvbnN0IHJlczogU3BlZWNoU3ludGhlc2lzQWRhcHRlci5VdHRlcmFuY2UgPSB7XG4gICAgICBzdGF0dXM6IHsgdHlwZTogXCJydW5uaW5nXCIgfSxcbiAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpO1xuICAgICAgICBoYW5kbGVFbmQoXCJjYW5jZWxsZWRcIik7XG4gICAgICB9LFxuICAgICAgc3Vic2NyaWJlOiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMudHlwZSA9PT0gXCJlbmRlZFwiKSB7XG4gICAgICAgICAgbGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2FuY2VsbGVkKSBjYWxsYmFjaygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3Vic2NyaWJlcnMuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc3Vic2NyaWJlcnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgUGVuZGluZ0F0dGFjaG1lbnQsXG4gIENvbXBsZXRlQXR0YWNobWVudCxcbn0gZnJvbSBcIi4uLy4uL3R5cGVzL0F0dGFjaG1lbnRUeXBlc1wiO1xuaW1wb3J0IHsgQXR0YWNobWVudEFkYXB0ZXIgfSBmcm9tIFwiLi9BdHRhY2htZW50QWRhcHRlclwiO1xuXG5leHBvcnQgY2xhc3MgU2ltcGxlSW1hZ2VBdHRhY2htZW50QWRhcHRlciBpbXBsZW1lbnRzIEF0dGFjaG1lbnRBZGFwdGVyIHtcbiAgcHVibGljIGFjY2VwdCA9IFwiaW1hZ2UvKlwiO1xuXG4gIHB1YmxpYyBhc3luYyBhZGQoc3RhdGU6IHsgZmlsZTogRmlsZSB9KTogUHJvbWlzZTxQZW5kaW5nQXR0YWNobWVudD4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogc3RhdGUuZmlsZS5uYW1lLFxuICAgICAgdHlwZTogXCJpbWFnZVwiLFxuICAgICAgbmFtZTogc3RhdGUuZmlsZS5uYW1lLFxuICAgICAgY29udGVudFR5cGU6IHN0YXRlLmZpbGUudHlwZSxcbiAgICAgIGZpbGU6IHN0YXRlLmZpbGUsXG4gICAgICBzdGF0dXM6IHsgdHlwZTogXCJyZXF1aXJlcy1hY3Rpb25cIiwgcmVhc29uOiBcImNvbXBvc2VyLXNlbmRcIiB9LFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2VuZChcbiAgICBhdHRhY2htZW50OiBQZW5kaW5nQXR0YWNobWVudCxcbiAgKTogUHJvbWlzZTxDb21wbGV0ZUF0dGFjaG1lbnQ+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uYXR0YWNobWVudCxcbiAgICAgIHN0YXR1czogeyB0eXBlOiBcImNvbXBsZXRlXCIgfSxcbiAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiaW1hZ2VcIixcbiAgICAgICAgICBpbWFnZTogYXdhaXQgZ2V0RmlsZURhdGFVUkwoYXR0YWNobWVudC5maWxlKSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyByZW1vdmUoKSB7XG4gICAgLy8gbm9vcFxuICB9XG59XG5cbmNvbnN0IGdldEZpbGVEYXRhVVJMID0gKGZpbGU6IEZpbGUpID0+XG4gIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0IGFzIHN0cmluZyk7XG4gICAgcmVhZGVyLm9uZXJyb3IgPSAoZXJyb3IpID0+IHJlamVjdChlcnJvcik7XG5cbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgfSk7XG4iLCJpbXBvcnQge1xuICBDb21wbGV0ZUF0dGFjaG1lbnQsXG4gIFBlbmRpbmdBdHRhY2htZW50LFxufSBmcm9tIFwiLi4vLi4vdHlwZXMvQXR0YWNobWVudFR5cGVzXCI7XG5pbXBvcnQgeyBBdHRhY2htZW50QWRhcHRlciB9IGZyb20gXCIuL0F0dGFjaG1lbnRBZGFwdGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVUZXh0QXR0YWNobWVudEFkYXB0ZXIgaW1wbGVtZW50cyBBdHRhY2htZW50QWRhcHRlciB7XG4gIHB1YmxpYyBhY2NlcHQgPVxuICAgIFwidGV4dC9wbGFpbix0ZXh0L2h0bWwsdGV4dC9tYXJrZG93bix0ZXh0L2Nzdix0ZXh0L3htbCx0ZXh0L2pzb24sdGV4dC9jc3NcIjtcblxuICBwdWJsaWMgYXN5bmMgYWRkKHN0YXRlOiB7IGZpbGU6IEZpbGUgfSk6IFByb21pc2U8UGVuZGluZ0F0dGFjaG1lbnQ+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHN0YXRlLmZpbGUubmFtZSxcbiAgICAgIHR5cGU6IFwiZG9jdW1lbnRcIixcbiAgICAgIG5hbWU6IHN0YXRlLmZpbGUubmFtZSxcbiAgICAgIGNvbnRlbnRUeXBlOiBzdGF0ZS5maWxlLnR5cGUsXG4gICAgICBmaWxlOiBzdGF0ZS5maWxlLFxuICAgICAgc3RhdHVzOiB7IHR5cGU6IFwicmVxdWlyZXMtYWN0aW9uXCIsIHJlYXNvbjogXCJjb21wb3Nlci1zZW5kXCIgfSxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNlbmQoXG4gICAgYXR0YWNobWVudDogUGVuZGluZ0F0dGFjaG1lbnQsXG4gICk6IFByb21pc2U8Q29tcGxldGVBdHRhY2htZW50PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICBzdGF0dXM6IHsgdHlwZTogXCJjb21wbGV0ZVwiIH0sXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICB0ZXh0OiBgPGF0dGFjaG1lbnQgbmFtZT0ke2F0dGFjaG1lbnQubmFtZX0+XFxuJHthd2FpdCBnZXRGaWxlVGV4dChhdHRhY2htZW50LmZpbGUpfVxcbjwvYXR0YWNobWVudD5gLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHJlbW92ZSgpIHtcbiAgICAvLyBub29wXG4gIH1cbn1cblxuY29uc3QgZ2V0RmlsZVRleHQgPSAoZmlsZTogRmlsZSkgPT5cbiAgbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nKTtcbiAgICByZWFkZXIub25lcnJvciA9IChlcnJvcikgPT4gcmVqZWN0KGVycm9yKTtcblxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICB9KTtcbiIsImltcG9ydCB7IEF0dGFjaG1lbnQsIFBlbmRpbmdBdHRhY2htZW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzL0F0dGFjaG1lbnRUeXBlc1wiO1xuaW1wb3J0IHsgQXR0YWNobWVudEFkYXB0ZXIgfSBmcm9tIFwiLi9BdHRhY2htZW50QWRhcHRlclwiO1xuXG5mdW5jdGlvbiBmaWxlTWF0Y2hlc0FjY2VwdChcbiAgZmlsZTogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9LFxuICBhY2NlcHRTdHJpbmc6IHN0cmluZyxcbikge1xuICAvLyBDaGVjayBpZiB0aGUgYWNjZXB0IHN0cmluZyBpcyBcIipcIiwgd2hpY2ggYWxsb3dzIGFueSBmaWxlXG4gIGlmIChhY2NlcHRTdHJpbmcgPT09IFwiKlwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBTcGxpdCB0aGUgYWNjZXB0IHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIGFsbG93ZWQgdHlwZXNcbiAgY29uc3QgYWxsb3dlZFR5cGVzID0gYWNjZXB0U3RyaW5nXG4gICAgLnNwbGl0KFwiLFwiKVxuICAgIC5tYXAoKHR5cGUpID0+IHR5cGUudHJpbSgpLnRvTG93ZXJDYXNlKCkpO1xuXG4gIC8vIEdldCB0aGUgZmlsZSdzIGV4dGVuc2lvbiBhbmQgTUlNRSB0eXBlXG4gIGNvbnN0IGZpbGVFeHRlbnNpb24gPSBcIi5cIiArIGZpbGUubmFtZS5zcGxpdChcIi5cIikucG9wKCkhLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGZpbGVNaW1lVHlwZSA9IGZpbGUudHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gIGZvciAoY29uc3QgdHlwZSBvZiBhbGxvd2VkVHlwZXMpIHtcbiAgICAvLyBDaGVjayBmb3IgZmlsZSBleHRlbnNpb24gbWF0Y2hcbiAgICBpZiAodHlwZS5zdGFydHNXaXRoKFwiLlwiKSAmJiB0eXBlID09PSBmaWxlRXh0ZW5zaW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgZXhhY3QgTUlNRSB0eXBlIG1hdGNoXG4gICAgaWYgKHR5cGUuaW5jbHVkZXMoXCIvXCIpICYmIHR5cGUgPT09IGZpbGVNaW1lVHlwZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09IFwiaW1hZ2UvKlwiIHx8IHR5cGUgPT09IFwidmlkZW8vKlwiIHx8IHR5cGUgPT09IFwiYXVkaW8vKlwiKSB7XG4gICAgICAvLyBDaGVjayBmb3Igd2lsZGNhcmQgTUlNRSB0eXBlIG1hdGNoXG4gICAgICBpZiAodHlwZS5lbmRzV2l0aChcIi8qXCIpKSB7XG4gICAgICAgIGNvbnN0IGdlbmVyYWxUeXBlID0gdHlwZS5zcGxpdChcIi9cIilbMF0hO1xuICAgICAgICBpZiAoZmlsZU1pbWVUeXBlLnN0YXJ0c1dpdGgoZ2VuZXJhbFR5cGUgKyBcIi9cIikpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvc2l0ZUF0dGFjaG1lbnRBZGFwdGVyIGltcGxlbWVudHMgQXR0YWNobWVudEFkYXB0ZXIge1xuICBwcml2YXRlIF9hZGFwdGVyczogQXR0YWNobWVudEFkYXB0ZXJbXTtcblxuICBwdWJsaWMgYWNjZXB0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYWRhcHRlcnM6IEF0dGFjaG1lbnRBZGFwdGVyW10pIHtcbiAgICB0aGlzLl9hZGFwdGVycyA9IGFkYXB0ZXJzO1xuXG4gICAgY29uc3Qgd2lsZGNhcmRJZHggPSBhZGFwdGVycy5maW5kSW5kZXgoKGEpID0+IGEuYWNjZXB0ID09PSBcIipcIik7XG4gICAgaWYgKHdpbGRjYXJkSWR4ICE9PSAtMSkge1xuICAgICAgaWYgKHdpbGRjYXJkSWR4ICE9PSBhZGFwdGVycy5sZW5ndGggLSAxKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJBIHdpbGRjYXJkIGFkYXB0ZXIgKGhhbmRsaW5nIGFsbCBmaWxlcykgY2FuIG9ubHkgYmUgc3BlY2lmaWVkIGFzIHRoZSBsYXN0IGFkYXB0ZXIuXCIsXG4gICAgICAgICk7XG5cbiAgICAgIHRoaXMuYWNjZXB0ID0gXCIqXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWNjZXB0ID0gYWRhcHRlcnMubWFwKChhKSA9PiBhLmFjY2VwdCkuam9pbihcIixcIik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFzeW5jIGFkZChzdGF0ZTogeyBmaWxlOiBGaWxlIH0pIHtcbiAgICBmb3IgKGNvbnN0IGFkYXB0ZXIgb2YgdGhpcy5fYWRhcHRlcnMpIHtcbiAgICAgIGlmIChmaWxlTWF0Y2hlc0FjY2VwdChzdGF0ZS5maWxlLCBhZGFwdGVyLmFjY2VwdCkpIHtcbiAgICAgICAgcmV0dXJuIGFkYXB0ZXIuYWRkKHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gbWF0Y2hpbmcgYWRhcHRlciBmb3VuZCBmb3IgZmlsZVwiKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzZW5kKGF0dGFjaG1lbnQ6IFBlbmRpbmdBdHRhY2htZW50KSB7XG4gICAgY29uc3QgYWRhcHRlcnMgPSB0aGlzLl9hZGFwdGVycy5zbGljZSgpO1xuICAgIGZvciAoY29uc3QgYWRhcHRlciBvZiBhZGFwdGVycykge1xuICAgICAgaWYgKGZpbGVNYXRjaGVzQWNjZXB0KGF0dGFjaG1lbnQuZmlsZSwgYWRhcHRlci5hY2NlcHQpKSB7XG4gICAgICAgIHJldHVybiBhZGFwdGVyLnNlbmQoYXR0YWNobWVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG1hdGNoaW5nIGFkYXB0ZXIgZm91bmQgZm9yIGF0dGFjaG1lbnRcIik7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVtb3ZlKGF0dGFjaG1lbnQ6IEF0dGFjaG1lbnQpIHtcbiAgICBjb25zdCBhZGFwdGVycyA9IHRoaXMuX2FkYXB0ZXJzLnNsaWNlKCk7XG4gICAgZm9yIChjb25zdCBhZGFwdGVyIG9mIGFkYXB0ZXJzKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGZpbGVNYXRjaGVzQWNjZXB0KFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IGF0dGFjaG1lbnQubmFtZSxcbiAgICAgICAgICAgIHR5cGU6IGF0dGFjaG1lbnQuY29udGVudFR5cGUgPz8gXCJ1bmtub3duL3Vua25vd25cIiwgLy8gVE9ETyByZW1vdmUgYWZ0ZXIgMC42LjBcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFkYXB0ZXIuYWNjZXB0LFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGFkYXB0ZXIucmVtb3ZlKGF0dGFjaG1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBtYXRjaGluZyBhZGFwdGVyIGZvdW5kIGZvciBhdHRhY2htZW50XCIpO1xuICB9XG59XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHtcbiAgQ29tcG9uZW50VHlwZSxcbiAgRkMsXG4gIFByb3BzV2l0aENoaWxkcmVuLFxuICBSZWFjdE5vZGUsXG4gIGNyZWF0ZUNvbnRleHQsXG4gIHVzZUNvbnRleHQsXG59IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyBBc3Npc3RhbnRSdW50aW1lIH0gZnJvbSBcIi4uL2FwaS9Bc3Npc3RhbnRSdW50aW1lXCI7XG5pbXBvcnQgeyBBdmF0YXJQcm9wcyB9IGZyb20gXCIuL2Jhc2UvYXZhdGFyXCI7XG5pbXBvcnQgeyBUZXh0Q29udGVudFBhcnRDb21wb25lbnQsIFRvb2xDYWxsQ29udGVudFBhcnRQcm9wcyB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgQXNzaXN0YW50UnVudGltZVByb3ZpZGVyIH0gZnJvbSBcIi4uL2NvbnRleHRcIjtcbmltcG9ydCB7IEFzc2lzdGFudFRvb2xVSSB9IGZyb20gXCIuLi9tb2RlbC1jb25maWdcIjtcbmltcG9ydCB7IHVzZUFzc2lzdGFudFJ1bnRpbWUgfSBmcm9tIFwiLi4vY29udGV4dC9yZWFjdC9Bc3Npc3RhbnRDb250ZXh0XCI7XG5cbmV4cG9ydCB0eXBlIFN1Z2dlc3Rpb25Db25maWcgPSB7XG4gIHRleHQ/OiBSZWFjdE5vZGUgfCB1bmRlZmluZWQ7XG4gIHByb21wdDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgVGhyZWFkV2VsY29tZUNvbmZpZyA9IHtcbiAgbWVzc2FnZT86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIHN1Z2dlc3Rpb25zPzogU3VnZ2VzdGlvbkNvbmZpZ1tdIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgVXNlck1lc3NhZ2VDb25maWcgPSB7XG4gIGFsbG93RWRpdD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBBc3Npc3RhbnRNZXNzYWdlQ29uZmlnID0ge1xuICBhbGxvd1JlbG9hZD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGFsbG93Q29weT86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGFsbG93U3BlYWs/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBhbGxvd0ZlZWRiYWNrUG9zaXRpdmU/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBhbGxvd0ZlZWRiYWNrTmVnYXRpdmU/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBjb21wb25lbnRzPzpcbiAgICB8IHtcbiAgICAgICAgVGV4dD86IFRleHRDb250ZW50UGFydENvbXBvbmVudCB8IHVuZGVmaW5lZDtcbiAgICAgICAgVG9vbEZhbGxiYWNrPzogQ29tcG9uZW50VHlwZTxUb29sQ2FsbENvbnRlbnRQYXJ0UHJvcHM+IHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgQnJhbmNoUGlja2VyQ29uZmlnID0ge1xuICBhbGxvd0JyYW5jaFBpY2tlcj86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBDb21wb3NlckNvbmZpZyA9IHtcbiAgYWxsb3dBdHRhY2htZW50cz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBTdHJpbmdzQ29uZmlnID0ge1xuICBhc3Npc3RhbnRNb2RhbD86IHtcbiAgICBvcGVuOiB7XG4gICAgICBidXR0b246IHtcbiAgICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfTtcbiAgICBjbG9zZWQ6IHtcbiAgICAgIGJ1dHRvbjoge1xuICAgICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xuICB0aHJlYWQ/OiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gIH07XG4gIHVzZXJNZXNzYWdlPzoge1xuICAgIGVkaXQ/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gIH07XG4gIGFzc2lzdGFudE1lc3NhZ2U/OiB7XG4gICAgcmVsb2FkPzoge1xuICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIGNvcHk/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gICAgc3BlYWs/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgc3RvcD86IHtcbiAgICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfTtcbiAgICBmZWVkYmFjaz86IHtcbiAgICAgIHBvc2l0aXZlPzoge1xuICAgICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICAgIG5lZ2F0aXZlPzoge1xuICAgICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xuICBicmFuY2hQaWNrZXI/OiB7XG4gICAgcHJldmlvdXM/OiB7XG4gICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gICAgbmV4dD86IHtcbiAgICAgIHRvb2x0aXA/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgfTtcbiAgfTtcbiAgY29tcG9zZXI/OiB7XG4gICAgc2VuZD86XG4gICAgICB8IHtcbiAgICAgICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB8IHVuZGVmaW5lZDtcbiAgICBjYW5jZWw/OlxuICAgICAgfCB7XG4gICAgICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfCB1bmRlZmluZWQ7XG4gICAgYWRkQXR0YWNobWVudD86XG4gICAgICB8IHtcbiAgICAgICAgICB0b29sdGlwPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB8IHVuZGVmaW5lZDtcbiAgICByZW1vdmVBdHRhY2htZW50Pzoge1xuICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIGlucHV0Pzoge1xuICAgICAgcGxhY2Vob2xkZXI/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgfTtcbiAgfTtcbiAgZWRpdENvbXBvc2VyPzoge1xuICAgIHNlbmQ/OiB7XG4gICAgICBsYWJlbD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIGNhbmNlbD86IHtcbiAgICAgIGxhYmVsPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH07XG4gIH07XG4gIGNvZGU/OiB7XG4gICAgaGVhZGVyPzoge1xuICAgICAgY29weT86IHtcbiAgICAgICAgdG9vbHRpcD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn07XG5cbmNvbnN0IFRocmVhZENvbmZpZ0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRocmVhZENvbmZpZz4oe30pO1xuXG5leHBvcnQgdHlwZSBUaHJlYWRDb25maWcgPSB7XG4gIHJ1bnRpbWU/OiBBc3Npc3RhbnRSdW50aW1lIHwgdW5kZWZpbmVkO1xuXG4gIGFzc2lzdGFudEF2YXRhcj86IEF2YXRhclByb3BzIHwgdW5kZWZpbmVkO1xuXG4gIHdlbGNvbWU/OiBUaHJlYWRXZWxjb21lQ29uZmlnIHwgdW5kZWZpbmVkO1xuICBhc3Npc3RhbnRNZXNzYWdlPzogQXNzaXN0YW50TWVzc2FnZUNvbmZpZyB8IHVuZGVmaW5lZDtcbiAgdXNlck1lc3NhZ2U/OiBVc2VyTWVzc2FnZUNvbmZpZyB8IHVuZGVmaW5lZDtcblxuICBicmFuY2hQaWNrZXI/OiBCcmFuY2hQaWNrZXJDb25maWcgfCB1bmRlZmluZWQ7XG5cbiAgY29tcG9zZXI/OiBDb21wb3NlckNvbmZpZyB8IHVuZGVmaW5lZDtcblxuICBzdHJpbmdzPzogU3RyaW5nc0NvbmZpZyB8IHVuZGVmaW5lZDtcblxuICB0b29scz86IEFzc2lzdGFudFRvb2xVSVtdIHwgdW5kZWZpbmVkOyAvLyBUT0RPIGFkZCBBc3Npc3RhbnRUb29sIHN1cHBvcnRcblxuICBjb21wb25lbnRzPzpcbiAgICB8IHtcbiAgICAgICAgQ29tcG9zZXI/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgICBUaHJlYWRXZWxjb21lPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VUaHJlYWRDb25maWcgPSAoKTogT21pdDxUaHJlYWRDb25maWcsIFwicnVudGltZVwiPiA9PiB7XG4gIHJldHVybiB1c2VDb250ZXh0KFRocmVhZENvbmZpZ0NvbnRleHQpO1xufTtcblxuZXhwb3J0IHR5cGUgVGhyZWFkQ29uZmlnUHJvdmlkZXJQcm9wcyA9IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgY29uZmlnPzogVGhyZWFkQ29uZmlnIHwgdW5kZWZpbmVkO1xufT47XG5cbmV4cG9ydCBjb25zdCBUaHJlYWRDb25maWdQcm92aWRlcjogRkM8VGhyZWFkQ29uZmlnUHJvdmlkZXJQcm9wcz4gPSAoe1xuICBjaGlsZHJlbixcbiAgY29uZmlnLFxufSkgPT4ge1xuICBjb25zdCBoYXNBc3Npc3RhbnQgPSAhIXVzZUFzc2lzdGFudFJ1bnRpbWUoeyBvcHRpb25hbDogdHJ1ZSB9KTtcblxuICBjb25zdCBjb25maWdQcm92aWRlciA9XG4gICAgY29uZmlnICYmIE9iamVjdC5rZXlzKGNvbmZpZyA/PyB7fSkubGVuZ3RoID4gMCA/IChcbiAgICAgIDxUaHJlYWRDb25maWdDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb25maWd9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L1RocmVhZENvbmZpZ0NvbnRleHQuUHJvdmlkZXI+XG4gICAgKSA6IChcbiAgICAgIDw+e2NoaWxkcmVufTwvPlxuICAgICk7XG4gIGlmICghY29uZmlnPy5ydW50aW1lKSByZXR1cm4gY29uZmlnUHJvdmlkZXI7XG5cbiAgaWYgKGhhc0Fzc2lzdGFudCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiWW91IHByb3ZpZGVkIGEgcnVudGltZSB0byA8VGhyZWFkPiB3aGlsZSBzaW11bGF0YW5lb3VzbHkgdXNpbmcgPEFzc2lzdGFudFJ1bnRpbWVQcm92aWRlcj4uIFRoaXMgaXMgbm90IGFsbG93ZWQuXCIsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gKFxuICAgIDxBc3Npc3RhbnRSdW50aW1lUHJvdmlkZXIgcnVudGltZT17Y29uZmlnLnJ1bnRpbWV9PlxuICAgICAge2NvbmZpZ1Byb3ZpZGVyfVxuICAgIDwvQXNzaXN0YW50UnVudGltZVByb3ZpZGVyPlxuICApO1xufTtcblxuVGhyZWFkQ29uZmlnUHJvdmlkZXIuZGlzcGxheU5hbWUgPSBcIlRocmVhZENvbmZpZ1Byb3ZpZGVyXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdHlwZSBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgQXVkaW9MaW5lc0ljb24sXG4gIENoZWNrSWNvbixcbiAgQ29weUljb24sXG4gIFJlZnJlc2hDd0ljb24sXG4gIFN0b3BDaXJjbGVJY29uLFxuICBUaHVtYnNEb3duSWNvbixcbiAgVGh1bWJzVXBJY29uLFxufSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyBBY3Rpb25CYXJQcmltaXRpdmUsIE1lc3NhZ2VQcmltaXRpdmUgfSBmcm9tIFwiLi4vcHJpbWl0aXZlc1wiO1xuaW1wb3J0IHtcbiAgVG9vbHRpcEljb25CdXR0b24sXG4gIFRvb2x0aXBJY29uQnV0dG9uUHJvcHMsXG59IGZyb20gXCIuL2Jhc2UvdG9vbHRpcC1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb25maWcgfSBmcm9tIFwiLi90aHJlYWQtY29uZmlnXCI7XG5pbXBvcnQgeyB1c2VUaHJlYWQgfSBmcm9tIFwiLi4vY29udGV4dFwiO1xuXG5jb25zdCB1c2VBbGxvd0NvcHkgPSAoZW5zdXJlQ2FwYWJpbGl0eSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHsgYXNzaXN0YW50TWVzc2FnZTogeyBhbGxvd0NvcHkgPSB0cnVlIH0gPSB7fSB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IGNvcHlTdXBwb3J0ZWQgPSB1c2VUaHJlYWQoKHQpID0+IHQuY2FwYWJpbGl0aWVzLnVuc3RhYmxlX2NvcHkpO1xuICByZXR1cm4gYWxsb3dDb3B5ICYmICghZW5zdXJlQ2FwYWJpbGl0eSB8fCBjb3B5U3VwcG9ydGVkKTtcbn07XG5cbmNvbnN0IHVzZUFsbG93U3BlYWsgPSAoZW5zdXJlQ2FwYWJpbGl0eSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHsgYXNzaXN0YW50TWVzc2FnZTogeyBhbGxvd1NwZWFrID0gdHJ1ZSB9ID0ge30gfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBzcGVlY2hTdXBwb3J0ZWQgPSB1c2VUaHJlYWQoKHQpID0+IHQuY2FwYWJpbGl0aWVzLnNwZWVjaCk7XG4gIHJldHVybiBhbGxvd1NwZWFrICYmICghZW5zdXJlQ2FwYWJpbGl0eSB8fCBzcGVlY2hTdXBwb3J0ZWQpO1xufTtcblxuY29uc3QgdXNlQWxsb3dSZWxvYWQgPSAoZW5zdXJlQ2FwYWJpbGl0eSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHsgYXNzaXN0YW50TWVzc2FnZTogeyBhbGxvd1JlbG9hZCA9IHRydWUgfSA9IHt9IH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgY29uc3QgcmVsb2FkU3VwcG9ydGVkID0gdXNlVGhyZWFkKCh0KSA9PiB0LmNhcGFiaWxpdGllcy5yZWxvYWQpO1xuICByZXR1cm4gYWxsb3dSZWxvYWQgJiYgKCFlbnN1cmVDYXBhYmlsaXR5IHx8IHJlbG9hZFN1cHBvcnRlZCk7XG59O1xuXG5jb25zdCB1c2VBbGxvd0ZlZWRiYWNrUG9zaXRpdmUgPSAoZW5zdXJlQ2FwYWJpbGl0eSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHsgYXNzaXN0YW50TWVzc2FnZTogeyBhbGxvd0ZlZWRiYWNrUG9zaXRpdmUgPSB0cnVlIH0gPSB7fSB9ID1cbiAgICB1c2VUaHJlYWRDb25maWcoKTtcbiAgY29uc3QgZmVlZGJhY2tTdXBwb3J0ZWQgPSB1c2VUaHJlYWQoKHQpID0+IHQuY2FwYWJpbGl0aWVzLmZlZWRiYWNrKTtcbiAgcmV0dXJuIGFsbG93RmVlZGJhY2tQb3NpdGl2ZSAmJiAoIWVuc3VyZUNhcGFiaWxpdHkgfHwgZmVlZGJhY2tTdXBwb3J0ZWQpO1xufTtcblxuY29uc3QgdXNlQWxsb3dGZWVkYmFja05lZ2F0aXZlID0gKGVuc3VyZUNhcGFiaWxpdHkgPSBmYWxzZSkgPT4ge1xuICBjb25zdCB7IGFzc2lzdGFudE1lc3NhZ2U6IHsgYWxsb3dGZWVkYmFja05lZ2F0aXZlID0gdHJ1ZSB9ID0ge30gfSA9XG4gICAgdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IGZlZWRiYWNrU3VwcG9ydGVkID0gdXNlVGhyZWFkKCh0KSA9PiB0LmNhcGFiaWxpdGllcy5mZWVkYmFjayk7XG4gIHJldHVybiBhbGxvd0ZlZWRiYWNrTmVnYXRpdmUgJiYgKCFlbnN1cmVDYXBhYmlsaXR5IHx8IGZlZWRiYWNrU3VwcG9ydGVkKTtcbn07XG5cbmNvbnN0IEFzc2lzdGFudEFjdGlvbkJhcjogRkMgPSAoKSA9PiB7XG4gIGNvbnN0IGFsbG93Q29weSA9IHVzZUFsbG93Q29weSh0cnVlKTtcbiAgY29uc3QgYWxsb3dSZWxvYWQgPSB1c2VBbGxvd1JlbG9hZCh0cnVlKTtcbiAgY29uc3QgYWxsb3dTcGVhayA9IHVzZUFsbG93U3BlYWsodHJ1ZSk7XG4gIGNvbnN0IGFsbG93RmVlZGJhY2tQb3NpdGl2ZSA9IHVzZUFsbG93RmVlZGJhY2tQb3NpdGl2ZSh0cnVlKTtcbiAgY29uc3QgYWxsb3dGZWVkYmFja05lZ2F0aXZlID0gdXNlQWxsb3dGZWVkYmFja05lZ2F0aXZlKHRydWUpO1xuICBpZiAoXG4gICAgIWFsbG93Q29weSAmJlxuICAgICFhbGxvd1JlbG9hZCAmJlxuICAgICFhbGxvd1NwZWFrICYmXG4gICAgIWFsbG93RmVlZGJhY2tQb3NpdGl2ZSAmJlxuICAgICFhbGxvd0ZlZWRiYWNrTmVnYXRpdmVcbiAgKVxuICAgIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPEFzc2lzdGFudEFjdGlvbkJhclJvb3RcbiAgICAgIGhpZGVXaGVuUnVubmluZ1xuICAgICAgYXV0b2hpZGU9XCJub3QtbGFzdFwiXG4gICAgICBhdXRvaGlkZUZsb2F0PVwic2luZ2xlLWJyYW5jaFwiXG4gICAgPlxuICAgICAge2FsbG93U3BlYWsgJiYgPEFzc2lzdGFudEFjdGlvbkJhclNwZWVjaENvbnRyb2wgLz59XG4gICAgICB7YWxsb3dDb3B5ICYmIDxBc3Npc3RhbnRBY3Rpb25CYXJDb3B5IC8+fVxuICAgICAge2FsbG93UmVsb2FkICYmIDxBc3Npc3RhbnRBY3Rpb25CYXJSZWxvYWQgLz59XG4gICAgICB7YWxsb3dGZWVkYmFja1Bvc2l0aXZlICYmIDxBc3Npc3RhbnRBY3Rpb25CYXJGZWVkYmFja1Bvc2l0aXZlIC8+fVxuICAgICAge2FsbG93RmVlZGJhY2tOZWdhdGl2ZSAmJiA8QXNzaXN0YW50QWN0aW9uQmFyRmVlZGJhY2tOZWdhdGl2ZSAvPn1cbiAgICA8L0Fzc2lzdGFudEFjdGlvbkJhclJvb3Q+XG4gICk7XG59O1xuXG5Bc3Npc3RhbnRBY3Rpb25CYXIuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudEFjdGlvbkJhclwiO1xuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJSb290ID0gd2l0aERlZmF1bHRzKEFjdGlvbkJhclByaW1pdGl2ZS5Sb290LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktYXNzaXN0YW50LWFjdGlvbi1iYXItcm9vdFwiLFxufSk7XG5cbkFzc2lzdGFudEFjdGlvbkJhclJvb3QuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudEFjdGlvbkJhclJvb3RcIjtcblxubmFtZXNwYWNlIEFzc2lzdGFudEFjdGlvbkJhckNvcHkge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gQWN0aW9uQmFyUHJpbWl0aXZlLkNvcHkuRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+ICYge1xuICAgIGNvcGllZER1cmF0aW9uPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICB9O1xufVxuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJDb3B5ID0gZm9yd2FyZFJlZjxcbiAgQXNzaXN0YW50QWN0aW9uQmFyQ29weS5FbGVtZW50LFxuICBBc3Npc3RhbnRBY3Rpb25CYXJDb3B5LlByb3BzXG4+KCh7IGNvcGllZER1cmF0aW9uLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHtcbiAgICAgIGFzc2lzdGFudE1lc3NhZ2U6IHsgY29weTogeyB0b29sdGlwID0gXCJDb3B5XCIgfSA9IHt9IH0gPSB7fSxcbiAgICB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcblxuICByZXR1cm4gKFxuICAgIDxBY3Rpb25CYXJQcmltaXRpdmUuQ29weSBjb3BpZWREdXJhdGlvbj17Y29waWVkRHVyYXRpb259IGFzQ2hpbGQ+XG4gICAgICA8VG9vbHRpcEljb25CdXR0b24gdG9vbHRpcD17dG9vbHRpcH0gey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxNZXNzYWdlUHJpbWl0aXZlLklmIGNvcGllZD5cbiAgICAgICAgICAgICAgPENoZWNrSWNvbiAvPlxuICAgICAgICAgICAgPC9NZXNzYWdlUHJpbWl0aXZlLklmPlxuICAgICAgICAgICAgPE1lc3NhZ2VQcmltaXRpdmUuSWYgY29waWVkPXtmYWxzZX0+XG4gICAgICAgICAgICAgIDxDb3B5SWNvbiAvPlxuICAgICAgICAgICAgPC9NZXNzYWdlUHJpbWl0aXZlLklmPlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9Ub29sdGlwSWNvbkJ1dHRvbj5cbiAgICA8L0FjdGlvbkJhclByaW1pdGl2ZS5Db3B5PlxuICApO1xufSk7XG5cbkFzc2lzdGFudEFjdGlvbkJhckNvcHkuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudEFjdGlvbkJhckNvcHlcIjtcblxuY29uc3QgQXNzaXN0YW50QWN0aW9uQmFyU3BlZWNoQ29udHJvbDogRkMgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxNZXNzYWdlUHJpbWl0aXZlLklmIHNwZWFraW5nPXtmYWxzZX0+XG4gICAgICAgIDxBc3Npc3RhbnRBY3Rpb25CYXJTcGVhayAvPlxuICAgICAgPC9NZXNzYWdlUHJpbWl0aXZlLklmPlxuICAgICAgPE1lc3NhZ2VQcmltaXRpdmUuSWYgc3BlYWtpbmc+XG4gICAgICAgIDxBc3Npc3RhbnRBY3Rpb25CYXJTdG9wU3BlYWtpbmcgLz5cbiAgICAgIDwvTWVzc2FnZVByaW1pdGl2ZS5JZj5cbiAgICA8Lz5cbiAgKTtcbn07XG5cbm5hbWVzcGFjZSBBc3Npc3RhbnRBY3Rpb25CYXJTcGVhayB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBBY3Rpb25CYXJQcmltaXRpdmUuU3BlYWsuRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+O1xufVxuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJTcGVhayA9IGZvcndhcmRSZWY8XG4gIEFzc2lzdGFudEFjdGlvbkJhclNwZWFrLkVsZW1lbnQsXG4gIEFzc2lzdGFudEFjdGlvbkJhclNwZWFrLlByb3BzXG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICBhc3Npc3RhbnRNZXNzYWdlOiB7IHNwZWFrOiB7IHRvb2x0aXAgPSBcIlJlYWQgYWxvdWRcIiB9ID0ge30gfSA9IHt9LFxuICAgIH0gPSB7fSxcbiAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBhbGxvd1NwZWFrID0gdXNlQWxsb3dTcGVhaygpO1xuXG4gIHJldHVybiAoXG4gICAgPEFjdGlvbkJhclByaW1pdGl2ZS5TcGVhayBkaXNhYmxlZD17IWFsbG93U3BlYWt9IGFzQ2hpbGQ+XG4gICAgICA8VG9vbHRpcEljb25CdXR0b24gdG9vbHRpcD17dG9vbHRpcH0gey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyA8QXVkaW9MaW5lc0ljb24gLz59XG4gICAgICA8L1Rvb2x0aXBJY29uQnV0dG9uPlxuICAgIDwvQWN0aW9uQmFyUHJpbWl0aXZlLlNwZWFrPlxuICApO1xufSk7XG5cbkFzc2lzdGFudEFjdGlvbkJhclNwZWFrLmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRBY3Rpb25CYXJTcGVha1wiO1xuXG5uYW1lc3BhY2UgQXNzaXN0YW50QWN0aW9uQmFyU3RvcFNwZWFraW5nIHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEFjdGlvbkJhclByaW1pdGl2ZS5TdG9wU3BlYWtpbmcuRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+O1xufVxuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJTdG9wU3BlYWtpbmcgPSBmb3J3YXJkUmVmPFxuICBBc3Npc3RhbnRBY3Rpb25CYXJTdG9wU3BlYWtpbmcuRWxlbWVudCxcbiAgQXNzaXN0YW50QWN0aW9uQmFyU3RvcFNwZWFraW5nLlByb3BzXG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICBhc3Npc3RhbnRNZXNzYWdlOiB7XG4gICAgICAgIHNwZWFrOiB7IHN0b3A6IHsgdG9vbHRpcDogc3RvcFRvb2x0aXAgPSBcIlN0b3BcIiB9ID0ge30gfSA9IHt9LFxuICAgICAgfSA9IHt9LFxuICAgIH0gPSB7fSxcbiAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBhbGxvd1NwZWFrID0gdXNlQWxsb3dTcGVhaygpO1xuXG4gIHJldHVybiAoXG4gICAgPEFjdGlvbkJhclByaW1pdGl2ZS5TdG9wU3BlYWtpbmcgZGlzYWJsZWQ9eyFhbGxvd1NwZWFrfSBhc0NoaWxkPlxuICAgICAgPFRvb2x0aXBJY29uQnV0dG9uIHRvb2x0aXA9e3N0b3BUb29sdGlwfSB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxTdG9wQ2lyY2xlSWNvbiAvPn1cbiAgICAgIDwvVG9vbHRpcEljb25CdXR0b24+XG4gICAgPC9BY3Rpb25CYXJQcmltaXRpdmUuU3RvcFNwZWFraW5nPlxuICApO1xufSk7XG5cbkFzc2lzdGFudEFjdGlvbkJhclN0b3BTcGVha2luZy5kaXNwbGF5TmFtZSA9IFwiQXNzaXN0YW50QWN0aW9uQmFyU3RvcFNwZWFraW5nXCI7XG5cbm5hbWVzcGFjZSBBc3Npc3RhbnRBY3Rpb25CYXJSZWxvYWQge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gQWN0aW9uQmFyUHJpbWl0aXZlLlJlbG9hZC5FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz47XG59XG5cbmNvbnN0IEFzc2lzdGFudEFjdGlvbkJhclJlbG9hZCA9IGZvcndhcmRSZWY8XG4gIEFzc2lzdGFudEFjdGlvbkJhclJlbG9hZC5FbGVtZW50LFxuICBBc3Npc3RhbnRBY3Rpb25CYXJSZWxvYWQuUHJvcHNcbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHtcbiAgICAgIGFzc2lzdGFudE1lc3NhZ2U6IHsgcmVsb2FkOiB7IHRvb2x0aXAgPSBcIlJlZnJlc2hcIiB9ID0ge30gfSA9IHt9LFxuICAgIH0gPSB7fSxcbiAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBhbGxvd1JlbG9hZCA9IHVzZUFsbG93UmVsb2FkKCk7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvbkJhclByaW1pdGl2ZS5SZWxvYWQgZGlzYWJsZWQ9eyFhbGxvd1JlbG9hZH0gYXNDaGlsZD5cbiAgICAgIDxUb29sdGlwSWNvbkJ1dHRvbiB0b29sdGlwPXt0b29sdGlwfSB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxSZWZyZXNoQ3dJY29uIC8+fVxuICAgICAgPC9Ub29sdGlwSWNvbkJ1dHRvbj5cbiAgICA8L0FjdGlvbkJhclByaW1pdGl2ZS5SZWxvYWQ+XG4gICk7XG59KTtcblxuQXNzaXN0YW50QWN0aW9uQmFyUmVsb2FkLmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRBY3Rpb25CYXJSZWxvYWRcIjtcblxubmFtZXNwYWNlIEFzc2lzdGFudEFjdGlvbkJhckZlZWRiYWNrUG9zaXRpdmUge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gQWN0aW9uQmFyUHJpbWl0aXZlLkZlZWRiYWNrUG9zaXRpdmUuRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+O1xufVxuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJGZWVkYmFja1Bvc2l0aXZlID0gZm9yd2FyZFJlZjxcbiAgQXNzaXN0YW50QWN0aW9uQmFyRmVlZGJhY2tQb3NpdGl2ZS5FbGVtZW50LFxuICBBc3Npc3RhbnRBY3Rpb25CYXJGZWVkYmFja1Bvc2l0aXZlLlByb3BzXG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICBhc3Npc3RhbnRNZXNzYWdlOiB7XG4gICAgICAgIGZlZWRiYWNrOiB7IHBvc2l0aXZlOiB7IHRvb2x0aXAgPSBcIkdvb2QgcmVzcG9uc2VcIiB9ID0ge30gfSA9IHt9LFxuICAgICAgfSA9IHt9LFxuICAgIH0gPSB7fSxcbiAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBhbGxvd0ZlZWRiYWNrUG9zaXRpdmUgPSB1c2VBbGxvd0ZlZWRiYWNrUG9zaXRpdmUoKTtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uQmFyUHJpbWl0aXZlLkZlZWRiYWNrUG9zaXRpdmVcbiAgICAgIGRpc2FibGVkPXshYWxsb3dGZWVkYmFja1Bvc2l0aXZlfVxuICAgICAgY2xhc3NOYW1lPVwiYXVpLWFzc2lzdGFudC1hY3Rpb24tYmFyLWZlZWRiYWNrLXBvc2l0aXZlXCJcbiAgICAgIGFzQ2hpbGRcbiAgICA+XG4gICAgICA8VG9vbHRpcEljb25CdXR0b24gdG9vbHRpcD17dG9vbHRpcH0gey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyA8VGh1bWJzVXBJY29uIC8+fVxuICAgICAgPC9Ub29sdGlwSWNvbkJ1dHRvbj5cbiAgICA8L0FjdGlvbkJhclByaW1pdGl2ZS5GZWVkYmFja1Bvc2l0aXZlPlxuICApO1xufSk7XG5cbkFzc2lzdGFudEFjdGlvbkJhckZlZWRiYWNrUG9zaXRpdmUuZGlzcGxheU5hbWUgPVxuICBcIkFzc2lzdGFudEFjdGlvbkJhckZlZWRiYWNrUG9zaXRpdmVcIjtcblxubmFtZXNwYWNlIEFzc2lzdGFudEFjdGlvbkJhckZlZWRiYWNrTmVnYXRpdmUge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gQWN0aW9uQmFyUHJpbWl0aXZlLkZlZWRiYWNrTmVnYXRpdmUuRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+O1xufVxuXG5jb25zdCBBc3Npc3RhbnRBY3Rpb25CYXJGZWVkYmFja05lZ2F0aXZlID0gZm9yd2FyZFJlZjxcbiAgQXNzaXN0YW50QWN0aW9uQmFyRmVlZGJhY2tOZWdhdGl2ZS5FbGVtZW50LFxuICBBc3Npc3RhbnRBY3Rpb25CYXJGZWVkYmFja05lZ2F0aXZlLlByb3BzXG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICBhc3Npc3RhbnRNZXNzYWdlOiB7XG4gICAgICAgIGZlZWRiYWNrOiB7IG5lZ2F0aXZlOiB7IHRvb2x0aXAgPSBcIkJhZCByZXNwb25zZVwiIH0gPSB7fSB9ID0ge30sXG4gICAgICB9ID0ge30sXG4gICAgfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IGFsbG93RmVlZGJhY2tOZWdhdGl2ZSA9IHVzZUFsbG93RmVlZGJhY2tOZWdhdGl2ZSgpO1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25CYXJQcmltaXRpdmUuRmVlZGJhY2tOZWdhdGl2ZVxuICAgICAgZGlzYWJsZWQ9eyFhbGxvd0ZlZWRiYWNrTmVnYXRpdmV9XG4gICAgICBjbGFzc05hbWU9XCJhdWktYXNzaXN0YW50LWFjdGlvbi1iYXItZmVlZGJhY2stbmVnYXRpdmVcIlxuICAgICAgYXNDaGlsZFxuICAgID5cbiAgICAgIDxUb29sdGlwSWNvbkJ1dHRvbiB0b29sdGlwPXt0b29sdGlwfSB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxUaHVtYnNEb3duSWNvbiAvPn1cbiAgICAgIDwvVG9vbHRpcEljb25CdXR0b24+XG4gICAgPC9BY3Rpb25CYXJQcmltaXRpdmUuRmVlZGJhY2tOZWdhdGl2ZT5cbiAgKTtcbn0pO1xuXG5Bc3Npc3RhbnRBY3Rpb25CYXJGZWVkYmFja05lZ2F0aXZlLmRpc3BsYXlOYW1lID1cbiAgXCJBc3Npc3RhbnRBY3Rpb25CYXJGZWVkYmFja05lZ2F0aXZlXCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IEFzc2lzdGFudEFjdGlvbkJhclJvb3QsXG4gIFJlbG9hZDogQXNzaXN0YW50QWN0aW9uQmFyUmVsb2FkLFxuICBDb3B5OiBBc3Npc3RhbnRBY3Rpb25CYXJDb3B5LFxuICBTcGVhazogQXNzaXN0YW50QWN0aW9uQmFyU3BlYWssXG4gIFN0b3BTcGVha2luZzogQXNzaXN0YW50QWN0aW9uQmFyU3RvcFNwZWFraW5nLFxuICBTcGVlY2hDb250cm9sOiBBc3Npc3RhbnRBY3Rpb25CYXJTcGVlY2hDb250cm9sLFxuICBGZWVkYmFja1Bvc2l0aXZlOiBBc3Npc3RhbnRBY3Rpb25CYXJGZWVkYmFja1Bvc2l0aXZlLFxuICBGZWVkYmFja05lZ2F0aXZlOiBBc3Npc3RhbnRBY3Rpb25CYXJGZWVkYmFja05lZ2F0aXZlLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbihcbiAgQXNzaXN0YW50QWN0aW9uQmFyLFxuICBleHBvcnRzLFxuKSBhcyB0eXBlb2YgQXNzaXN0YW50QWN0aW9uQmFyICYgdHlwZW9mIGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBmb3J3YXJkUmVmLCB1c2VNZW1vLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBNZXNzYWdlUHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcbmltcG9ydCBCcmFuY2hQaWNrZXIgZnJvbSBcIi4vYnJhbmNoLXBpY2tlclwiO1xuaW1wb3J0IHsgQXZhdGFyIH0gZnJvbSBcIi4vYmFzZS9hdmF0YXJcIjtcbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29uZmlnIH0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuaW1wb3J0IEFzc2lzdGFudEFjdGlvbkJhciBmcm9tIFwiLi9hc3Npc3RhbnQtYWN0aW9uLWJhclwiO1xuaW1wb3J0IENvbnRlbnRQYXJ0IGZyb20gXCIuL2NvbnRlbnQtcGFydFwiO1xuXG5jb25zdCBBc3Npc3RhbnRNZXNzYWdlOiBGQyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8QXNzaXN0YW50TWVzc2FnZVJvb3Q+XG4gICAgICA8QXNzaXN0YW50TWVzc2FnZUF2YXRhciAvPlxuICAgICAgPEFzc2lzdGFudE1lc3NhZ2VDb250ZW50IC8+XG4gICAgICA8QnJhbmNoUGlja2VyIC8+XG4gICAgICA8QXNzaXN0YW50QWN0aW9uQmFyIC8+XG4gICAgPC9Bc3Npc3RhbnRNZXNzYWdlUm9vdD5cbiAgKTtcbn07XG5cbkFzc2lzdGFudE1lc3NhZ2UuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1lc3NhZ2VcIjtcblxuY29uc3QgQXNzaXN0YW50TWVzc2FnZUF2YXRhcjogRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgYXNzaXN0YW50QXZhdGFyOiBhdmF0YXIgPSB7IGZhbGxiYWNrOiBcIkFcIiB9IH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgcmV0dXJuIDxBdmF0YXIgey4uLmF2YXRhcn0gLz47XG59O1xuXG5jb25zdCBBc3Npc3RhbnRNZXNzYWdlUm9vdCA9IHdpdGhEZWZhdWx0cyhNZXNzYWdlUHJpbWl0aXZlLlJvb3QsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1hc3Npc3RhbnQtbWVzc2FnZS1yb290XCIsXG59KTtcblxuQXNzaXN0YW50TWVzc2FnZVJvb3QuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1lc3NhZ2VSb290XCI7XG5cbmNvbnN0IEFzc2lzdGFudE1lc3NhZ2VDb250ZW50V3JhcHBlciA9IHdpdGhEZWZhdWx0cyhcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogXCJhdWktYXNzaXN0YW50LW1lc3NhZ2UtY29udGVudFwiLFxufSk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBBc3Npc3RhbnRNZXNzYWdlLkNvbnRlbnQuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgQXNzaXN0YW50TWVzc2FnZUNvbnRlbnRQcm9wcyA9IEFzc2lzdGFudE1lc3NhZ2VDb250ZW50LlByb3BzO1xuXG5uYW1lc3BhY2UgQXNzaXN0YW50TWVzc2FnZUNvbnRlbnQge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gSFRNTERpdkVsZW1lbnQ7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gTWVzc2FnZVByaW1pdGl2ZS5Db250ZW50LlByb3BzICZcbiAgICBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8XCJkaXZcIj47XG59XG5cbmNvbnN0IEFzc2lzdGFudE1lc3NhZ2VDb250ZW50ID0gZm9yd2FyZFJlZjxcbiAgQXNzaXN0YW50TWVzc2FnZUNvbnRlbnQuRWxlbWVudCxcbiAgQXNzaXN0YW50TWVzc2FnZUNvbnRlbnQuUHJvcHNcbj4oKHsgY29tcG9uZW50czogY29tcG9uZW50c1Byb3AsIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG4gIGNvbnN0IHsgdG9vbHMsIGFzc2lzdGFudE1lc3NhZ2U6IHsgY29tcG9uZW50cyA9IHt9IH0gPSB7fSB9ID1cbiAgICB1c2VUaHJlYWRDb25maWcoKTtcblxuICBjb25zdCB0b29sc0NvbXBvbmVudHMgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBieV9uYW1lOiAhdG9vbHNcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICB0b29scy5tYXAoKHQpID0+IFtcbiAgICAgICAgICAgICAgdC51bnN0YWJsZV90b29sLnRvb2xOYW1lLFxuICAgICAgICAgICAgICB0LnVuc3RhYmxlX3Rvb2wucmVuZGVyLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgKSxcbiAgICAgIEZhbGxiYWNrOiBjb21wb25lbnRzLlRvb2xGYWxsYmFjayxcbiAgICB9KSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgWy4uLih0b29scyA/PyBbXSksIGNvbXBvbmVudHMuVG9vbEZhbGxiYWNrXSxcbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxBc3Npc3RhbnRNZXNzYWdlQ29udGVudFdyYXBwZXIgey4uLnJlc3R9IHJlZj17cmVmfT5cbiAgICAgIDxNZXNzYWdlUHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgICAgY29tcG9uZW50cz17e1xuICAgICAgICAgIC4uLmNvbXBvbmVudHNQcm9wLFxuICAgICAgICAgIFRleHQ6IGNvbXBvbmVudHNQcm9wPy5UZXh0ID8/IGNvbXBvbmVudHMuVGV4dCA/PyBDb250ZW50UGFydC5UZXh0LFxuICAgICAgICAgIHRvb2xzOiB0b29sc0NvbXBvbmVudHMsXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvQXNzaXN0YW50TWVzc2FnZUNvbnRlbnRXcmFwcGVyPlxuICApO1xufSk7XG5cbkFzc2lzdGFudE1lc3NhZ2VDb250ZW50LmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRNZXNzYWdlQ29udGVudFwiO1xuXG5jb25zdCBleHBvcnRzID0ge1xuICBSb290OiBBc3Npc3RhbnRNZXNzYWdlUm9vdCxcbiAgQXZhdGFyOiBBc3Npc3RhbnRNZXNzYWdlQXZhdGFyLFxuICBDb250ZW50OiBBc3Npc3RhbnRNZXNzYWdlQ29udGVudCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oXG4gIEFzc2lzdGFudE1lc3NhZ2UsXG4gIGV4cG9ydHMsXG4pIGFzIHR5cGVvZiBBc3Npc3RhbnRNZXNzYWdlICYgdHlwZW9mIGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBmb3J3YXJkUmVmLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDaGV2cm9uTGVmdEljb24sIENoZXZyb25SaWdodEljb24gfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbmltcG9ydCB7XG4gIFRvb2x0aXBJY29uQnV0dG9uLFxuICBUb29sdGlwSWNvbkJ1dHRvblByb3BzLFxufSBmcm9tIFwiLi9iYXNlL3Rvb2x0aXAtaWNvbi1idXR0b25cIjtcbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29uZmlnIH0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuaW1wb3J0IHsgQnJhbmNoUGlja2VyUHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcbmltcG9ydCB7IHVzZVRocmVhZCB9IGZyb20gXCIuLi9jb250ZXh0XCI7XG5cbmNvbnN0IHVzZUFsbG93QnJhbmNoUGlja2VyID0gKGVuc3VyZUNhcGFiaWxpdHkgPSBmYWxzZSkgPT4ge1xuICBjb25zdCB7IGJyYW5jaFBpY2tlcjogeyBhbGxvd0JyYW5jaFBpY2tlciA9IHRydWUgfSA9IHt9IH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgY29uc3QgYnJhbmNoUGlja2VyU3VwcG9ydGVkID0gdXNlVGhyZWFkKCh0KSA9PiB0LmNhcGFiaWxpdGllcy5lZGl0KTtcbiAgcmV0dXJuIGFsbG93QnJhbmNoUGlja2VyICYmICghZW5zdXJlQ2FwYWJpbGl0eSB8fCBicmFuY2hQaWNrZXJTdXBwb3J0ZWQpO1xufTtcblxuY29uc3QgQnJhbmNoUGlja2VyOiBGQyA9ICgpID0+IHtcbiAgY29uc3QgYWxsb3dCcmFuY2hQaWNrZXIgPSB1c2VBbGxvd0JyYW5jaFBpY2tlcih0cnVlKTtcbiAgaWYgKCFhbGxvd0JyYW5jaFBpY2tlcikgcmV0dXJuIG51bGw7XG4gIHJldHVybiAoXG4gICAgPEJyYW5jaFBpY2tlclJvb3QgaGlkZVdoZW5TaW5nbGVCcmFuY2g+XG4gICAgICA8QnJhbmNoUGlja2VyUHJldmlvdXMgLz5cbiAgICAgIDxCcmFuY2hQaWNrZXJTdGF0ZSAvPlxuICAgICAgPEJyYW5jaFBpY2tlck5leHQgLz5cbiAgICA8L0JyYW5jaFBpY2tlclJvb3Q+XG4gICk7XG59O1xuXG5CcmFuY2hQaWNrZXIuZGlzcGxheU5hbWUgPSBcIkJyYW5jaFBpY2tlclwiO1xuXG5jb25zdCBCcmFuY2hQaWNrZXJSb290ID0gd2l0aERlZmF1bHRzKEJyYW5jaFBpY2tlclByaW1pdGl2ZS5Sb290LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktYnJhbmNoLXBpY2tlci1yb290XCIsXG59KTtcblxuQnJhbmNoUGlja2VyUm9vdC5kaXNwbGF5TmFtZSA9IFwiQnJhbmNoUGlja2VyUm9vdFwiO1xuXG5uYW1lc3BhY2UgQnJhbmNoUGlja2VyUHJldmlvdXMge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gQnJhbmNoUGlja2VyUHJpbWl0aXZlLlByZXZpb3VzLkVsZW1lbnQ7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gUGFydGlhbDxUb29sdGlwSWNvbkJ1dHRvblByb3BzPjtcbn1cblxuY29uc3QgQnJhbmNoUGlja2VyUHJldmlvdXMgPSBmb3J3YXJkUmVmPFxuICBCcmFuY2hQaWNrZXJQcmV2aW91cy5FbGVtZW50LFxuICBCcmFuY2hQaWNrZXJQcmV2aW91cy5Qcm9wc1xuPigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgc3RyaW5nczoge1xuICAgICAgYnJhbmNoUGlja2VyOiB7IHByZXZpb3VzOiB7IHRvb2x0aXAgPSBcIlByZXZpb3VzXCIgfSA9IHt9IH0gPSB7fSxcbiAgICB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgY29uc3QgYWxsb3dCcmFuY2hQaWNrZXIgPSB1c2VBbGxvd0JyYW5jaFBpY2tlcigpO1xuICByZXR1cm4gKFxuICAgIDxCcmFuY2hQaWNrZXJQcmltaXRpdmUuUHJldmlvdXMgZGlzYWJsZWQ9eyFhbGxvd0JyYW5jaFBpY2tlcn0gYXNDaGlsZD5cbiAgICAgIDxUb29sdGlwSWNvbkJ1dHRvbiB0b29sdGlwPXt0b29sdGlwfSB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxDaGV2cm9uTGVmdEljb24gLz59XG4gICAgICA8L1Rvb2x0aXBJY29uQnV0dG9uPlxuICAgIDwvQnJhbmNoUGlja2VyUHJpbWl0aXZlLlByZXZpb3VzPlxuICApO1xufSk7XG5cbkJyYW5jaFBpY2tlclByZXZpb3VzLmRpc3BsYXlOYW1lID0gXCJCcmFuY2hQaWNrZXJQcmV2aW91c1wiO1xuXG5jb25zdCBCcmFuY2hQaWNrZXJTdGF0ZVdyYXBwZXIgPSB3aXRoRGVmYXVsdHMoXCJzcGFuXCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1icmFuY2gtcGlja2VyLXN0YXRlXCIsXG59KTtcblxubmFtZXNwYWNlIEJyYW5jaFBpY2tlclN0YXRlIHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEhUTUxTcGFuRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8XCJzcGFuXCI+O1xufVxuXG5jb25zdCBCcmFuY2hQaWNrZXJTdGF0ZSA9IGZvcndhcmRSZWY8XG4gIEJyYW5jaFBpY2tlclN0YXRlLkVsZW1lbnQsXG4gIEJyYW5jaFBpY2tlclN0YXRlLlByb3BzXG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPEJyYW5jaFBpY2tlclN0YXRlV3JhcHBlciB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgIDxCcmFuY2hQaWNrZXJQcmltaXRpdmUuTnVtYmVyIC8+IC8gPEJyYW5jaFBpY2tlclByaW1pdGl2ZS5Db3VudCAvPlxuICAgIDwvQnJhbmNoUGlja2VyU3RhdGVXcmFwcGVyPlxuICApO1xufSk7XG5cbkJyYW5jaFBpY2tlclN0YXRlLmRpc3BsYXlOYW1lID0gXCJCcmFuY2hQaWNrZXJTdGF0ZVwiO1xuXG5uYW1lc3BhY2UgQnJhbmNoUGlja2VyTmV4dCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBCcmFuY2hQaWNrZXJQcmltaXRpdmUuTmV4dC5FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz47XG59XG5cbmNvbnN0IEJyYW5jaFBpY2tlck5leHQgPSBmb3J3YXJkUmVmPFxuICBCcmFuY2hQaWNrZXJOZXh0LkVsZW1lbnQsXG4gIEJyYW5jaFBpY2tlck5leHQuUHJvcHNcbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHsgYnJhbmNoUGlja2VyOiB7IG5leHQ6IHsgdG9vbHRpcCA9IFwiTmV4dFwiIH0gPSB7fSB9ID0ge30gfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IGFsbG93QnJhbmNoUGlja2VyID0gdXNlQWxsb3dCcmFuY2hQaWNrZXIoKTtcbiAgcmV0dXJuIChcbiAgICA8QnJhbmNoUGlja2VyUHJpbWl0aXZlLk5leHQgZGlzYWJsZWQ9eyFhbGxvd0JyYW5jaFBpY2tlcn0gYXNDaGlsZD5cbiAgICAgIDxUb29sdGlwSWNvbkJ1dHRvbiB0b29sdGlwPXt0b29sdGlwfSB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxDaGV2cm9uUmlnaHRJY29uIC8+fVxuICAgICAgPC9Ub29sdGlwSWNvbkJ1dHRvbj5cbiAgICA8L0JyYW5jaFBpY2tlclByaW1pdGl2ZS5OZXh0PlxuICApO1xufSk7XG5cbkJyYW5jaFBpY2tlck5leHQuZGlzcGxheU5hbWUgPSBcIkJyYW5jaFBpY2tlck5leHRcIjtcblxuY29uc3QgZXhwb3J0cyA9IHtcbiAgUm9vdDogQnJhbmNoUGlja2VyUm9vdCxcbiAgUHJldmlvdXM6IEJyYW5jaFBpY2tlclByZXZpb3VzLFxuICBOZXh0OiBCcmFuY2hQaWNrZXJOZXh0LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbihCcmFuY2hQaWNrZXIsIGV4cG9ydHMpIGFzIHR5cGVvZiBCcmFuY2hQaWNrZXIgJlxuICB0eXBlb2YgZXhwb3J0cztcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBBdmF0YXJQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1hdmF0YXJcIjtcblxuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4uL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuXG5leHBvcnQgdHlwZSBBdmF0YXJQcm9wcyA9IHtcbiAgc3JjPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBhbHQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGZhbGxiYWNrPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IEF2YXRhcjogRkM8QXZhdGFyUHJvcHM+ID0gKHsgc3JjLCBhbHQsIGZhbGxiYWNrIH0pID0+IHtcbiAgaWYgKHNyYyA9PSBudWxsICYmIGZhbGxiYWNrID09IG51bGwpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPEF2YXRhclJvb3Q+XG4gICAgICB7c3JjICE9IG51bGwgJiYgPEF2YXRhckltYWdlIHNyYz17c3JjfSBhbHQ9e2FsdH0gLz59XG4gICAgICB7ZmFsbGJhY2sgIT0gbnVsbCAmJiA8QXZhdGFyRmFsbGJhY2s+e2ZhbGxiYWNrfTwvQXZhdGFyRmFsbGJhY2s+fVxuICAgIDwvQXZhdGFyUm9vdD5cbiAgKTtcbn07XG5cbkF2YXRhci5kaXNwbGF5TmFtZSA9IFwiQXZhdGFyXCI7XG5cbmV4cG9ydCBjb25zdCBBdmF0YXJSb290ID0gd2l0aERlZmF1bHRzKEF2YXRhclByaW1pdGl2ZS5Sb290LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktYXZhdGFyLXJvb3RcIixcbn0pO1xuXG5BdmF0YXJSb290LmRpc3BsYXlOYW1lID0gXCJBdmF0YXJSb290XCI7XG5cbmV4cG9ydCBjb25zdCBBdmF0YXJJbWFnZSA9IHdpdGhEZWZhdWx0cyhBdmF0YXJQcmltaXRpdmUuSW1hZ2UsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1hdmF0YXItaW1hZ2VcIixcbn0pO1xuXG5BdmF0YXJJbWFnZS5kaXNwbGF5TmFtZSA9IFwiQXZhdGFySW1hZ2VcIjtcblxuZXhwb3J0IGNvbnN0IEF2YXRhckZhbGxiYWNrID0gd2l0aERlZmF1bHRzKEF2YXRhclByaW1pdGl2ZS5GYWxsYmFjaywge1xuICBjbGFzc05hbWU6IFwiYXVpLWF2YXRhci1mYWxsYmFja1wiLFxufSk7XG5cbkF2YXRhckZhbGxiYWNrLmRpc3BsYXlOYW1lID0gXCJBdmF0YXJGYWxsYmFja1wiO1xuIiwiaW1wb3J0IHsgRkMgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENvbnRlbnRQYXJ0UHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcbmltcG9ydCB7IHVzZVNtb290aFN0YXR1cywgd2l0aFNtb290aENvbnRleHRQcm92aWRlciB9IGZyb20gXCIuLi91dGlscy9zbW9vdGhcIjtcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XG5cbmV4cG9ydCBjb25zdCBUZXh0OiBGQyA9ICgpID0+IHtcbiAgY29uc3Qgc3RhdHVzID0gdXNlU21vb3RoU3RhdHVzKCk7XG4gIHJldHVybiAoXG4gICAgPENvbnRlbnRQYXJ0UHJpbWl0aXZlLlRleHRcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgXCJhdWktdGV4dFwiLFxuICAgICAgICBzdGF0dXMudHlwZSA9PT0gXCJydW5uaW5nXCIgJiYgXCJhdWktdGV4dC1ydW5uaW5nXCIsXG4gICAgICApfVxuICAgICAgY29tcG9uZW50PVwicFwiXG4gICAgLz5cbiAgKTtcbn07XG5cbmNvbnN0IGV4cG9ydHMgPSB7IFRleHQ6IHdpdGhTbW9vdGhDb250ZXh0UHJvdmlkZXIoVGV4dCkgfTtcblxuZXhwb3J0IGRlZmF1bHQgZXhwb3J0cztcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB0eXBlIEZDLCBmb3J3YXJkUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCb3RJY29uLCBDaGV2cm9uRG93bkljb24gfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbmltcG9ydCB7IEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcbmltcG9ydCBUaHJlYWQgZnJvbSBcIi4vdGhyZWFkXCI7XG5pbXBvcnQgeyB3aXRoRGVmYXVsdHMgfSBmcm9tIFwiLi91dGlscy93aXRoRGVmYXVsdHNcIjtcbmltcG9ydCB7XG4gIFRvb2x0aXBJY29uQnV0dG9uLFxuICBUb29sdGlwSWNvbkJ1dHRvblByb3BzLFxufSBmcm9tIFwiLi9iYXNlL3Rvb2x0aXAtaWNvbi1idXR0b25cIjtcbmltcG9ydCB7XG4gIFRocmVhZENvbmZpZyxcbiAgVGhyZWFkQ29uZmlnUHJvdmlkZXIsXG4gIFRocmVhZENvbmZpZ1Byb3ZpZGVyUHJvcHMsXG4gIHVzZVRocmVhZENvbmZpZyxcbn0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuXG5jb25zdCBBc3Npc3RhbnRNb2RhbDogRkM8VGhyZWFkQ29uZmlnPiA9IChjb25maWcpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8QXNzaXN0YW50TW9kYWxSb290IGNvbmZpZz17Y29uZmlnfT5cbiAgICAgIDxBc3Npc3RhbnRNb2RhbFRyaWdnZXIgLz5cbiAgICAgIDxBc3Npc3RhbnRNb2RhbENvbnRlbnQ+XG4gICAgICAgIDxUaHJlYWQgLz5cbiAgICAgIDwvQXNzaXN0YW50TW9kYWxDb250ZW50PlxuICAgIDwvQXNzaXN0YW50TW9kYWxSb290PlxuICApO1xufTtcblxuQXNzaXN0YW50TW9kYWwuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsXCI7XG5cbm5hbWVzcGFjZSBBc3Npc3RhbnRNb2RhbFJvb3Qge1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlLlJvb3QuUHJvcHMgJlxuICAgIFRocmVhZENvbmZpZ1Byb3ZpZGVyUHJvcHM7XG59XG5cbmNvbnN0IEFzc2lzdGFudE1vZGFsUm9vdDogRkM8QXNzaXN0YW50TW9kYWxSb290LlByb3BzPiA9ICh7XG4gIGNvbmZpZyxcbiAgLi4ucHJvcHNcbn0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8VGhyZWFkQ29uZmlnUHJvdmlkZXIgY29uZmlnPXtjb25maWd9PlxuICAgICAgPEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlLlJvb3Qgey4uLnByb3BzfSAvPlxuICAgIDwvVGhyZWFkQ29uZmlnUHJvdmlkZXI+XG4gICk7XG59O1xuXG5Bc3Npc3RhbnRNb2RhbFJvb3QuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsUm9vdFwiO1xuXG5uYW1lc3BhY2UgQXNzaXN0YW50TW9kYWxUcmlnZ2VyIHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEhUTUxCdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz47XG59XG5cbmNvbnN0IEFzc2lzdGFudE1vZGFsVHJpZ2dlciA9IGZvcndhcmRSZWY8XG4gIEFzc2lzdGFudE1vZGFsVHJpZ2dlci5FbGVtZW50LFxuICBBc3Npc3RhbnRNb2RhbFRyaWdnZXIuUHJvcHNcbj4oKHByb3BzLCByZWYpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8QXNzaXN0YW50TW9kYWxBbmNob3I+XG4gICAgICA8QXNzaXN0YW50TW9kYWxQcmltaXRpdmUuVHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICA8QXNzaXN0YW50TW9kYWxCdXR0b24gey4uLnByb3BzfSByZWY9e3JlZn0gLz5cbiAgICAgIDwvQXNzaXN0YW50TW9kYWxQcmltaXRpdmUuVHJpZ2dlcj5cbiAgICA8L0Fzc2lzdGFudE1vZGFsQW5jaG9yPlxuICApO1xufSk7XG5cbkFzc2lzdGFudE1vZGFsVHJpZ2dlci5kaXNwbGF5TmFtZSA9IFwiQXNzaXN0YW50TW9kYWxUcmlnZ2VyXCI7XG5cbmNvbnN0IEFzc2lzdGFudE1vZGFsQW5jaG9yID0gd2l0aERlZmF1bHRzKEFzc2lzdGFudE1vZGFsUHJpbWl0aXZlLkFuY2hvciwge1xuICBjbGFzc05hbWU6IFwiYXVpLXJvb3QgYXVpLW1vZGFsLWFuY2hvclwiLFxufSk7XG5cbkFzc2lzdGFudE1vZGFsQW5jaG9yLmRpc3BsYXlOYW1lID0gXCJBc3Npc3RhbnRNb2RhbEFuY2hvclwiO1xuXG5jb25zdCBNb2RhbEJ1dHRvblN0eWxlZCA9IHdpdGhEZWZhdWx0cyhUb29sdGlwSWNvbkJ1dHRvbiwge1xuICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgY2xhc3NOYW1lOiBcImF1aS1tb2RhbC1idXR0b25cIixcbn0pO1xuXG5uYW1lc3BhY2UgQXNzaXN0YW50TW9kYWxCdXR0b24ge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gUGFydGlhbDxUb29sdGlwSWNvbkJ1dHRvblByb3BzPiAmIHtcbiAgICBcImRhdGEtc3RhdGVcIj86IFwib3BlblwiIHwgXCJjbG9zZWRcIjtcbiAgfTtcbn1cblxuY29uc3QgQXNzaXN0YW50TW9kYWxCdXR0b24gPSBmb3J3YXJkUmVmPFxuICBBc3Npc3RhbnRNb2RhbEJ1dHRvbi5FbGVtZW50LFxuICBBc3Npc3RhbnRNb2RhbEJ1dHRvbi5Qcm9wc1xuPigoeyBcImRhdGEtc3RhdGVcIjogc3RhdGUsIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICBhc3Npc3RhbnRNb2RhbDoge1xuICAgICAgICBvcGVuOiB7XG4gICAgICAgICAgYnV0dG9uOiB7IHRvb2x0aXA6IG9wZW5Ub29sdGlwID0gXCJDbG9zZSBBc3Npc3RhbnRcIiB9ID0ge30sXG4gICAgICAgIH0gPSB7fSxcbiAgICAgICAgY2xvc2VkOiB7XG4gICAgICAgICAgYnV0dG9uOiB7IHRvb2x0aXA6IGNsb3NlZFRvb2x0aXAgPSBcIk9wZW4gQXNzaXN0YW50XCIgfSA9IHt9LFxuICAgICAgICB9ID0ge30sXG4gICAgICB9ID0ge30sXG4gICAgfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIGNvbnN0IHRvb2x0aXAgPSBzdGF0ZSA9PT0gXCJvcGVuXCIgPyBvcGVuVG9vbHRpcCA6IGNsb3NlZFRvb2x0aXA7XG5cbiAgcmV0dXJuIChcbiAgICA8TW9kYWxCdXR0b25TdHlsZWRcbiAgICAgIHNpZGU9XCJsZWZ0XCJcbiAgICAgIHRvb2x0aXA9e3Rvb2x0aXB9XG4gICAgICBkYXRhLXN0YXRlPXtzdGF0ZX1cbiAgICAgIHsuLi5yZXN0fVxuICAgICAgcmVmPXtyZWZ9XG4gICAgPlxuICAgICAge3Jlc3QuY2hpbGRyZW4gPz8gKFxuICAgICAgICA8PlxuICAgICAgICAgIDxCb3RJY29uXG4gICAgICAgICAgICBkYXRhLXN0YXRlPXtzdGF0ZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImF1aS1tb2RhbC1idXR0b24tY2xvc2VkLWljb25cIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPENoZXZyb25Eb3duSWNvblxuICAgICAgICAgICAgZGF0YS1zdGF0ZT17c3RhdGV9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhdWktbW9kYWwtYnV0dG9uLW9wZW4taWNvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC8+XG4gICAgICApfVxuICAgIDwvTW9kYWxCdXR0b25TdHlsZWQ+XG4gICk7XG59KTtcblxuQXNzaXN0YW50TW9kYWxCdXR0b24uZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsQnV0dG9uXCI7XG5cbmNvbnN0IEFzc2lzdGFudE1vZGFsQ29udGVudCA9IHdpdGhEZWZhdWx0cyhBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZS5Db250ZW50LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktcm9vdCBhdWktbW9kYWwtY29udGVudFwiLFxuICBzaWRlT2Zmc2V0OiAxNixcbn0pO1xuXG5Bc3Npc3RhbnRNb2RhbENvbnRlbnQuZGlzcGxheU5hbWUgPSBcIkFzc2lzdGFudE1vZGFsQ29udGVudFwiO1xuXG5jb25zdCBleHBvcnRzID0ge1xuICBSb290OiBBc3Npc3RhbnRNb2RhbFJvb3QsXG4gIFRyaWdnZXI6IEFzc2lzdGFudE1vZGFsVHJpZ2dlcixcbiAgQ29udGVudDogQXNzaXN0YW50TW9kYWxDb250ZW50LFxuICBCdXR0b246IEFzc2lzdGFudE1vZGFsQnV0dG9uLFxuICBBbmNob3I6IEFzc2lzdGFudE1vZGFsQW5jaG9yLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbihBc3Npc3RhbnRNb2RhbCwgZXhwb3J0cykgYXMgdHlwZW9mIEFzc2lzdGFudE1vZGFsICZcbiAgdHlwZW9mIGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50VHlwZSwgZm9yd2FyZFJlZiwgdHlwZSBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQXJyb3dEb3duSWNvbiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgQ29tcG9zZXIgZnJvbSBcIi4vY29tcG9zZXJcIjtcbmltcG9ydCBUaHJlYWRXZWxjb21lIGZyb20gXCIuL3RocmVhZC13ZWxjb21lXCI7XG5pbXBvcnQge1xuICBUb29sdGlwSWNvbkJ1dHRvbixcbiAgVG9vbHRpcEljb25CdXR0b25Qcm9wcyxcbn0gZnJvbSBcIi4vYmFzZS90b29sdGlwLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgQXNzaXN0YW50TWVzc2FnZSBmcm9tIFwiLi9hc3Npc3RhbnQtbWVzc2FnZVwiO1xuaW1wb3J0IFVzZXJNZXNzYWdlIGZyb20gXCIuL3VzZXItbWVzc2FnZVwiO1xuaW1wb3J0IEVkaXRDb21wb3NlciBmcm9tIFwiLi9lZGl0LWNvbXBvc2VyXCI7XG5pbXBvcnQge1xuICBUaHJlYWRDb25maWcsXG4gIFRocmVhZENvbmZpZ1Byb3ZpZGVyLFxuICBUaHJlYWRDb25maWdQcm92aWRlclByb3BzLFxuICB1c2VUaHJlYWRDb25maWcsXG59IGZyb20gXCIuL3RocmVhZC1jb25maWdcIjtcbmltcG9ydCB7IFRocmVhZFByaW1pdGl2ZSB9IGZyb20gXCIuLi9wcmltaXRpdmVzXCI7XG5pbXBvcnQgeyB1c2VUaHJlYWQgfSBmcm9tIFwiLi4vY29udGV4dFwiO1xuXG5jb25zdCBUaHJlYWQ6IEZDPFRocmVhZENvbmZpZz4gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBDb21wb3NlcjogQ29tcG9zZXJDb21wb25lbnQgPSBDb21wb3NlcixcbiAgICAgIFRocmVhZFdlbGNvbWU6IFRocmVhZFdlbGNvbWVDb21wb25lbnQgPSBUaHJlYWRXZWxjb21lLFxuICAgIH0gPSB7fSxcbiAgfSA9IGNvbmZpZztcbiAgcmV0dXJuIChcbiAgICA8VGhyZWFkUm9vdCBjb25maWc9e2NvbmZpZ30+XG4gICAgICA8VGhyZWFkVmlld3BvcnQ+XG4gICAgICAgIDxUaHJlYWRXZWxjb21lQ29tcG9uZW50IC8+XG4gICAgICAgIDxUaHJlYWRNZXNzYWdlcyAvPlxuICAgICAgICA8VGhyZWFkRm9sbG93dXBTdWdnZXN0aW9ucyAvPlxuICAgICAgICA8VGhyZWFkVmlld3BvcnRGb290ZXI+XG4gICAgICAgICAgPFRocmVhZFNjcm9sbFRvQm90dG9tIC8+XG4gICAgICAgICAgPENvbXBvc2VyQ29tcG9uZW50IC8+XG4gICAgICAgIDwvVGhyZWFkVmlld3BvcnRGb290ZXI+XG4gICAgICA8L1RocmVhZFZpZXdwb3J0PlxuICAgIDwvVGhyZWFkUm9vdD5cbiAgKTtcbn07XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBUaHJlYWQuUm9vdC5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBUaHJlYWRSb290UHJvcHMgPSBUaHJlYWRSb290LlByb3BzO1xuXG5uYW1lc3BhY2UgVGhyZWFkUm9vdCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MRGl2RWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBUaHJlYWRQcmltaXRpdmUuUm9vdC5Qcm9wcyAmIFRocmVhZENvbmZpZ1Byb3ZpZGVyUHJvcHM7XG59XG5cbmNvbnN0IFRocmVhZFJvb3RTdHlsZWQgPSB3aXRoRGVmYXVsdHMoVGhyZWFkUHJpbWl0aXZlLlJvb3QsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1yb290IGF1aS10aHJlYWQtcm9vdFwiLFxufSk7XG5cbmNvbnN0IFRocmVhZFJvb3QgPSBmb3J3YXJkUmVmPFRocmVhZFJvb3QuRWxlbWVudCwgVGhyZWFkUm9vdC5Qcm9wcz4oXG4gICh7IGNvbmZpZywgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaHJlYWRDb25maWdQcm92aWRlciBjb25maWc9e2NvbmZpZ30+XG4gICAgICAgIDxUaHJlYWRSb290U3R5bGVkIHsuLi5wcm9wc30gcmVmPXtyZWZ9IC8+XG4gICAgICA8L1RocmVhZENvbmZpZ1Byb3ZpZGVyPlxuICAgICk7XG4gIH0sXG4pO1xuXG5UaHJlYWRSb290LmRpc3BsYXlOYW1lID0gXCJUaHJlYWRSb290XCI7XG5cbmNvbnN0IFRocmVhZFZpZXdwb3J0ID0gd2l0aERlZmF1bHRzKFRocmVhZFByaW1pdGl2ZS5WaWV3cG9ydCwge1xuICBjbGFzc05hbWU6IFwiYXVpLXRocmVhZC12aWV3cG9ydFwiLFxufSk7XG5cblRocmVhZFZpZXdwb3J0LmRpc3BsYXlOYW1lID0gXCJUaHJlYWRWaWV3cG9ydFwiO1xuXG5jb25zdCBUaHJlYWRWaWV3cG9ydEZvb3RlciA9IHdpdGhEZWZhdWx0cyhcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogXCJhdWktdGhyZWFkLXZpZXdwb3J0LWZvb3RlclwiLFxufSk7XG5cblRocmVhZFZpZXdwb3J0Rm9vdGVyLmRpc3BsYXlOYW1lID0gXCJUaHJlYWRWaWV3cG9ydEZvb3RlclwiO1xuXG5jb25zdCBTeXN0ZW1NZXNzYWdlID0gKCkgPT4gbnVsbDtcblxuY29uc3QgVGhyZWFkTWVzc2FnZXM6IEZDPHtcbiAgdW5zdGFibGVfZmxleEdyb3dEaXY/OiBib29sZWFuO1xuICBjb21wb25lbnRzPzoge1xuICAgIFVzZXJNZXNzYWdlPzogQ29tcG9uZW50VHlwZSB8IHVuZGVmaW5lZDtcbiAgICBFZGl0Q29tcG9zZXI/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgIEFzc2lzdGFudE1lc3NhZ2U/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICAgIFN5c3RlbU1lc3NhZ2U/OiBDb21wb25lbnRUeXBlIHwgdW5kZWZpbmVkO1xuICB9O1xufT4gPSAoeyBjb21wb25lbnRzLCB1bnN0YWJsZV9mbGV4R3Jvd0RpdjogZmxleEdyb3dEaXYgPSB0cnVlLCAuLi5yZXN0IH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPFRocmVhZFByaW1pdGl2ZS5NZXNzYWdlc1xuICAgICAgICBjb21wb25lbnRzPXt7XG4gICAgICAgICAgVXNlck1lc3NhZ2U6IGNvbXBvbmVudHM/LlVzZXJNZXNzYWdlID8/IFVzZXJNZXNzYWdlLFxuICAgICAgICAgIEVkaXRDb21wb3NlcjogY29tcG9uZW50cz8uRWRpdENvbXBvc2VyID8/IEVkaXRDb21wb3NlcixcbiAgICAgICAgICBBc3Npc3RhbnRNZXNzYWdlOiBjb21wb25lbnRzPy5Bc3Npc3RhbnRNZXNzYWdlID8/IEFzc2lzdGFudE1lc3NhZ2UsXG4gICAgICAgICAgU3lzdGVtTWVzc2FnZTogY29tcG9uZW50cz8uU3lzdGVtTWVzc2FnZSA/PyBTeXN0ZW1NZXNzYWdlLFxuICAgICAgICB9fVxuICAgICAgICB7Li4ucmVzdH1cbiAgICAgIC8+XG4gICAgICB7ZmxleEdyb3dEaXYgJiYgKFxuICAgICAgICA8VGhyZWFkUHJpbWl0aXZlLklmIGVtcHR5PXtmYWxzZX0+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4R3JvdzogMSB9fSAvPlxuICAgICAgICA8L1RocmVhZFByaW1pdGl2ZS5JZj5cbiAgICAgICl9XG4gICAgPC8+XG4gICk7XG59O1xuXG5UaHJlYWRNZXNzYWdlcy5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkTWVzc2FnZXNcIjtcblxuY29uc3QgVGhyZWFkRm9sbG93dXBTdWdnZXN0aW9uczogRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHN1Z2dlc3Rpb25zID0gdXNlVGhyZWFkKCh0KSA9PiB0LnN1Z2dlc3Rpb25zKTtcblxuICByZXR1cm4gKFxuICAgIDxUaHJlYWRQcmltaXRpdmUuSWYgZW1wdHk9e2ZhbHNlfSBydW5uaW5nPXtmYWxzZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1aS10aHJlYWQtZm9sbG93dXAtc3VnZ2VzdGlvbnNcIj5cbiAgICAgICAge3N1Z2dlc3Rpb25zPy5tYXAoKHN1Z2dlc3Rpb24sIGlkeCkgPT4gKFxuICAgICAgICAgIDxUaHJlYWRQcmltaXRpdmUuU3VnZ2VzdGlvblxuICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhdWktdGhyZWFkLWZvbGxvd3VwLXN1Z2dlc3Rpb25cIlxuICAgICAgICAgICAgcHJvbXB0PXtzdWdnZXN0aW9uLnByb21wdH1cbiAgICAgICAgICAgIG1ldGhvZD1cInJlcGxhY2VcIlxuICAgICAgICAgICAgYXV0b1NlbmRcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7c3VnZ2VzdGlvbi5wcm9tcHR9XG4gICAgICAgICAgPC9UaHJlYWRQcmltaXRpdmUuU3VnZ2VzdGlvbj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L1RocmVhZFByaW1pdGl2ZS5JZj5cbiAgKTtcbn07XG5cbmNvbnN0IFRocmVhZFNjcm9sbFRvQm90dG9tSWNvbkJ1dHRvbiA9IHdpdGhEZWZhdWx0cyhUb29sdGlwSWNvbkJ1dHRvbiwge1xuICB2YXJpYW50OiBcIm91dGxpbmVcIixcbiAgY2xhc3NOYW1lOiBcImF1aS10aHJlYWQtc2Nyb2xsLXRvLWJvdHRvbVwiLFxufSk7XG5cbm5hbWVzcGFjZSBUaHJlYWRTY3JvbGxUb0JvdHRvbSB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+O1xufVxuXG5jb25zdCBUaHJlYWRTY3JvbGxUb0JvdHRvbSA9IGZvcndhcmRSZWY8XG4gIFRocmVhZFNjcm9sbFRvQm90dG9tLkVsZW1lbnQsXG4gIFRocmVhZFNjcm9sbFRvQm90dG9tLlByb3BzXG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICB0aHJlYWQ6IHsgc2Nyb2xsVG9Cb3R0b206IHsgdG9vbHRpcCA9IFwiU2Nyb2xsIHRvIGJvdHRvbVwiIH0gPSB7fSB9ID0ge30sXG4gICAgfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIHJldHVybiAoXG4gICAgPFRocmVhZFByaW1pdGl2ZS5TY3JvbGxUb0JvdHRvbSBhc0NoaWxkPlxuICAgICAgPFRocmVhZFNjcm9sbFRvQm90dG9tSWNvbkJ1dHRvbiB0b29sdGlwPXt0b29sdGlwfSB7Li4ucHJvcHN9IHJlZj17cmVmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxBcnJvd0Rvd25JY29uIC8+fVxuICAgICAgPC9UaHJlYWRTY3JvbGxUb0JvdHRvbUljb25CdXR0b24+XG4gICAgPC9UaHJlYWRQcmltaXRpdmUuU2Nyb2xsVG9Cb3R0b20+XG4gICk7XG59KTtcblxuVGhyZWFkU2Nyb2xsVG9Cb3R0b20uZGlzcGxheU5hbWUgPSBcIlRocmVhZFNjcm9sbFRvQm90dG9tXCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IFRocmVhZFJvb3QsXG4gIFZpZXdwb3J0OiBUaHJlYWRWaWV3cG9ydCxcbiAgTWVzc2FnZXM6IFRocmVhZE1lc3NhZ2VzLFxuICBGb2xsb3d1cFN1Z2dlc3Rpb25zOiBUaHJlYWRGb2xsb3d1cFN1Z2dlc3Rpb25zLFxuICBTY3JvbGxUb0JvdHRvbTogVGhyZWFkU2Nyb2xsVG9Cb3R0b20sXG4gIFZpZXdwb3J0Rm9vdGVyOiBUaHJlYWRWaWV3cG9ydEZvb3Rlcixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oVGhyZWFkLCBleHBvcnRzKSBhcyB0eXBlb2YgVGhyZWFkICYgdHlwZW9mIGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBmb3J3YXJkUmVmLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IFBhcGVyY2xpcEljb24sIFNlbmRIb3Jpem9udGFsSWNvbiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29uZmlnIH0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuaW1wb3J0IHtcbiAgVG9vbHRpcEljb25CdXR0b24sXG4gIFRvb2x0aXBJY29uQnV0dG9uUHJvcHMsXG59IGZyb20gXCIuL2Jhc2UvdG9vbHRpcC1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IHsgQ2lyY2xlU3RvcEljb24gfSBmcm9tIFwiLi9iYXNlL0NpcmNsZVN0b3BJY29uXCI7XG5pbXBvcnQgeyBDb21wb3NlclByaW1pdGl2ZSwgVGhyZWFkUHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcbmltcG9ydCB7IHVzZVRocmVhZCB9IGZyb20gXCIuLi9jb250ZXh0L3JlYWN0L1RocmVhZENvbnRleHRcIjtcbmltcG9ydCBBdHRhY2htZW50IGZyb20gXCIuL2F0dGFjaG1lbnRcIjtcblxuY29uc3QgdXNlQWxsb3dBdHRhY2htZW50cyA9IChlbnN1cmVDYXBhYmlsaXR5ID0gZmFsc2UpID0+IHtcbiAgY29uc3QgeyBjb21wb3NlcjogeyBhbGxvd0F0dGFjaG1lbnRzID0gdHJ1ZSB9ID0ge30gfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBhdHRhY2htZW50c1N1cHBvcnRlZCA9IHVzZVRocmVhZCgodCkgPT4gdC5jYXBhYmlsaXRpZXMuYXR0YWNobWVudHMpO1xuICByZXR1cm4gYWxsb3dBdHRhY2htZW50cyAmJiAoIWVuc3VyZUNhcGFiaWxpdHkgfHwgYXR0YWNobWVudHNTdXBwb3J0ZWQpO1xufTtcblxuY29uc3QgQ29tcG9zZXI6IEZDID0gKCkgPT4ge1xuICBjb25zdCBhbGxvd0F0dGFjaG1lbnRzID0gdXNlQWxsb3dBdHRhY2htZW50cyh0cnVlKTtcbiAgcmV0dXJuIChcbiAgICA8Q29tcG9zZXJSb290PlxuICAgICAge2FsbG93QXR0YWNobWVudHMgJiYgPENvbXBvc2VyQXR0YWNobWVudHMgLz59XG4gICAgICB7YWxsb3dBdHRhY2htZW50cyAmJiA8Q29tcG9zZXJBZGRBdHRhY2htZW50IC8+fVxuICAgICAgPENvbXBvc2VySW5wdXQgYXV0b0ZvY3VzIC8+XG4gICAgICA8Q29tcG9zZXJBY3Rpb24gLz5cbiAgICA8L0NvbXBvc2VyUm9vdD5cbiAgKTtcbn07XG5cbkNvbXBvc2VyLmRpc3BsYXlOYW1lID0gXCJDb21wb3NlclwiO1xuXG5jb25zdCBDb21wb3NlclJvb3QgPSB3aXRoRGVmYXVsdHMoQ29tcG9zZXJQcmltaXRpdmUuUm9vdCwge1xuICBjbGFzc05hbWU6IFwiYXVpLWNvbXBvc2VyLXJvb3RcIixcbn0pO1xuXG5Db21wb3NlclJvb3QuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyUm9vdFwiO1xuXG5jb25zdCBDb21wb3NlcklucHV0U3R5bGVkID0gd2l0aERlZmF1bHRzKENvbXBvc2VyUHJpbWl0aXZlLklucHV0LCB7XG4gIHJvd3M6IDEsXG4gIGF1dG9Gb2N1czogdHJ1ZSxcbiAgY2xhc3NOYW1lOiBcImF1aS1jb21wb3Nlci1pbnB1dFwiLFxufSk7XG5cbm5hbWVzcGFjZSBDb21wb3NlcklucHV0IHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBDb21wb3NlcklucHV0U3R5bGVkPjtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYENvbXBvc2VySW5wdXQuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgQ29tcG9zZXJJbnB1dFByb3BzID0gQ29tcG9zZXJJbnB1dC5Qcm9wcztcblxuY29uc3QgQ29tcG9zZXJJbnB1dCA9IGZvcndhcmRSZWY8Q29tcG9zZXJJbnB1dC5FbGVtZW50LCBDb21wb3NlcklucHV0LlByb3BzPihcbiAgKHByb3BzLCByZWYpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzdHJpbmdzOiB7XG4gICAgICAgIGNvbXBvc2VyOiB7IGlucHV0OiB7IHBsYWNlaG9sZGVyID0gXCJXcml0ZSBhIG1lc3NhZ2UuLi5cIiB9ID0ge30gfSA9IHt9LFxuICAgICAgfSA9IHt9LFxuICAgIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvc2VySW5wdXRTdHlsZWQgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfSB7Li4ucHJvcHN9IHJlZj17cmVmfSAvPlxuICAgICk7XG4gIH0sXG4pO1xuXG5Db21wb3NlcklucHV0LmRpc3BsYXlOYW1lID0gXCJDb21wb3NlcklucHV0XCI7XG5cbmNvbnN0IENvbXBvc2VyQXR0YWNobWVudHNDb250YWluZXIgPSB3aXRoRGVmYXVsdHMoXCJkaXZcIiwge1xuICBjbGFzc05hbWU6IFwiYXVpLWNvbXBvc2VyLWF0dGFjaG1lbnRzXCIsXG59KTtcblxubmFtZXNwYWNlIENvbXBvc2VyQXR0YWNobWVudHMge1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFBhcnRpYWw8Q29tcG9zZXJQcmltaXRpdmUuQXR0YWNobWVudHMuUHJvcHM+O1xufVxuXG5jb25zdCBDb21wb3NlckF0dGFjaG1lbnRzOiBGQzxDb21wb3NlckF0dGFjaG1lbnRzLlByb3BzPiA9ICh7IGNvbXBvbmVudHMgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxDb21wb3NlckF0dGFjaG1lbnRzQ29udGFpbmVyPlxuICAgICAgPENvbXBvc2VyUHJpbWl0aXZlLkF0dGFjaG1lbnRzXG4gICAgICAgIGNvbXBvbmVudHM9e3tcbiAgICAgICAgICAuLi5jb21wb25lbnRzLFxuICAgICAgICAgIEF0dGFjaG1lbnQ6IGNvbXBvbmVudHM/LkF0dGFjaG1lbnQgPz8gQXR0YWNobWVudCxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgPC9Db21wb3NlckF0dGFjaG1lbnRzQ29udGFpbmVyPlxuICApO1xufTtcblxuY29uc3QgQ29tcG9zZXJBdHRhY2hCdXR0b24gPSB3aXRoRGVmYXVsdHMoVG9vbHRpcEljb25CdXR0b24sIHtcbiAgdmFyaWFudDogXCJkZWZhdWx0XCIsXG4gIGNsYXNzTmFtZTogXCJhdWktY29tcG9zZXItYXR0YWNoXCIsXG59KTtcblxubmFtZXNwYWNlIENvbXBvc2VyQWRkQXR0YWNobWVudCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQYXJ0aWFsPFRvb2x0aXBJY29uQnV0dG9uUHJvcHM+O1xufVxuXG5jb25zdCBDb21wb3NlckFkZEF0dGFjaG1lbnQgPSBmb3J3YXJkUmVmPFxuICBDb21wb3NlckFkZEF0dGFjaG1lbnQuRWxlbWVudCxcbiAgQ29tcG9zZXJBZGRBdHRhY2htZW50LlByb3BzXG4+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBzdHJpbmdzOiB7XG4gICAgICBjb21wb3NlcjogeyBhZGRBdHRhY2htZW50OiB7IHRvb2x0aXAgPSBcIkF0dGFjaCBmaWxlXCIgfSA9IHt9IH0gPSB7fSxcbiAgICB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgY29uc3QgYWxsb3dBdHRhY2htZW50cyA9IHVzZUFsbG93QXR0YWNobWVudHMoKTtcbiAgcmV0dXJuIChcbiAgICA8Q29tcG9zZXJQcmltaXRpdmUuQWRkQXR0YWNobWVudCBkaXNhYmxlZD17IWFsbG93QXR0YWNobWVudHN9IGFzQ2hpbGQ+XG4gICAgICA8Q29tcG9zZXJBdHRhY2hCdXR0b25cbiAgICAgICAgdG9vbHRpcD17dG9vbHRpcH1cbiAgICAgICAgdmFyaWFudD17XCJnaG9zdFwifVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgPlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW4gPz8gPFBhcGVyY2xpcEljb24gLz59XG4gICAgICA8L0NvbXBvc2VyQXR0YWNoQnV0dG9uPlxuICAgIDwvQ29tcG9zZXJQcmltaXRpdmUuQWRkQXR0YWNobWVudD5cbiAgKTtcbn0pO1xuXG5Db21wb3NlckFkZEF0dGFjaG1lbnQuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyQWRkQXR0YWNobWVudFwiO1xuXG5jb25zdCB1c2VBbGxvd0NhbmNlbCA9ICgpID0+IHtcbiAgY29uc3QgY2FuY2VsU3VwcG9ydGVkID0gdXNlVGhyZWFkKCh0KSA9PiB0LmNhcGFiaWxpdGllcy5jYW5jZWwpO1xuICByZXR1cm4gY2FuY2VsU3VwcG9ydGVkO1xufTtcblxuY29uc3QgQ29tcG9zZXJBY3Rpb246IEZDID0gKCkgPT4ge1xuICBjb25zdCBhbGxvd0NhbmNlbCA9IHVzZUFsbG93Q2FuY2VsKCk7XG4gIGlmICghYWxsb3dDYW5jZWwpIHJldHVybiA8Q29tcG9zZXJTZW5kIC8+O1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8VGhyZWFkUHJpbWl0aXZlLklmIHJ1bm5pbmc9e2ZhbHNlfT5cbiAgICAgICAgPENvbXBvc2VyU2VuZCAvPlxuICAgICAgPC9UaHJlYWRQcmltaXRpdmUuSWY+XG4gICAgICA8VGhyZWFkUHJpbWl0aXZlLklmIHJ1bm5pbmc+XG4gICAgICAgIDxDb21wb3NlckNhbmNlbCAvPlxuICAgICAgPC9UaHJlYWRQcmltaXRpdmUuSWY+XG4gICAgPC8+XG4gICk7XG59O1xuXG5Db21wb3NlckFjdGlvbi5kaXNwbGF5TmFtZSA9IFwiQ29tcG9zZXJBY3Rpb25cIjtcblxuY29uc3QgQ29tcG9zZXJTZW5kQnV0dG9uID0gd2l0aERlZmF1bHRzKFRvb2x0aXBJY29uQnV0dG9uLCB7XG4gIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICBjbGFzc05hbWU6IFwiYXVpLWNvbXBvc2VyLXNlbmRcIixcbn0pO1xuXG5uYW1lc3BhY2UgQ29tcG9zZXJTZW5kIHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEhUTUxCdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz47XG59XG5cbmNvbnN0IENvbXBvc2VyU2VuZCA9IGZvcndhcmRSZWY8Q29tcG9zZXJTZW5kLkVsZW1lbnQsIENvbXBvc2VyU2VuZC5Qcm9wcz4oXG4gIChwcm9wcywgcmVmKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc3RyaW5nczogeyBjb21wb3NlcjogeyBzZW5kOiB7IHRvb2x0aXAgPSBcIlNlbmRcIiB9ID0ge30gfSA9IHt9IH0gPSB7fSxcbiAgICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wb3NlclByaW1pdGl2ZS5TZW5kIGFzQ2hpbGQ+XG4gICAgICAgIDxDb21wb3NlclNlbmRCdXR0b24gdG9vbHRpcD17dG9vbHRpcH0gey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgICAge3Byb3BzLmNoaWxkcmVuID8/IDxTZW5kSG9yaXpvbnRhbEljb24gLz59XG4gICAgICAgIDwvQ29tcG9zZXJTZW5kQnV0dG9uPlxuICAgICAgPC9Db21wb3NlclByaW1pdGl2ZS5TZW5kPlxuICAgICk7XG4gIH0sXG4pO1xuXG5Db21wb3NlclNlbmQuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyU2VuZFwiO1xuXG5jb25zdCBDb21wb3NlckNhbmNlbEJ1dHRvbiA9IHdpdGhEZWZhdWx0cyhUb29sdGlwSWNvbkJ1dHRvbiwge1xuICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgY2xhc3NOYW1lOiBcImF1aS1jb21wb3Nlci1jYW5jZWxcIixcbn0pO1xuXG5uYW1lc3BhY2UgQ29tcG9zZXJDYW5jZWwge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gUGFydGlhbDxUb29sdGlwSWNvbkJ1dHRvblByb3BzPjtcbn1cblxuY29uc3QgQ29tcG9zZXJDYW5jZWwgPSBmb3J3YXJkUmVmPENvbXBvc2VyQ2FuY2VsLkVsZW1lbnQsIENvbXBvc2VyQ2FuY2VsLlByb3BzPihcbiAgKHByb3BzLCByZWYpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzdHJpbmdzOiB7IGNvbXBvc2VyOiB7IGNhbmNlbDogeyB0b29sdGlwID0gXCJDYW5jZWxcIiB9ID0ge30gfSA9IHt9IH0gPSB7fSxcbiAgICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wb3NlclByaW1pdGl2ZS5DYW5jZWwgYXNDaGlsZD5cbiAgICAgICAgPENvbXBvc2VyQ2FuY2VsQnV0dG9uIHRvb2x0aXA9e3Rvb2x0aXB9IHsuLi5wcm9wc30gcmVmPXtyZWZ9PlxuICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyA8Q2lyY2xlU3RvcEljb24gLz59XG4gICAgICAgIDwvQ29tcG9zZXJDYW5jZWxCdXR0b24+XG4gICAgICA8L0NvbXBvc2VyUHJpbWl0aXZlLkNhbmNlbD5cbiAgICApO1xuICB9LFxuKTtcblxuQ29tcG9zZXJDYW5jZWwuZGlzcGxheU5hbWUgPSBcIkNvbXBvc2VyQ2FuY2VsXCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IENvbXBvc2VyUm9vdCxcbiAgSW5wdXQ6IENvbXBvc2VySW5wdXQsXG4gIEFjdGlvbjogQ29tcG9zZXJBY3Rpb24sXG4gIFNlbmQ6IENvbXBvc2VyU2VuZCxcbiAgQ2FuY2VsOiBDb21wb3NlckNhbmNlbCxcbiAgQWRkQXR0YWNobWVudDogQ29tcG9zZXJBZGRBdHRhY2htZW50LFxuICBBdHRhY2htZW50czogQ29tcG9zZXJBdHRhY2htZW50cyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oQ29tcG9zZXIsIGV4cG9ydHMpIGFzIHR5cGVvZiBDb21wb3NlciAmXG4gIHR5cGVvZiBleHBvcnRzO1xuIiwiaW1wb3J0IHsgRkMgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNvbnN0IENpcmNsZVN0b3BJY29uOiBGQyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8c3ZnXG4gICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgIHZpZXdCb3g9XCIwIDAgMTYgMTZcIlxuICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICB3aWR0aD1cIjE2XCJcbiAgICAgIGhlaWdodD1cIjE2XCJcbiAgICA+XG4gICAgICA8cmVjdCB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIiB4PVwiM1wiIHk9XCIzXCIgcng9XCIyXCIgLz5cbiAgICA8L3N2Zz5cbiAgKTtcbn07XG5cbkNpcmNsZVN0b3BJY29uLmRpc3BsYXlOYW1lID0gXCJDaXJjbGVTdG9wSWNvblwiO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIGZvcndhcmRSZWYsXG4gIFByb3BzV2l0aENoaWxkcmVuLFxuICB1c2VFZmZlY3QsXG4gIHVzZVN0YXRlLFxuICB0eXBlIEZDLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENpcmNsZVhJY29uLCBGaWxlSWNvbiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3V0aWxzL3dpdGhEZWZhdWx0c1wiO1xuaW1wb3J0IHsgdXNlVGhyZWFkQ29uZmlnIH0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuaW1wb3J0IHtcbiAgVG9vbHRpcEljb25CdXR0b24sXG4gIFRvb2x0aXBJY29uQnV0dG9uUHJvcHMsXG59IGZyb20gXCIuL2Jhc2UvdG9vbHRpcC1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IHsgQXR0YWNobWVudFByaW1pdGl2ZSB9IGZyb20gXCIuLi9wcmltaXRpdmVzXCI7XG5pbXBvcnQgeyB1c2VBdHRhY2htZW50IH0gZnJvbSBcIi4uL2NvbnRleHQvcmVhY3QvQXR0YWNobWVudENvbnRleHRcIjtcbmltcG9ydCB7XG4gIEF2YXRhckltYWdlLFxuICBBdmF0YXJSb290LFxuICBUb29sdGlwLFxuICBUb29sdGlwQ29udGVudCxcbiAgVG9vbHRpcFRyaWdnZXIsXG59IGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCB7IERpYWxvZywgRGlhbG9nVHJpZ2dlciwgRGlhbG9nQ29udGVudCB9IGZyb20gXCIuL2Jhc2UvZGlhbG9nXCI7XG5pbXBvcnQgeyBBdmF0YXJGYWxsYmFjayB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtYXZhdGFyXCI7XG5cbmNvbnN0IEF0dGFjaG1lbnRSb290ID0gd2l0aERlZmF1bHRzKEF0dGFjaG1lbnRQcmltaXRpdmUuUm9vdCwge1xuICBjbGFzc05hbWU6IFwiYXVpLWF0dGFjaG1lbnQtcm9vdFwiLFxufSk7XG5cbkF0dGFjaG1lbnRSb290LmRpc3BsYXlOYW1lID0gXCJBdHRhY2htZW50Um9vdFwiO1xuXG5jb25zdCB1c2VGaWxlU3JjID0gKGZpbGU6IEZpbGUgfCB1bmRlZmluZWQpID0+IHtcbiAgY29uc3QgW3NyYywgc2V0U3JjXSA9IHVzZVN0YXRlPHN0cmluZyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZmlsZSkge1xuICAgICAgc2V0U3JjKHVuZGVmaW5lZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgb2JqZWN0VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICBzZXRTcmMob2JqZWN0VXJsKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKG9iamVjdFVybCk7XG4gICAgfTtcbiAgfSwgW2ZpbGVdKTtcblxuICByZXR1cm4gc3JjO1xufTtcblxuY29uc3QgdXNlQXR0YWNobWVudFNyYyA9ICgpID0+IHtcbiAgY29uc3QgeyBmaWxlLCBzcmMgfSA9IHVzZUF0dGFjaG1lbnQoKGEpOiB7IGZpbGU/OiBGaWxlOyBzcmM/OiBzdHJpbmcgfSA9PiB7XG4gICAgaWYgKGEudHlwZSAhPT0gXCJpbWFnZVwiKSByZXR1cm4ge307XG4gICAgaWYgKGEuZmlsZSkgcmV0dXJuIHsgZmlsZTogYS5maWxlIH07XG4gICAgY29uc3Qgc3JjID0gYS5jb250ZW50Py5maWx0ZXIoKGMpID0+IGMudHlwZSA9PT0gXCJpbWFnZVwiKVswXT8uaW1hZ2U7XG4gICAgaWYgKCFzcmMpIHJldHVybiB7fTtcbiAgICByZXR1cm4geyBzcmMgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHVzZUZpbGVTcmMoZmlsZSkgPz8gc3JjO1xufTtcblxudHlwZSBBdHRhY2htZW50UHJldmlld1Byb3BzID0ge1xuICBzcmM6IHN0cmluZztcbn07XG5cbmNvbnN0IEF0dGFjaG1lbnRQcmV2aWV3OiBGQzxBdHRhY2htZW50UHJldmlld1Byb3BzPiA9ICh7IHNyYyB9KSA9PiB7XG4gIGNvbnN0IFtpc0xvYWRlZCwgc2V0SXNMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHJldHVybiAoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBuZXh0L25leHQvbm8taW1nLWVsZW1lbnRcbiAgICA8aW1nXG4gICAgICBzcmM9e3NyY31cbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgbWF4V2lkdGg6IFwiNzVkdmhcIixcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjc1ZHZoXCIsXG4gICAgICAgIGRpc3BsYXk6IGlzTG9hZGVkID8gXCJibG9ja1wiIDogXCJub25lXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImNsaXBcIixcbiAgICAgIH19XG4gICAgICBvbkxvYWQ9eygpID0+IHNldElzTG9hZGVkKHRydWUpfVxuICAgICAgYWx0PVwiSW1hZ2UgUHJldmlld1wiXG4gICAgLz5cbiAgKTtcbn07XG5cbmNvbnN0IEF0dGFjaG1lbnRQcmV2aWV3RGlhbG9nOiBGQzxQcm9wc1dpdGhDaGlsZHJlbj4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IHNyYyA9IHVzZUF0dGFjaG1lbnRTcmMoKTtcblxuICBpZiAoIXNyYykgcmV0dXJuIGNoaWxkcmVuO1xuXG4gIHJldHVybiAoXG4gICAgPERpYWxvZz5cbiAgICAgIDxEaWFsb2dUcmlnZ2VyIGNsYXNzTmFtZT1cImF1aS1hdHRhY2htZW50LXByZXZpZXctdHJpZ2dlclwiIGFzQ2hpbGQ+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvRGlhbG9nVHJpZ2dlcj5cbiAgICAgIDxEaWFsb2dDb250ZW50PlxuICAgICAgICA8QXR0YWNobWVudFByZXZpZXcgc3JjPXtzcmN9IC8+XG4gICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgPC9EaWFsb2c+XG4gICk7XG59O1xuXG5jb25zdCBBdHRhY2htZW50VGh1bWI6IEZDID0gKCkgPT4ge1xuICBjb25zdCBpc0ltYWdlID0gdXNlQXR0YWNobWVudCgoYSkgPT4gYS50eXBlID09PSBcImltYWdlXCIpO1xuICBjb25zdCBzcmMgPSB1c2VBdHRhY2htZW50U3JjKCk7XG4gIHJldHVybiAoXG4gICAgPEF2YXRhclJvb3QgY2xhc3NOYW1lPVwiYXVpLWF0dGFjaG1lbnQtdGh1bWJcIj5cbiAgICAgIDxBdmF0YXJGYWxsYmFjayBkZWxheU1zPXtpc0ltYWdlID8gMjAwIDogMH0+XG4gICAgICAgIDxGaWxlSWNvbiAvPlxuICAgICAgPC9BdmF0YXJGYWxsYmFjaz5cbiAgICAgIDxBdmF0YXJJbWFnZSBzcmM9e3NyY30+PC9BdmF0YXJJbWFnZT5cbiAgICA8L0F2YXRhclJvb3Q+XG4gICk7XG59O1xuXG5jb25zdCBBdHRhY2htZW50OiBGQyA9ICgpID0+IHtcbiAgY29uc3QgY2FuUmVtb3ZlID0gdXNlQXR0YWNobWVudCgoYSkgPT4gYS5zb3VyY2UgIT09IFwibWVzc2FnZVwiKTtcbiAgY29uc3QgdHlwZUxhYmVsID0gdXNlQXR0YWNobWVudCgoYSkgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBhLnR5cGU7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgcmV0dXJuIFwiSW1hZ2VcIjtcbiAgICAgIGNhc2UgXCJkb2N1bWVudFwiOlxuICAgICAgICByZXR1cm4gXCJEb2N1bWVudFwiO1xuICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSB0eXBlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gYXR0YWNobWVudCB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIChcbiAgICA8VG9vbHRpcD5cbiAgICAgIDxBdHRhY2htZW50UHJldmlld0RpYWxvZz5cbiAgICAgICAgPFRvb2x0aXBUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgPEF0dGFjaG1lbnRSb290PlxuICAgICAgICAgICAgPEF0dGFjaG1lbnRUaHVtYiAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdWktYXR0YWNobWVudC10ZXh0XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImF1aS1hdHRhY2htZW50LW5hbWVcIj5cbiAgICAgICAgICAgICAgICA8QXR0YWNobWVudFByaW1pdGl2ZS5OYW1lIC8+XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYXVpLWF0dGFjaG1lbnQtdHlwZVwiPnt0eXBlTGFiZWx9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7Y2FuUmVtb3ZlICYmIDxBdHRhY2htZW50UmVtb3ZlIC8+fVxuICAgICAgICAgIDwvQXR0YWNobWVudFJvb3Q+XG4gICAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICA8L0F0dGFjaG1lbnRQcmV2aWV3RGlhbG9nPlxuICAgICAgPFRvb2x0aXBDb250ZW50IHNpZGU9XCJ0b3BcIj5cbiAgICAgICAgPEF0dGFjaG1lbnRQcmltaXRpdmUuTmFtZSAvPlxuICAgICAgPC9Ub29sdGlwQ29udGVudD5cbiAgICA8L1Rvb2x0aXA+XG4gICk7XG59O1xuXG5BdHRhY2htZW50LmRpc3BsYXlOYW1lID0gXCJBdHRhY2htZW50XCI7XG5cbm5hbWVzcGFjZSBBdHRhY2htZW50UmVtb3ZlIHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEhUTUxCdXR0b25FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz47XG59XG5cbmNvbnN0IEF0dGFjaG1lbnRSZW1vdmUgPSBmb3J3YXJkUmVmPFxuICBBdHRhY2htZW50UmVtb3ZlLkVsZW1lbnQsXG4gIEF0dGFjaG1lbnRSZW1vdmUuUHJvcHNcbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHtcbiAgICAgIGNvbXBvc2VyOiB7IHJlbW92ZUF0dGFjaG1lbnQ6IHsgdG9vbHRpcCA9IFwiUmVtb3ZlIGZpbGVcIiB9ID0ge30gfSA9IHt9LFxuICAgIH0gPSB7fSxcbiAgfSA9IHVzZVRocmVhZENvbmZpZygpO1xuXG4gIHJldHVybiAoXG4gICAgPEF0dGFjaG1lbnRQcmltaXRpdmUuUmVtb3ZlIGFzQ2hpbGQ+XG4gICAgICA8VG9vbHRpcEljb25CdXR0b25cbiAgICAgICAgdG9vbHRpcD17dG9vbHRpcH1cbiAgICAgICAgY2xhc3NOYW1lPVwiYXVpLWF0dGFjaG1lbnQtcmVtb3ZlXCJcbiAgICAgICAgc2lkZT1cInRvcFwiXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICA+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyA8Q2lyY2xlWEljb24gLz59XG4gICAgICA8L1Rvb2x0aXBJY29uQnV0dG9uPlxuICAgIDwvQXR0YWNobWVudFByaW1pdGl2ZS5SZW1vdmU+XG4gICk7XG59KTtcblxuQXR0YWNobWVudFJlbW92ZS5kaXNwbGF5TmFtZSA9IFwiQXR0YWNobWVudFJlbW92ZVwiO1xuXG5jb25zdCBleHBvcnRzID0ge1xuICBSb290OiBBdHRhY2htZW50Um9vdCxcbiAgUmVtb3ZlOiBBdHRhY2htZW50UmVtb3ZlLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbihBdHRhY2htZW50LCBleHBvcnRzKSBhcyB0eXBlb2YgQXR0YWNobWVudCAmXG4gIHR5cGVvZiBleHBvcnRzO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgRGlhbG9nUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZGlhbG9nXCI7XG5cbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XG5cbmNvbnN0IERpYWxvZyA9IERpYWxvZ1ByaW1pdGl2ZS5Sb290O1xuXG5jb25zdCBEaWFsb2dUcmlnZ2VyID0gRGlhbG9nUHJpbWl0aXZlLlRyaWdnZXI7XG5cbmNvbnN0IERpYWxvZ1BvcnRhbCA9IERpYWxvZ1ByaW1pdGl2ZS5Qb3J0YWw7XG5cbmNvbnN0IERpYWxvZ0Nsb3NlID0gRGlhbG9nUHJpbWl0aXZlLkNsb3NlO1xuXG5jb25zdCBEaWFsb2dPdmVybGF5ID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRGlhbG9nUHJpbWl0aXZlLk92ZXJsYXk+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5PdmVybGF5PlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RGlhbG9nUHJpbWl0aXZlLk92ZXJsYXlcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXCJhdWktZGlhbG9nLW92ZXJsYXlcIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKTtcbkRpYWxvZ092ZXJsYXkuZGlzcGxheU5hbWUgPSBEaWFsb2dQcmltaXRpdmUuT3ZlcmxheS5kaXNwbGF5TmFtZTtcblxuY29uc3QgRGlhbG9nQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5Db250ZW50PixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEaWFsb2dQcmltaXRpdmUuQ29udGVudD5cbj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxEaWFsb2dQb3J0YWw+XG4gICAgPERpYWxvZ092ZXJsYXkgLz5cbiAgICA8RGlhbG9nUHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgIHJlZj17cmVmfVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFwiYXVpLWRpYWxvZy1jb250ZW50XCIsIGNsYXNzTmFtZSl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgICAgey8qIDxEaWFsb2dQcmltaXRpdmUuQ2xvc2UgY2xhc3NOYW1lPVwicmluZy1vZmZzZXQtYmFja2dyb3VuZCBmb2N1czpyaW5nLXJpbmcgZGF0YS1bc3RhdGU9b3Blbl06YmctYWNjZW50IGRhdGEtW3N0YXRlPW9wZW5dOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBhYnNvbHV0ZSByaWdodC00IHRvcC00IHJvdW5kZWQtc20gb3BhY2l0eS03MCB0cmFuc2l0aW9uLW9wYWNpdHkgaG92ZXI6b3BhY2l0eS0xMDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGRpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgPFhJY29uIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+Q2xvc2U8L3NwYW4+XG4gICAgICA8L0RpYWxvZ1ByaW1pdGl2ZS5DbG9zZT4gKi99XG4gICAgPC9EaWFsb2dQcmltaXRpdmUuQ29udGVudD5cbiAgPC9EaWFsb2dQb3J0YWw+XG4pKTtcbkRpYWxvZ0NvbnRlbnQuZGlzcGxheU5hbWUgPSBEaWFsb2dQcmltaXRpdmUuQ29udGVudC5kaXNwbGF5TmFtZTtcblxuLy8gY29uc3QgRGlhbG9nSGVhZGVyID0gKHtcbi8vICAgY2xhc3NOYW1lLFxuLy8gICAuLi5wcm9wc1xuLy8gfTogUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+KSA9PiAoXG4vLyAgIDxkaXZcbi8vICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXG4vLyAgICAgICBcImZsZXggZmxleC1jb2wgc3BhY2UteS0xLjUgdGV4dC1jZW50ZXIgc206dGV4dC1sZWZ0XCIsXG4vLyAgICAgICBjbGFzc05hbWUsXG4vLyAgICAgKX1cbi8vICAgICB7Li4ucHJvcHN9XG4vLyAgIC8+XG4vLyApO1xuLy8gRGlhbG9nSGVhZGVyLmRpc3BsYXlOYW1lID0gXCJEaWFsb2dIZWFkZXJcIjtcblxuLy8gY29uc3QgRGlhbG9nRm9vdGVyID0gKHtcbi8vICAgY2xhc3NOYW1lLFxuLy8gICAuLi5wcm9wc1xuLy8gfTogUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+KSA9PiAoXG4vLyAgIDxkaXZcbi8vICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXG4vLyAgICAgICBcImZsZXggZmxleC1jb2wtcmV2ZXJzZSBzbTpmbGV4LXJvdyBzbTpqdXN0aWZ5LWVuZCBzbTpzcGFjZS14LTJcIixcbi8vICAgICAgIGNsYXNzTmFtZSxcbi8vICAgICApfVxuLy8gICAgIHsuLi5wcm9wc31cbi8vICAgLz5cbi8vICk7XG4vLyBEaWFsb2dGb290ZXIuZGlzcGxheU5hbWUgPSBcIkRpYWxvZ0Zvb3RlclwiO1xuXG4vLyBjb25zdCBEaWFsb2dUaXRsZSA9IFJlYWN0LmZvcndhcmRSZWY8XG4vLyAgIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5UaXRsZT4sXG4vLyAgIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRGlhbG9nUHJpbWl0aXZlLlRpdGxlPlxuLy8gPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuLy8gICA8RGlhbG9nUHJpbWl0aXZlLlRpdGxlXG4vLyAgICAgcmVmPXtyZWZ9XG4vLyAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFxuLy8gICAgICAgXCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbGVhZGluZy1ub25lIHRyYWNraW5nLXRpZ2h0XCIsXG4vLyAgICAgICBjbGFzc05hbWUsXG4vLyAgICAgKX1cbi8vICAgICB7Li4ucHJvcHN9XG4vLyAgIC8+XG4vLyApKTtcbi8vIERpYWxvZ1RpdGxlLmRpc3BsYXlOYW1lID0gRGlhbG9nUHJpbWl0aXZlLlRpdGxlLmRpc3BsYXlOYW1lO1xuXG4vLyBjb25zdCBEaWFsb2dEZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4vLyAgIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5EZXNjcmlwdGlvbj4sXG4vLyAgIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRGlhbG9nUHJpbWl0aXZlLkRlc2NyaXB0aW9uPlxuLy8gPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuLy8gICA8RGlhbG9nUHJpbWl0aXZlLkRlc2NyaXB0aW9uXG4vLyAgICAgcmVmPXtyZWZ9XG4vLyAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtc21cIiwgY2xhc3NOYW1lKX1cbi8vICAgICB7Li4ucHJvcHN9XG4vLyAgIC8+XG4vLyApKTtcbi8vIERpYWxvZ0Rlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gRGlhbG9nUHJpbWl0aXZlLkRlc2NyaXB0aW9uLmRpc3BsYXlOYW1lO1xuXG5leHBvcnQge1xuICBEaWFsb2csXG4gIERpYWxvZ1BvcnRhbCxcbiAgRGlhbG9nT3ZlcmxheSxcbiAgRGlhbG9nVHJpZ2dlcixcbiAgRGlhbG9nQ2xvc2UsXG4gIERpYWxvZ0NvbnRlbnQsXG4gIC8vIERpYWxvZ0hlYWRlcixcbiAgLy8gRGlhbG9nRm9vdGVyLFxuICAvLyBEaWFsb2dUaXRsZSxcbiAgLy8gRGlhbG9nRGVzY3JpcHRpb24sXG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IENvbXBvbmVudFByb3BzV2l0aG91dFJlZiwgZm9yd2FyZFJlZiwgdHlwZSBGQyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgeyBBdmF0YXIgfSBmcm9tIFwiLi9iYXNlL2F2YXRhclwiO1xuaW1wb3J0IHsgU3VnZ2VzdGlvbkNvbmZpZywgdXNlVGhyZWFkQ29uZmlnIH0gZnJvbSBcIi4vdGhyZWFkLWNvbmZpZ1wiO1xuaW1wb3J0IHsgVGhyZWFkUHJpbWl0aXZlIH0gZnJvbSBcIi4uL3ByaW1pdGl2ZXNcIjtcbmltcG9ydCB7IHVzZVRocmVhZCB9IGZyb20gXCIuLi9jb250ZXh0XCI7XG5cbmNvbnN0IFRocmVhZFdlbGNvbWU6IEZDID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxUaHJlYWRXZWxjb21lUm9vdD5cbiAgICAgIDxUaHJlYWRXZWxjb21lQ2VudGVyPlxuICAgICAgICA8VGhyZWFkV2VsY29tZUF2YXRhciAvPlxuICAgICAgICA8VGhyZWFkV2VsY29tZU1lc3NhZ2UgLz5cbiAgICAgIDwvVGhyZWFkV2VsY29tZUNlbnRlcj5cbiAgICAgIDxUaHJlYWRXZWxjb21lU3VnZ2VzdGlvbnMgLz5cbiAgICA8L1RocmVhZFdlbGNvbWVSb290PlxuICApO1xufTtcblxuVGhyZWFkV2VsY29tZS5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkV2VsY29tZVwiO1xuXG5jb25zdCBUaHJlYWRXZWxjb21lUm9vdFN0eWxlZCA9IHdpdGhEZWZhdWx0cyhcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogXCJhdWktdGhyZWFkLXdlbGNvbWUtcm9vdFwiLFxufSk7XG5cbmNvbnN0IFRocmVhZFdlbGNvbWVDZW50ZXIgPSB3aXRoRGVmYXVsdHMoXCJkaXZcIiwge1xuICBjbGFzc05hbWU6IFwiYXVpLXRocmVhZC13ZWxjb21lLWNlbnRlclwiLFxufSk7XG5cbm5hbWVzcGFjZSBUaHJlYWRXZWxjb21lUm9vdCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MRGl2RWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBDb21wb25lbnRQcm9wc1dpdGhvdXRSZWY8XCJkaXZcIj47XG59XG5cbmNvbnN0IFRocmVhZFdlbGNvbWVSb290ID0gZm9yd2FyZFJlZjxcbiAgVGhyZWFkV2VsY29tZVJvb3QuRWxlbWVudCxcbiAgVGhyZWFkV2VsY29tZVJvb3QuUHJvcHNcbj4oKHByb3BzLCByZWYpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8VGhyZWFkUHJpbWl0aXZlLkVtcHR5PlxuICAgICAgPFRocmVhZFdlbGNvbWVSb290U3R5bGVkIHsuLi5wcm9wc30gcmVmPXtyZWZ9IC8+XG4gICAgPC9UaHJlYWRQcmltaXRpdmUuRW1wdHk+XG4gICk7XG59KTtcblxuVGhyZWFkV2VsY29tZVJvb3QuZGlzcGxheU5hbWUgPSBcIlRocmVhZFdlbGNvbWVSb290XCI7XG5cbmNvbnN0IFRocmVhZFdlbGNvbWVBdmF0YXI6IEZDID0gKCkgPT4ge1xuICBjb25zdCB7IGFzc2lzdGFudEF2YXRhcjogYXZhdGFyID0geyBmYWxsYmFjazogXCJBXCIgfSB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIHJldHVybiA8QXZhdGFyIHsuLi5hdmF0YXJ9IC8+O1xufTtcblxuY29uc3QgVGhyZWFkV2VsY29tZU1lc3NhZ2VTdHlsZWQgPSB3aXRoRGVmYXVsdHMoXCJwXCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS10aHJlYWQtd2VsY29tZS1tZXNzYWdlXCIsXG59KTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYFRocmVhZFdlbGNvbWUuTWVzc2FnZS5Qcm9wc2AgaW5zdGVhZC4gVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gMC42LlxuICovXG5leHBvcnQgdHlwZSBUaHJlYWRXZWxjb21lTWVzc2FnZVByb3BzID0gVGhyZWFkV2VsY29tZU1lc3NhZ2UuUHJvcHM7XG5cbm5hbWVzcGFjZSBUaHJlYWRXZWxjb21lTWVzc2FnZSB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MUGFyYWdyYXBoRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBPbWl0PFxuICAgIENvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgVGhyZWFkV2VsY29tZU1lc3NhZ2VTdHlsZWQ+LFxuICAgIFwiY2hpbGRyZW5cIlxuICA+ICYgeyBtZXNzYWdlPzogc3RyaW5nIHwgdW5kZWZpbmVkIH07XG59XG5cbmNvbnN0IFRocmVhZFdlbGNvbWVNZXNzYWdlID0gZm9yd2FyZFJlZjxcbiAgVGhyZWFkV2VsY29tZU1lc3NhZ2UuRWxlbWVudCxcbiAgVGhyZWFkV2VsY29tZU1lc3NhZ2UuUHJvcHNcbj4oKHsgbWVzc2FnZTogbWVzc2FnZVByb3AsIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG4gIGNvbnN0IHsgd2VsY29tZTogeyBtZXNzYWdlID0gXCJIb3cgY2FuIEkgaGVscCB5b3UgdG9kYXk/XCIgfSA9IHt9IH0gPVxuICAgIHVzZVRocmVhZENvbmZpZygpO1xuICByZXR1cm4gKFxuICAgIDxUaHJlYWRXZWxjb21lTWVzc2FnZVN0eWxlZCB7Li4ucmVzdH0gcmVmPXtyZWZ9PlxuICAgICAge21lc3NhZ2VQcm9wID8/IG1lc3NhZ2V9XG4gICAgPC9UaHJlYWRXZWxjb21lTWVzc2FnZVN0eWxlZD5cbiAgKTtcbn0pO1xuXG5UaHJlYWRXZWxjb21lTWVzc2FnZS5kaXNwbGF5TmFtZSA9IFwiVGhyZWFkV2VsY29tZU1lc3NhZ2VcIjtcblxuY29uc3QgVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25Db250YWluZXIgPSB3aXRoRGVmYXVsdHMoXCJkaXZcIiwge1xuICBjbGFzc05hbWU6IFwiYXVpLXRocmVhZC13ZWxjb21lLXN1Z2dlc3Rpb24tY29udGFpbmVyXCIsXG59KTtcblxuY29uc3QgVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25TdHlsZWQgPSB3aXRoRGVmYXVsdHMoVGhyZWFkUHJpbWl0aXZlLlN1Z2dlc3Rpb24sIHtcbiAgY2xhc3NOYW1lOiBcImF1aS10aHJlYWQtd2VsY29tZS1zdWdnZXN0aW9uXCIsXG59KTtcblxuZXhwb3J0IHR5cGUgVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25Qcm9wcyA9IHtcbiAgc3VnZ2VzdGlvbjogU3VnZ2VzdGlvbkNvbmZpZztcbn07XG5cbmNvbnN0IFRocmVhZFdlbGNvbWVTdWdnZXN0aW9uOiBGQzxUaHJlYWRXZWxjb21lU3VnZ2VzdGlvblByb3BzPiA9ICh7XG4gIHN1Z2dlc3Rpb246IHsgdGV4dCwgcHJvbXB0IH0sXG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFRocmVhZFdlbGNvbWVTdWdnZXN0aW9uU3R5bGVkIHByb21wdD17cHJvbXB0fSBtZXRob2Q9XCJyZXBsYWNlXCIgYXV0b1NlbmQ+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJhdWktdGhyZWFkLXdlbGNvbWUtc3VnZ2VzdGlvbi10ZXh0XCI+XG4gICAgICAgIHt0ZXh0ID8/IHByb21wdH1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L1RocmVhZFdlbGNvbWVTdWdnZXN0aW9uU3R5bGVkPlxuICApO1xufTtcblxuY29uc3QgVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25zOiBGQyA9ICgpID0+IHtcbiAgY29uc3Qgc3VnZ2VzdGlvbnMyID0gdXNlVGhyZWFkKCh0KSA9PiB0LnN1Z2dlc3Rpb25zKTtcbiAgY29uc3QgeyB3ZWxjb21lOiB7IHN1Z2dlc3Rpb25zIH0gPSB7fSB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG5cbiAgY29uc3QgZmluYWxTdWdnZXN0aW9ucyA9IHN1Z2dlc3Rpb25zMi5sZW5ndGggPyBzdWdnZXN0aW9uczIgOiBzdWdnZXN0aW9ucztcblxuICByZXR1cm4gKFxuICAgIDxUaHJlYWRXZWxjb21lU3VnZ2VzdGlvbkNvbnRhaW5lcj5cbiAgICAgIHtmaW5hbFN1Z2dlc3Rpb25zPy5tYXAoKHN1Z2dlc3Rpb24sIGlkeCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBgJHtzdWdnZXN0aW9uLnByb21wdH0tJHtpZHh9YDtcbiAgICAgICAgcmV0dXJuIDxUaHJlYWRXZWxjb21lU3VnZ2VzdGlvbiBrZXk9e2tleX0gc3VnZ2VzdGlvbj17c3VnZ2VzdGlvbn0gLz47XG4gICAgICB9KX1cbiAgICA8L1RocmVhZFdlbGNvbWVTdWdnZXN0aW9uQ29udGFpbmVyPlxuICApO1xufTtcblxuVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25zLmRpc3BsYXlOYW1lID0gXCJUaHJlYWRXZWxjb21lU3VnZ2VzdGlvbnNcIjtcblxuY29uc3QgZXhwb3J0cyA9IHtcbiAgUm9vdDogVGhyZWFkV2VsY29tZVJvb3QsXG4gIENlbnRlcjogVGhyZWFkV2VsY29tZUNlbnRlcixcbiAgQXZhdGFyOiBUaHJlYWRXZWxjb21lQXZhdGFyLFxuICBNZXNzYWdlOiBUaHJlYWRXZWxjb21lTWVzc2FnZSxcbiAgU3VnZ2VzdGlvbnM6IFRocmVhZFdlbGNvbWVTdWdnZXN0aW9ucyxcbiAgU3VnZ2VzdGlvbjogVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb24sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBPYmplY3QuYXNzaWduKFRocmVhZFdlbGNvbWUsIGV4cG9ydHMpIGFzIHR5cGVvZiBUaHJlYWRXZWxjb21lICZcbiAgdHlwZW9mIGV4cG9ydHM7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmLCBmb3J3YXJkUmVmLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCBCcmFuY2hQaWNrZXIgZnJvbSBcIi4vYnJhbmNoLXBpY2tlclwiO1xuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgVXNlckFjdGlvbkJhciBmcm9tIFwiLi91c2VyLWFjdGlvbi1iYXJcIjtcbmltcG9ydCBDb250ZW50UGFydCBmcm9tIFwiLi9jb250ZW50LXBhcnRcIjtcbmltcG9ydCB7IE1lc3NhZ2VQcmltaXRpdmUgfSBmcm9tIFwiLi4vcHJpbWl0aXZlc1wiO1xuaW1wb3J0IEF0dGFjaG1lbnQgZnJvbSBcIi4vYXR0YWNobWVudFwiO1xuXG5jb25zdCBVc2VyTWVzc2FnZTogRkMgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFVzZXJNZXNzYWdlUm9vdD5cbiAgICAgIDxVc2VyTWVzc2FnZUF0dGFjaG1lbnRzIC8+XG4gICAgICB7LyogVE9ETyB0aGlzIGlzIHRlbXBvcmFyeSB1bnRpbCB3ZSBwbGFjZSB0aGUgVXNlckFjdGlvbkJhciBpbiBhIGJldHRlciBwbGFjZSAqL31cbiAgICAgIDxNZXNzYWdlUHJpbWl0aXZlLklmIGhhc0NvbnRlbnQ+XG4gICAgICAgIDxVc2VyQWN0aW9uQmFyIC8+XG4gICAgICAgIDxVc2VyTWVzc2FnZUNvbnRlbnQgLz5cbiAgICAgIDwvTWVzc2FnZVByaW1pdGl2ZS5JZj5cbiAgICAgIDxCcmFuY2hQaWNrZXIgLz5cbiAgICA8L1VzZXJNZXNzYWdlUm9vdD5cbiAgKTtcbn07XG5cblVzZXJNZXNzYWdlLmRpc3BsYXlOYW1lID0gXCJVc2VyTWVzc2FnZVwiO1xuXG5jb25zdCBVc2VyTWVzc2FnZVJvb3QgPSB3aXRoRGVmYXVsdHMoTWVzc2FnZVByaW1pdGl2ZS5Sb290LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktdXNlci1tZXNzYWdlLXJvb3RcIixcbn0pO1xuXG5Vc2VyTWVzc2FnZVJvb3QuZGlzcGxheU5hbWUgPSBcIlVzZXJNZXNzYWdlUm9vdFwiO1xuXG5jb25zdCBVc2VyTWVzc2FnZUNvbnRlbnRXcmFwcGVyID0gd2l0aERlZmF1bHRzKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS11c2VyLW1lc3NhZ2UtY29udGVudFwiLFxufSk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBVc2VyTWVzc2FnZS5Db250ZW50LlByb3BzYCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjYuXG4gKi9cbmV4cG9ydCB0eXBlIFVzZXJNZXNzYWdlQ29udGVudFByb3BzID0gVXNlck1lc3NhZ2VDb250ZW50LlByb3BzO1xuXG5uYW1lc3BhY2UgVXNlck1lc3NhZ2VDb250ZW50IHtcbiAgZXhwb3J0IHR5cGUgRWxlbWVudCA9IEhUTUxEaXZFbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IE1lc3NhZ2VQcmltaXRpdmUuQ29udGVudC5Qcm9wcyAmXG4gICAgQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPFwiZGl2XCI+O1xufVxuXG5jb25zdCBVc2VyTWVzc2FnZUNvbnRlbnQgPSBmb3J3YXJkUmVmPFxuICBVc2VyTWVzc2FnZUNvbnRlbnQuRWxlbWVudCxcbiAgVXNlck1lc3NhZ2VDb250ZW50LlByb3BzXG4+KCh7IGNvbXBvbmVudHMsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuICByZXR1cm4gKFxuICAgIDxVc2VyTWVzc2FnZUNvbnRlbnRXcmFwcGVyIHsuLi5wcm9wc30gcmVmPXtyZWZ9PlxuICAgICAgPE1lc3NhZ2VQcmltaXRpdmUuQ29udGVudFxuICAgICAgICBjb21wb25lbnRzPXt7XG4gICAgICAgICAgLi4uY29tcG9uZW50cyxcbiAgICAgICAgICBUZXh0OiBjb21wb25lbnRzPy5UZXh0ID8/IENvbnRlbnRQYXJ0LlRleHQsXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvVXNlck1lc3NhZ2VDb250ZW50V3JhcHBlcj5cbiAgKTtcbn0pO1xuXG5Vc2VyTWVzc2FnZUNvbnRlbnQuZGlzcGxheU5hbWUgPSBcIlVzZXJNZXNzYWdlQ29udGVudFwiO1xuXG5jb25zdCBVc2VyTWVzc2FnZUF0dGFjaG1lbnRzQ29udGFpbmVyID0gd2l0aERlZmF1bHRzKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS11c2VyLW1lc3NhZ2UtYXR0YWNobWVudHNcIixcbn0pO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgVXNlck1lc3NhZ2UuQXR0YWNobWVudHMuUHJvcHNgIGluc3RlYWQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGluIDAuNi5cbiAqL1xuZXhwb3J0IHR5cGUgVXNlck1lc3NhZ2VBdHRhY2htZW50c1Byb3BzID0gVXNlck1lc3NhZ2VBdHRhY2htZW50cy5Qcm9wcztcblxubmFtZXNwYWNlIFVzZXJNZXNzYWdlQXR0YWNobWVudHMge1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFBhcnRpYWw8TWVzc2FnZVByaW1pdGl2ZS5BdHRhY2htZW50cy5Qcm9wcz47XG59XG5cbmNvbnN0IFVzZXJNZXNzYWdlQXR0YWNobWVudHM6IEZDPFVzZXJNZXNzYWdlQXR0YWNobWVudHNQcm9wcz4gPSAoe1xuICBjb21wb25lbnRzLFxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxNZXNzYWdlUHJpbWl0aXZlLklmIGhhc0F0dGFjaG1lbnRzPlxuICAgICAgPFVzZXJNZXNzYWdlQXR0YWNobWVudHNDb250YWluZXI+XG4gICAgICAgIDxNZXNzYWdlUHJpbWl0aXZlLkF0dGFjaG1lbnRzIFxuICAgICAgICAgIGNvbXBvbmVudHM9e3tcbiAgICAgICAgICAgIC4uLmNvbXBvbmVudHMsXG4gICAgICAgICAgICBBdHRhY2htZW50OiBjb21wb25lbnRzPy5BdHRhY2htZW50ID8/IEF0dGFjaG1lbnQsXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvVXNlck1lc3NhZ2VBdHRhY2htZW50c0NvbnRhaW5lcj5cbiAgICA8L01lc3NhZ2VQcmltaXRpdmUuSWY+XG4gICk7XG59O1xuXG5jb25zdCBleHBvcnRzID0ge1xuICBSb290OiBVc2VyTWVzc2FnZVJvb3QsXG4gIENvbnRlbnQ6IFVzZXJNZXNzYWdlQ29udGVudCxcbiAgQXR0YWNobWVudHM6IFVzZXJNZXNzYWdlQXR0YWNobWVudHMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBPYmplY3QuYXNzaWduKFVzZXJNZXNzYWdlLCBleHBvcnRzKSBhcyB0eXBlb2YgVXNlck1lc3NhZ2UgJlxuICB0eXBlb2YgZXhwb3J0cztcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBQZW5jaWxJY29uIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuXG5pbXBvcnQge1xuICBUb29sdGlwSWNvbkJ1dHRvbixcbiAgVG9vbHRpcEljb25CdXR0b25Qcm9wcyxcbn0gZnJvbSBcIi4vYmFzZS90b29sdGlwLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgeyB3aXRoRGVmYXVsdHMgfSBmcm9tIFwiLi91dGlscy93aXRoRGVmYXVsdHNcIjtcbmltcG9ydCB7IHVzZVRocmVhZENvbmZpZyB9IGZyb20gXCIuL3RocmVhZC1jb25maWdcIjtcbmltcG9ydCB7IHVzZVRocmVhZCB9IGZyb20gXCIuLi9jb250ZXh0XCI7XG5pbXBvcnQgeyBBY3Rpb25CYXJQcmltaXRpdmUgfSBmcm9tIFwiLi4vcHJpbWl0aXZlc1wiO1xuXG5jb25zdCB1c2VBbGxvd0VkaXQgPSAoZW5zdXJlQ2FwYWJpbGl0eSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHsgdXNlck1lc3NhZ2U6IHsgYWxsb3dFZGl0ID0gdHJ1ZSB9ID0ge30gfSA9IHVzZVRocmVhZENvbmZpZygpO1xuICBjb25zdCBlZGl0U3VwcG9ydGVkID0gdXNlVGhyZWFkKCh0KSA9PiB0LmNhcGFiaWxpdGllcy5lZGl0KTtcbiAgcmV0dXJuIGFsbG93RWRpdCAmJiAoIWVuc3VyZUNhcGFiaWxpdHkgfHwgZWRpdFN1cHBvcnRlZCk7XG59O1xuXG5jb25zdCBVc2VyQWN0aW9uQmFyOiBGQyA9ICgpID0+IHtcbiAgY29uc3QgYWxsb3dFZGl0ID0gdXNlQWxsb3dFZGl0KHRydWUpO1xuICBpZiAoIWFsbG93RWRpdCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiAoXG4gICAgPFVzZXJBY3Rpb25CYXJSb290IGhpZGVXaGVuUnVubmluZyBhdXRvaGlkZT1cIm5vdC1sYXN0XCI+XG4gICAgICA8VXNlckFjdGlvbkJhckVkaXQgLz5cbiAgICA8L1VzZXJBY3Rpb25CYXJSb290PlxuICApO1xufTtcblxuVXNlckFjdGlvbkJhci5kaXNwbGF5TmFtZSA9IFwiVXNlckFjdGlvbkJhclwiO1xuXG5jb25zdCBVc2VyQWN0aW9uQmFyUm9vdCA9IHdpdGhEZWZhdWx0cyhBY3Rpb25CYXJQcmltaXRpdmUuUm9vdCwge1xuICBjbGFzc05hbWU6IFwiYXVpLXVzZXItYWN0aW9uLWJhci1yb290XCIsXG59KTtcblxuVXNlckFjdGlvbkJhclJvb3QuZGlzcGxheU5hbWUgPSBcIlVzZXJBY3Rpb25CYXJSb290XCI7XG5cbm5hbWVzcGFjZSBVc2VyQWN0aW9uQmFyRWRpdCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBBY3Rpb25CYXJQcmltaXRpdmUuRWRpdC5FbGVtZW50O1xuICBleHBvcnQgdHlwZSBQcm9wcyA9IFBhcnRpYWw8VG9vbHRpcEljb25CdXR0b25Qcm9wcz47XG59XG5cbmNvbnN0IFVzZXJBY3Rpb25CYXJFZGl0ID0gZm9yd2FyZFJlZjxcbiAgVXNlckFjdGlvbkJhckVkaXQuRWxlbWVudCxcbiAgVXNlckFjdGlvbkJhckVkaXQuUHJvcHNcbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHsgdXNlck1lc3NhZ2U6IHsgZWRpdDogeyB0b29sdGlwID0gXCJFZGl0XCIgfSA9IHt9IH0gPSB7fSB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgY29uc3QgYWxsb3dFZGl0ID0gdXNlQWxsb3dFZGl0KCk7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvbkJhclByaW1pdGl2ZS5FZGl0IGRpc2FibGVkPXshYWxsb3dFZGl0fSBhc0NoaWxkPlxuICAgICAgPFRvb2x0aXBJY29uQnV0dG9uIHRvb2x0aXA9e3Rvb2x0aXB9IHsuLi5wcm9wc30gcmVmPXtyZWZ9PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW4gPz8gPFBlbmNpbEljb24gLz59XG4gICAgICA8L1Rvb2x0aXBJY29uQnV0dG9uPlxuICAgIDwvQWN0aW9uQmFyUHJpbWl0aXZlLkVkaXQ+XG4gICk7XG59KTtcblxuVXNlckFjdGlvbkJhckVkaXQuZGlzcGxheU5hbWUgPSBcIlVzZXJBY3Rpb25CYXJFZGl0XCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IFVzZXJBY3Rpb25CYXJSb290LFxuICBFZGl0OiBVc2VyQWN0aW9uQmFyRWRpdCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oVXNlckFjdGlvbkJhciwgZXhwb3J0cykgYXMgdHlwZW9mIFVzZXJBY3Rpb25CYXIgJlxuICB0eXBlb2YgZXhwb3J0cztcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB0eXBlIEZDIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IEJ1dHRvbiwgQnV0dG9uUHJvcHMgfSBmcm9tIFwiLi9iYXNlL2J1dHRvblwiO1xuaW1wb3J0IHsgd2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vdXRpbHMvd2l0aERlZmF1bHRzXCI7XG5pbXBvcnQgeyB1c2VUaHJlYWRDb25maWcgfSBmcm9tIFwiLi90aHJlYWQtY29uZmlnXCI7XG5pbXBvcnQgeyBDb21wb3NlclByaW1pdGl2ZSB9IGZyb20gXCIuLi9wcmltaXRpdmVzXCI7XG5cbmNvbnN0IEVkaXRDb21wb3NlcjogRkMgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPEVkaXRDb21wb3NlclJvb3Q+XG4gICAgICA8RWRpdENvbXBvc2VySW5wdXQgLz5cblxuICAgICAgPEVkaXRDb21wb3NlckZvb3Rlcj5cbiAgICAgICAgPEVkaXRDb21wb3NlckNhbmNlbCAvPlxuICAgICAgICA8RWRpdENvbXBvc2VyU2VuZCAvPlxuICAgICAgPC9FZGl0Q29tcG9zZXJGb290ZXI+XG4gICAgPC9FZGl0Q29tcG9zZXJSb290PlxuICApO1xufTtcblxuRWRpdENvbXBvc2VyLmRpc3BsYXlOYW1lID0gXCJFZGl0Q29tcG9zZXJcIjtcblxuY29uc3QgRWRpdENvbXBvc2VyUm9vdCA9IHdpdGhEZWZhdWx0cyhDb21wb3NlclByaW1pdGl2ZS5Sb290LCB7XG4gIGNsYXNzTmFtZTogXCJhdWktZWRpdC1jb21wb3Nlci1yb290XCIsXG59KTtcblxuRWRpdENvbXBvc2VyUm9vdC5kaXNwbGF5TmFtZSA9IFwiRWRpdENvbXBvc2VyUm9vdFwiO1xuXG5jb25zdCBFZGl0Q29tcG9zZXJJbnB1dCA9IHdpdGhEZWZhdWx0cyhDb21wb3NlclByaW1pdGl2ZS5JbnB1dCwge1xuICBjbGFzc05hbWU6IFwiYXVpLWVkaXQtY29tcG9zZXItaW5wdXRcIixcbn0pO1xuXG5FZGl0Q29tcG9zZXJJbnB1dC5kaXNwbGF5TmFtZSA9IFwiRWRpdENvbXBvc2VySW5wdXRcIjtcblxuY29uc3QgRWRpdENvbXBvc2VyRm9vdGVyID0gd2l0aERlZmF1bHRzKFwiZGl2XCIsIHtcbiAgY2xhc3NOYW1lOiBcImF1aS1lZGl0LWNvbXBvc2VyLWZvb3RlclwiLFxufSk7XG5cbkVkaXRDb21wb3NlckZvb3Rlci5kaXNwbGF5TmFtZSA9IFwiRWRpdENvbXBvc2VyRm9vdGVyXCI7XG5cbm5hbWVzcGFjZSBFZGl0Q29tcG9zZXJDYW5jZWwge1xuICBleHBvcnQgdHlwZSBFbGVtZW50ID0gSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGV4cG9ydCB0eXBlIFByb3BzID0gUGFydGlhbDxCdXR0b25Qcm9wcz47XG59XG5cbmNvbnN0IEVkaXRDb21wb3NlckNhbmNlbCA9IGZvcndhcmRSZWY8XG4gIEVkaXRDb21wb3NlckNhbmNlbC5FbGVtZW50LFxuICBFZGl0Q29tcG9zZXJDYW5jZWwuUHJvcHNcbj4oKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0cmluZ3M6IHsgZWRpdENvbXBvc2VyOiB7IGNhbmNlbDogeyBsYWJlbCA9IFwiQ2FuY2VsXCIgfSA9IHt9IH0gPSB7fSB9ID0ge30sXG4gIH0gPSB1c2VUaHJlYWRDb25maWcoKTtcbiAgcmV0dXJuIChcbiAgICA8Q29tcG9zZXJQcmltaXRpdmUuQ2FuY2VsIGFzQ2hpbGQ+XG4gICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHsuLi5wcm9wc30gcmVmPXtyZWZ9PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW4gPz8gbGFiZWx9XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L0NvbXBvc2VyUHJpbWl0aXZlLkNhbmNlbD5cbiAgKTtcbn0pO1xuXG5FZGl0Q29tcG9zZXJDYW5jZWwuZGlzcGxheU5hbWUgPSBcIkVkaXRDb21wb3NlckNhbmNlbFwiO1xuXG5uYW1lc3BhY2UgRWRpdENvbXBvc2VyU2VuZCB7XG4gIGV4cG9ydCB0eXBlIEVsZW1lbnQgPSBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZXhwb3J0IHR5cGUgUHJvcHMgPSBQYXJ0aWFsPEJ1dHRvblByb3BzPjtcbn1cblxuY29uc3QgRWRpdENvbXBvc2VyU2VuZCA9IGZvcndhcmRSZWY8XG4gIEVkaXRDb21wb3NlclNlbmQuRWxlbWVudCxcbiAgRWRpdENvbXBvc2VyU2VuZC5Qcm9wc1xuPigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgc3RyaW5nczogeyBlZGl0Q29tcG9zZXI6IHsgc2VuZDogeyBsYWJlbCA9IFwiU2VuZFwiIH0gPSB7fSB9ID0ge30gfSA9IHt9LFxuICB9ID0gdXNlVGhyZWFkQ29uZmlnKCk7XG4gIHJldHVybiAoXG4gICAgPENvbXBvc2VyUHJpbWl0aXZlLlNlbmQgYXNDaGlsZD5cbiAgICAgIDxCdXR0b24gey4uLnByb3BzfSByZWY9e3JlZn0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbiA/PyBsYWJlbH1cbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvQ29tcG9zZXJQcmltaXRpdmUuU2VuZD5cbiAgKTtcbn0pO1xuXG5FZGl0Q29tcG9zZXJTZW5kLmRpc3BsYXlOYW1lID0gXCJFZGl0Q29tcG9zZXJTZW5kXCI7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJvb3Q6IEVkaXRDb21wb3NlclJvb3QsXG4gIElucHV0OiBFZGl0Q29tcG9zZXJJbnB1dCxcbiAgRm9vdGVyOiBFZGl0Q29tcG9zZXJGb290ZXIsXG4gIENhbmNlbDogRWRpdENvbXBvc2VyQ2FuY2VsLFxuICBTZW5kOiBFZGl0Q29tcG9zZXJTZW5kLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbihFZGl0Q29tcG9zZXIsIGV4cG9ydHMpIGFzIHR5cGVvZiBFZGl0Q29tcG9zZXIgJlxuICB0eXBlb2YgZXhwb3J0cztcbiJdLCJuYW1lcyI6WyJtZW1vIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVN0YXRlIiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJjcmVhdGVDb250ZXh0SG9vayIsImNvbnRleHQiLCJwcm92aWRlck5hbWUiLCJ1c2VDb250ZXh0SG9vayIsIm9wdGlvbnMiLCJjb250ZXh0VmFsdWUiLCJvcHRpb25hbCIsIkVycm9yIiwiY3JlYXRlQ29udGV4dFN0b3JlSG9vayIsImNvbnRleHRIb29rIiwiY29udGV4dEtleSIsInVzZVN0b3JlU3RvcmVIb29rIiwidXNlU3RvcmVIb29rIiwicGFyYW0iLCJzZWxlY3RvciIsInN0b3JlIiwiQXNzaXN0YW50Q29udGV4dCIsInVzZUFzc2lzdGFudENvbnRleHQiLCJ1c2VBc3Npc3RhbnRSdW50aW1lIiwiYWN0aW9ucyIsInVzZUFzc2lzdGFudEFjdGlvbnNTdG9yZSIsInVzZUFzc2lzdGFudEFjdGlvbnMiLCJ1c2VBc3Npc3RhbnRSdW50aW1lU3RvcmUiLCJ1c2VUb29sVUlzIiwidXNlVG9vbFVJc1N0b3JlIiwiY3JlYXRlIiwibWFrZUFzc2lzdGFudFRvb2xVSXNTdG9yZSIsInNldCIsInJlbmRlcmVycyIsIk1hcCIsIk9iamVjdCIsImZyZWV6ZSIsImdldFRvb2xVSSIsIm5hbWUiLCJhcnIiLCJnZXQiLCJsYXN0IiwiYXQiLCJzZXRUb29sVUkiLCJyZW5kZXIiLCJwdXNoIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwibGVuZ3RoIiwiVGhyZWFkQ29udGV4dCIsInVzZVRocmVhZENvbnRleHQiLCJ1c2VUaHJlYWRSdW50aW1lIiwidXNlVGhyZWFkQWN0aW9uc1N0b3JlIiwidXNlVGhyZWFkQWN0aW9ucyIsInVzZVRocmVhZFJ1bnRpbWVTdG9yZSIsInVzZVRocmVhZCIsInVzZVRocmVhZFN0b3JlIiwibWVzc2FnZXMiLCJ1c2VUaHJlYWRNZXNzYWdlcyIsInVzZVRocmVhZE1lc3NhZ2VzU3RvcmUiLCJ1c2VDb21wb3NlciIsInVzZVRocmVhZENvbXBvc2VyIiwidXNlQ29tcG9zZXJTdG9yZSIsInVzZVRocmVhZENvbXBvc2VyU3RvcmUiLCJ1c2VWaWV3cG9ydCIsInVzZVRocmVhZFZpZXdwb3J0IiwidXNlVmlld3BvcnRTdG9yZSIsInVzZVRocmVhZFZpZXdwb3J0U3RvcmUiLCJ1c2VUaHJlYWRNb2RlbENvbmZpZyIsInJlcmVuZGVyIiwicnVudGltZSIsInVuc3RhYmxlX29uIiwiZ2V0TW9kZWxDb25maWciLCJtYWtlVGhyZWFkVmlld3BvcnRTdG9yZSIsInNjcm9sbFRvQm90dG9tTGlzdGVuZXJzIiwiU2V0IiwiaXNBdEJvdHRvbSIsInNjcm9sbFRvQm90dG9tIiwibGlzdGVuZXIiLCJvblNjcm9sbFRvQm90dG9tIiwiY2FsbGJhY2siLCJhZGQiLCJkZWxldGUiLCJ3cml0YWJsZVN0b3JlIiwianN4Iiwic2V0U3RhdGUiLCJnZXRTdGF0ZSIsInVwZGF0ZVN0YXRlIiwic3Vic2NyaWJlIiwiVGhyZWFkUnVudGltZVByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjb21wb3NlciIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VBc3Npc3RhbnRUb29sVUlzU3RvcmUiLCJBc3Npc3RhbnRSdW50aW1lUHJvdmlkZXJJbXBsIiwidGhyZWFkIiwiQXNzaXN0YW50UnVudGltZVByb3ZpZGVyIiwiQ29udGVudFBhcnRDb250ZXh0IiwidXNlQ29udGVudFBhcnRDb250ZXh0IiwidXNlQ29udGVudFBhcnRSdW50aW1lIiwidXNlQ29udGVudFBhcnQiLCJ1c2VDb250ZW50UGFydFN0b3JlIiwiQ29udGVudFBhcnRSdW50aW1lSW1wbCIsImNvbnN0cnVjdG9yIiwiY29udGVudEJpbmRpbmciLCJtZXNzYWdlQXBpIiwidGhyZWFkQXBpIiwicGF0aCIsImFkZFRvb2xSZXN1bHQiLCJyZXN1bHQiLCJtZXNzYWdlIiwic3RhdGUiLCJ0eXBlIiwidG9vbE5hbWUiLCJ0b29sQ2FsbElkIiwibWVzc2FnZUlkIiwiaWQiLCJDT01QTEVURV9TVEFUVVMiLCJSVU5OSU5HX1NUQVRVUyIsIlRleHRDb250ZW50UGFydFByb3ZpZGVyIiwidGV4dCIsImlzUnVubmluZyIsInN0YXR1cyIsInBhcnQiLCJ0ZXh0VXBkYXRlZCIsInRhcmdldFN0YXR1cyIsInN0YXR1c1VwZGF0ZWQiLCJNZXNzYWdlQ29udGV4dCIsInVzZU1lc3NhZ2VDb250ZXh0IiwidXNlTWVzc2FnZVJ1bnRpbWUiLCJ1c2VNZXNzYWdlIiwidXNlTWVzc2FnZVN0b3JlIiwidXNlTWVzc2FnZVV0aWxzIiwidXNlTWVzc2FnZVV0aWxzU3RvcmUiLCJ1c2VFZGl0Q29tcG9zZXIiLCJ1c2VFZGl0Q29tcG9zZXJTdG9yZSIsInVzZUNvbXBvc2VyQ29udGV4dCIsInVzZUNvbXBvc2VyUnVudGltZSIsIm1lc3NhZ2VSdW50aW1lIiwidGhyZWFkUnVudGltZSIsInVzZUNhbGxiYWNrIiwidXNlQXBwZW5kTWVzc2FnZSIsImFwcGVuZCIsInVzZVN3aXRjaFRvTmV3VGhyZWFkIiwiYXNzaXN0YW50UnVudGltZSIsInN3aXRjaFRvTmV3VGhyZWFkIiwidXNlQXNzaXN0YW50VG9vbCIsInRvb2wiLCJ0b29sVUlzU3RvcmUiLCJyZXN0IiwiY29uZmlnIiwidG9vbHMiLCJ1bnN1YjEiLCJyZWdpc3Rlck1vZGVsQ29uZmlnUHJvdmlkZXIiLCJ1bnN1YjIiLCJtYWtlQXNzaXN0YW50VG9vbCIsIlRvb2wiLCJ1bnN0YWJsZV90b29sIiwidXNlQXNzaXN0YW50VG9vbFVJIiwibWFrZUFzc2lzdGFudFRvb2xVSSIsIlRvb2xVSSIsInVzZUFzc2lzdGFudEluc3RydWN0aW9ucyIsImluc3RydWN0aW9uIiwic3lzdGVtIiwidXNlQWN0aW9uQmFyQ29weSIsImNvcGllZER1cmF0aW9uIiwiY29tcG9zZXJSdW50aW1lIiwic2V0SXNDb3BpZWQiLCJzIiwiaGFzQ29weWFibGVDb250ZW50Iiwicm9sZSIsImNvbnRlbnQiLCJzb21lIiwiYyIsImlzRWRpdGluZyIsImNvbXBvc2VyVmFsdWUiLCJ2YWx1ZVRvQ29weSIsInVuc3RhYmxlX2dldENvcHlUZXh0IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGhlbiIsInNldFRpbWVvdXQiLCJ1c2VBY3Rpb25CYXJFZGl0IiwiZGlzYWJsZWQiLCJiZWdpbkVkaXQiLCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZSIsImNyZWF0ZUNvbWJpbmVkU3RvcmUiLCJzdG9yZXMiLCJ1bnN1YnNjcmliZXMiLCJtYXAiLCJ1bnN1YiIsImdldFNuYXBzaG90IiwidXNlQ29tYmluZWRTdG9yZSIsInVzZUNvbWJpbmVkIiwidXNlQWN0aW9uQmFyUmVsb2FkIiwidCIsIm0iLCJpc0Rpc2FibGVkIiwicmVsb2FkIiwidXNlQWN0aW9uQmFyU3BlYWsiLCJtZXNzYWdlUnVuaW1lIiwic3BlYWsiLCJoYXNTcGVha2FibGVDb250ZW50IiwidXNlQWN0aW9uQmFyU3RvcFNwZWFraW5nIiwiaXNTcGVha2luZyIsInUiLCJzcGVlY2giLCJzdG9wU3BlYWtpbmciLCJ1c2VBY3Rpb25CYXJGZWVkYmFja1Bvc2l0aXZlIiwic3VibWl0RmVlZGJhY2siLCJ1c2VBY3Rpb25CYXJGZWVkYmFja05lZ2F0aXZlIiwidXNlQnJhbmNoUGlja2VyQ291bnQiLCJicmFuY2hDb3VudCIsInVzZUJyYW5jaFBpY2tlck5leHQiLCJicmFuY2hOdW1iZXIiLCJzd2l0Y2hUb0JyYW5jaCIsInBvc2l0aW9uIiwidXNlQnJhbmNoUGlja2VyTnVtYmVyIiwidXNlQnJhbmNoUGlja2VyUHJldmlvdXMiLCJ1c2VDb21wb3NlckNhbmNlbCIsImNhbkNhbmNlbCIsImNhbmNlbCIsInVzZUNvbXBvc2VySWYiLCJwcm9wcyIsImVkaXRpbmciLCJ1c2VDb21wb3NlclNlbmQiLCJpc0VtcHR5Iiwic2VuZCIsInVzZUNvbXBvc2VyQWRkQXR0YWNobWVudCIsImlucHV0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0YWNobWVudEFjY2VwdCIsImdldEF0dGFjaG1lbnRBY2NlcHQiLCJhY2NlcHQiLCJvbmNoYW5nZSIsImUiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJhZGRBdHRhY2htZW50IiwiY2xpY2siLCJ1c2VDb250ZW50UGFydERpc3BsYXkiLCJkaXNwbGF5IiwidXNlQ29udGVudFBhcnRJbWFnZSIsImltYWdlIiwidXNlQ29udGVudFBhcnRUZXh0IiwidXNlTWVzc2FnZUlmIiwibWVzc2FnZVV0aWxzU3RvcmUiLCJhdHRhY2htZW50cyIsImlzTGFzdCIsInN1Ym1pdHRlZEZlZWRiYWNrIiwiaXNDb3BpZWQiLCJpc0hvdmVyaW5nIiwiaGFzQnJhbmNoZXMiLCJ1c2VyIiwiYXNzaXN0YW50IiwibGFzdE9ySG92ZXIiLCJjb3BpZWQiLCJzcGVha2luZyIsImhhc0F0dGFjaG1lbnRzIiwiaGFzQ29udGVudCIsInVzZVRocmVhZElmIiwiZW1wdHkiLCJydW5uaW5nIiwidXNlVGhyZWFkRW1wdHkiLCJ1c2VUaHJlYWRTY3JvbGxUb0JvdHRvbSIsInRocmVhZFZpZXdwb3J0U3RvcmUiLCJoYW5kbGVTY3JvbGxUb0JvdHRvbSIsInVzZVRocmVhZFN1Z2dlc3Rpb24iLCJwcm9tcHQiLCJhdXRvU2VuZCIsInNldFRleHQiLCJhY3Rpb25CYXJfZXhwb3J0cyIsIl9fZXhwb3J0IiwiQ29weSIsIkFjdGlvbkJhclByaW1pdGl2ZUNvcHkiLCJFZGl0IiwiQWN0aW9uQmFyUHJpbWl0aXZlRWRpdCIsIkZlZWRiYWNrTmVnYXRpdmUiLCJBY3Rpb25CYXJQcmltaXRpdmVGZWVkYmFja05lZ2F0aXZlIiwiRmVlZGJhY2tQb3NpdGl2ZSIsIkFjdGlvbkJhclByaW1pdGl2ZUZlZWRiYWNrUG9zaXRpdmUiLCJSZWxvYWQiLCJBY3Rpb25CYXJQcmltaXRpdmVSZWxvYWQiLCJSb290IiwiQWN0aW9uQmFyUHJpbWl0aXZlUm9vdCIsIlNwZWFrIiwiQWN0aW9uQmFyUHJpbWl0aXZlU3BlYWsiLCJTdG9wU3BlYWtpbmciLCJBY3Rpb25CYXJQcmltaXRpdmVTdG9wU3BlYWtpbmciLCJQcmltaXRpdmUiLCJmb3J3YXJkUmVmIiwidXNlQWN0aW9uQmFyRmxvYXRTdGF0dXMiLCJoaWRlV2hlblJ1bm5pbmciLCJhdXRvaGlkZSIsImF1dG9oaWRlRmxvYXQiLCJtdSIsImF1dG9oaWRlRW5hYmxlZCIsInJlZiIsImhpZGVBbmRmbG9hdFN0YXR1cyIsImRpdiIsImRpc3BsYXlOYW1lIiwiY29tcG9zZUV2ZW50SGFuZGxlcnMiLCJvbkNsaWNrIiwiZm9yd2FyZGVkUmVmIiwiYnV0dG9uIiwiY3JlYXRlQWN0aW9uQnV0dG9uIiwidXNlQWN0aW9uQnV0dG9uIiwiZm9yd2FyZFByb3BzIiwiQWN0aW9uQnV0dG9uIiwiZm9yd2FyZGVkUHJvcHMiLCJwcmltaXRpdmVQcm9wcyIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiaW5jbHVkZXMiLCJ1c2VFc2NhcGVLZXlkb3duIiwicHJldmVudERlZmF1bHQiLCJpc1N1Ym1pdHRlZCIsImFzc2lzdGFudE1vZGFsX2V4cG9ydHMiLCJBbmNob3IiLCJBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUFuY2hvciIsIkNvbnRlbnQiLCJBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZUNvbnRlbnQiLCJBc3Npc3RhbnRNb2RhbFByaW1pdGl2ZVJvb3QiLCJUcmlnZ2VyIiwiQXNzaXN0YW50TW9kYWxQcmltaXRpdmVUcmlnZ2VyIiwiUG9wb3ZlclByaW1pdGl2ZSIsInVzZVBvcG92ZXJTY29wZSIsImNyZWF0ZVBvcG92ZXJTY29wZSIsInVzZUFzc2lzdGFudE1vZGFsT3BlblN0YXRlIiwiZGVmYXVsdE9wZW4iLCJ1bnN0YWJsZV9vcGVuT25SdW5TdGFydCIsInNldE9wZW4iLCJfX3Njb3BlQXNzaXN0YW50TW9kYWwiLCJvcGVuIiwib25PcGVuQ2hhbmdlIiwic2NvcGUiLCJtb2RhbE9wZW4iLCJQb3BvdmVyUHJpbWl0aXZlMiIsIlBvcG92ZXJQcmltaXRpdmUzIiwic2lkZSIsImFsaWduIiwib25JbnRlcmFjdE91dHNpZGUiLCJkaXNzbWlzc09uSW50ZXJhY3RPdXRzaWRlIiwiUG9wb3ZlclByaW1pdGl2ZTQiLCJQb3J0YWwiLCJQb3BvdmVyUHJpbWl0aXZlNSIsImF0dGFjaG1lbnRfZXhwb3J0cyIsIk5hbWUiLCJBdHRhY2htZW50UHJpbWl0aXZlTmFtZSIsIlJlbW92ZSIsIkF0dGFjaG1lbnRQcmltaXRpdmVSZW1vdmUiLCJBdHRhY2htZW50UHJpbWl0aXZlUm9vdCIsInVuc3RhYmxlX1RodW1iIiwiQXR0YWNobWVudFByaW1pdGl2ZVRodW1iIiwiQXR0YWNobWVudENvbnRleHQiLCJ1c2VBdHRhY2htZW50Q29udGV4dCIsInVzZVRocmVhZENvbXBvc2VyQXR0YWNobWVudENvbnRleHQiLCJzb3VyY2UiLCJ1c2VFZGl0Q29tcG9zZXJBdHRhY2htZW50Q29udGV4dCIsInVzZU1lc3NhZ2VBdHRhY2htZW50Q29udGV4dCIsInVzZUF0dGFjaG1lbnRSdW50aW1lIiwiYXR0YWNobWVudFJ1bnRpbWUiLCJ1c2VBdHRhY2htZW50IiwidXNlVGhyZWFkQ29tcG9zZXJBdHRhY2htZW50IiwidXNlRWRpdENvbXBvc2VyQXR0YWNobWVudCIsInVzZU1lc3NhZ2VBdHRhY2htZW50IiwianN4cyIsImV4dCIsImEiLCJzcGxpdCIsInBvcCIsIkZyYWdtZW50IiwidXNlQXR0YWNobWVudFJlbW92ZSIsImhhbmRsZVJlbW92ZUF0dGFjaG1lbnQiLCJyZW1vdmUiLCJicmFuY2hQaWNrZXJfZXhwb3J0cyIsIkNvdW50IiwiQnJhbmNoUGlja2VyUHJpbWl0aXZlQ291bnQiLCJOZXh0IiwiQnJhbmNoUGlja2VyUHJpbWl0aXZlTmV4dCIsIk51bWJlciIsIkJyYW5jaFBpY2tlclByaW1pdGl2ZU51bWJlciIsIlByZXZpb3VzIiwiQnJhbmNoUGlja2VyUHJpbWl0aXZlUHJldmlvdXMiLCJCcmFuY2hQaWNrZXJQcmltaXRpdmVSb290IiwibWVzc2FnZV9leHBvcnRzIiwiQXR0YWNobWVudHMiLCJNZXNzYWdlUHJpbWl0aXZlQXR0YWNobWVudHMiLCJNZXNzYWdlUHJpbWl0aXZlQ29udGVudCIsIklmIiwiTWVzc2FnZVByaW1pdGl2ZUlmIiwiSW5Qcm9ncmVzcyIsIk1lc3NhZ2VQcmltaXRpdmVJblByb2dyZXNzIiwiTWVzc2FnZVByaW1pdGl2ZVJvb3QiLCJ1c2VSZWYiLCJ1c2VNYW5hZ2VkUmVmIiwiY2xlYW51cFJlZiIsImVsIiwiY3VycmVudCIsInVzZUNvbXBvc2VkUmVmcyIsInVzZUlzSG92ZXJpbmdSZWYiLCJjYWxsYmFja1JlZiIsInNldElzSG92ZXJpbmciLCJoYW5kbGVNb3VzZUVudGVyIiwiaGFuZGxlTW91c2VMZWF2ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNIb3ZlcmluZ1JlZiIsInF1ZXJ5IiwidXNlQ29udGVudFBhcnRSdW50aW1lU3RvcmUiLCJDb250ZW50UGFydFJ1bnRpbWVQcm92aWRlciIsInVzZUNhbGxiYWNrUmVmIiwiU21vb3RoQ29udGV4dCIsIm1ha2VTbW9vdGhDb250ZXh0IiwiaW5pdGlhbFN0YXRlIiwidXNlU21vb3RoU3RhdHVzIiwiU21vb3RoQ29udGV4dFByb3ZpZGVyIiwib3V0ZXIiLCJ1c2VTbW9vdGhDb250ZXh0IiwiY29udGVudFBhcnRTdG9yZSIsIndpdGhTbW9vdGhDb250ZXh0UHJvdmlkZXIiLCJDb21wb25lbnQiLCJXcmFwcGVkIiwidXNlU21vb3RoU3RhdHVzU3RvcmUiLCJUZXh0U3RyZWFtQW5pbWF0b3IiLCJjdXJyZW50VGV4dCIsImFuaW1hdGlvbkZyYW1lSWQiLCJsYXN0VXBkYXRlVGltZSIsIkRhdGUiLCJub3ciLCJ0YXJnZXRUZXh0IiwiYW5pbWF0ZSIsImN1cnJlbnRUaW1lIiwiZGVsdGFUaW1lIiwidGltZVRvQ29uc3VtZSIsInJlbWFpbmluZ0NoYXJzIiwiYmFzZVRpbWVQZXJDaGFyIiwiTWF0aCIsIm1pbiIsImNoYXJzVG9BZGQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzbGljZSIsInN0YXJ0Iiwic3RvcCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiU01PT1RIX1NUQVRVUyIsInVzZVNtb290aCIsInNtb290aCIsImlkUmVmIiwiZGlzcGxheWVkVGV4dCIsInNldERpc3BsYXllZFRleHQiLCJzbW9vdGhTdGF0dXNTdG9yZSIsImFuaW1hdG9yUmVmIiwic3RhcnRzV2l0aCIsIkNvbnRlbnRQYXJ0UHJpbWl0aXZlVGV4dCIsImNvbXBvbmVudCIsIkNvbnRlbnRQYXJ0UHJpbWl0aXZlSW1hZ2UiLCJpbWciLCJzcmMiLCJDb250ZW50UGFydFByaW1pdGl2ZURpc3BsYXkiLCJDb250ZW50UGFydFByaW1pdGl2ZUluUHJvZ3Jlc3MiLCJpc0luUHJvZ3Jlc3MiLCJnZXRUaHJlYWRNZXNzYWdlVGV4dCIsInRleHRQYXJ0cyIsImZpbHRlciIsImpvaW4iLCJBdHRhY2htZW50UnVudGltZUltcGwiLCJfY29yZSIsIkNvbXBvc2VyQXR0YWNobWVudFJ1bnRpbWUiLCJjb3JlIiwiX2NvbXBvc2VyQXBpIiwicmVtb3ZlQXR0YWNobWVudCIsIlRocmVhZENvbXBvc2VyQXR0YWNobWVudFJ1bnRpbWVJbXBsIiwiRWRpdENvbXBvc2VyQXR0YWNobWVudFJ1bnRpbWVJbXBsIiwiTWVzc2FnZUF0dGFjaG1lbnRSdW50aW1lSW1wbCIsIkJhc2VTdWJqZWN0IiwiaXNDb25uZWN0ZWQiLCJfY29ubmVjdGlvbiIsIm5vdGlmeVN1YnNjcmliZXJzIiwiX3N1YnNjcmlwdGlvbnMiLCJfdXBkYXRlQ29ubmVjdGlvbiIsInNpemUiLCJfY29ubmVjdCIsIlNLSVBfVVBEQVRFIiwiU3ltYm9sIiwiTGF6eU1lbW9pemVTdWJqZWN0IiwiYmluZGluZyIsIl9wcmV2aW91c1N0YXRlRGlydHkiLCJuZXdTdGF0ZSIsIl9wcmV2aW91c1N0YXRlIiwic2hhbGxvd0VxdWFsIiwib2JqQSIsIm9iakIiLCJ2YWx1ZUEiLCJ2YWx1ZUIiLCJpcyIsIlNoYWxsb3dNZW1vaXplU3ViamVjdCIsIl9zeW5jU3RhdGUiLCJNRVRIT0RfTk9UX1NVUFBPUlRFRCIsIkVNUFRZX0FSUkFZIiwiZ2V0VGhyZWFkQ29tcG9zZXJTdGF0ZSIsInNldFZhbHVlIiwiYmluZCIsInJlc2V0IiwiZ2V0RWRpdENvbXBvc2VyU3RhdGUiLCJlZGl0IiwiQ29tcG9zZXJSdW50aW1lSW1wbCIsImF0dGFjaG1lbnRJZCIsIlRocmVhZENvbXBvc2VyUnVudGltZUltcGwiLCJzdGF0ZUJpbmRpbmciLCJfZ2V0U3RhdGUiLCJnZXRBdHRhY2htZW50QnlJbmRleCIsImlkeCIsImF0dGFjaG1lbnRTb3VyY2UiLCJhdHRhY2htZW50U2VsZWN0b3IiLCJhdHRhY2htZW50IiwiRWRpdENvbXBvc2VyUnVudGltZUltcGwiLCJfYmVnaW5FZGl0IiwiTmVzdGVkU3Vic2NyaXB0aW9uU3ViamVjdCIsIm91dGVyU3Vic2NyaWJlIiwibGFzdFN0YXRlIiwiaW5uZXJVbnN1YnNjcmliZSIsIm9uUnVudGltZVVwZGF0ZSIsIm91dGVyVW5zdWJzY3JpYmUiLCJ0b0NvbnRlbnRQYXJ0U3RhdHVzIiwicGFydEluZGV4IiwiaXNMYXN0UGFydCIsIm1heCIsInJlYXNvbiIsIkVNUFRZX0NPTlRFTlQiLCJnZXRDb250ZW50UGFydFN0YXRlIiwiTWVzc2FnZVJ1bnRpbWVJbXBsIiwiX3RocmVhZEJpbmRpbmciLCJjb21wb3NlclNvdXJjZSIsImdldEVkaXRDb21wb3NlciIsInN0YXJ0UnVuIiwicGFyZW50SWQiLCJicmFuY2hJZCIsImJyYW5jaGVzIiwiZ2V0QnJhbmNoZXMiLCJ0YXJnZXRCcmFuY2giLCJnZXRDb250ZW50UGFydEJ5SW5kZXgiLCJjb250ZW50UGFydFNlbGVjdG9yIiwiZ2V0Q29udGVudFBhcnRCeVRvb2xDYWxsSWQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmluZEluZGV4IiwiVG9vbFVJRGlzcGxheSIsIlVJIiwiUmVuZGVyIiwiZGVmYXVsdENvbXBvbmVudHMiLCJUZXh0Iiwic3R5bGUiLCJ3aGl0ZVNwYWNlIiwiZm9udEZhbWlseSIsIkltYWdlIiwiTWVzc2FnZUNvbnRlbnRQYXJ0Q29tcG9uZW50IiwiY29tcG9uZW50cyIsIkVtcHR5IiwiYnlfbmFtZSIsIkZhbGxiYWNrIiwiY29udGVudFBhcnRSdW50aW1lIiwiYWRkUmVzdWx0IiwidW5oYW5kbGVkVHlwZSIsIk1lc3NhZ2VDb250ZW50UGFydEltcGwiLCJNZXNzYWdlQ29udGVudFBhcnQiLCJwcmV2IiwibmV4dCIsImNvbnRlbnRMZW5ndGgiLCJBcnJheSIsImZyb20iLCJfIiwidXNlQXR0YWNobWVudFJ1bnRpbWVTdG9yZSIsInVzZUF0dGFjaG1lbnRTdG9yZSIsIkF0dGFjaG1lbnRSdW50aW1lUHJvdmlkZXIiLCJnZXRDb21wb25lbnQiLCJBdHRhY2htZW50IiwiRG9jdW1lbnQiLCJGaWxlIiwiX2V4aGF1c3RpdmVDaGVjayIsIkF0dGFjaG1lbnRDb21wb25lbnQiLCJNZXNzYWdlQXR0YWNobWVudEltcGwiLCJhdHRhY2htZW50SW5kZXgiLCJNZXNzYWdlQXR0YWNobWVudCIsImF0dGFjaG1lbnRzQ291bnQiLCJoaWRlV2hlblNpbmdsZUJyYW5jaCIsImNvbXBvc2VyX2V4cG9ydHMiLCJBZGRBdHRhY2htZW50IiwiQ29tcG9zZXJQcmltaXRpdmVBZGRBdHRhY2htZW50IiwiQ29tcG9zZXJQcmltaXRpdmVBdHRhY2htZW50cyIsIkNhbmNlbCIsIkNvbXBvc2VyUHJpbWl0aXZlQ2FuY2VsIiwiQ29tcG9zZXJQcmltaXRpdmVJZiIsIklucHV0IiwiQ29tcG9zZXJQcmltaXRpdmVJbnB1dCIsIkNvbXBvc2VyUHJpbWl0aXZlUm9vdCIsIlNlbmQiLCJDb21wb3NlclByaW1pdGl2ZVNlbmQiLCJvblN1Ym1pdCIsImhhbmRsZVN1Ym1pdCIsImZvcm0iLCJTbG90IiwiVGV4dGFyZWFBdXRvc2l6ZSIsInVzZU9uU2Nyb2xsVG9Cb3R0b20iLCJ2cCIsImF1dG9Gb2N1cyIsImFzQ2hpbGQiLCJkaXNhYmxlZFByb3AiLCJvbkNoYW5nZSIsIm9uS2V5RG93biIsInN1Ym1pdE9uRW50ZXIiLCJjYW5jZWxPbkVzY2FwZSIsInVuc3RhYmxlX2ZvY3VzT25SdW5TdGFydCIsInVuc3RhYmxlX2ZvY3VzT25TY3JvbGxUb0JvdHRvbSIsInVuc3RhYmxlX2ZvY3VzT25UaHJlYWRTd2l0Y2hlZCIsInRleHRhcmVhUmVmIiwiaGFuZGxlS2V5UHJlc3MiLCJuYXRpdmVFdmVudCIsImlzQ29tcG9zaW5nIiwic2hpZnRLZXkiLCJjbG9zZXN0IiwicmVxdWVzdFN1Ym1pdCIsImF1dG9Gb2N1c0VuYWJsZWQiLCJmb2N1cyIsInRleHRhcmVhIiwicHJldmVudFNjcm9sbCIsInNldFNlbGVjdGlvblJhbmdlIiwiQ29tcG9zZXJBdHRhY2htZW50SW1wbCIsIkNvbXBvc2VyQXR0YWNobWVudCIsImNvbnRlbnRQYXJ0X2V4cG9ydHMiLCJEaXNwbGF5IiwidGhyZWFkX2V4cG9ydHMiLCJUaHJlYWRQcmltaXRpdmVFbXB0eSIsIlRocmVhZFByaW1pdGl2ZUlmIiwiTWVzc2FnZXMiLCJUaHJlYWRQcmltaXRpdmVNZXNzYWdlcyIsIlRocmVhZFByaW1pdGl2ZVJvb3QiLCJTY3JvbGxUb0JvdHRvbSIsIlRocmVhZFByaW1pdGl2ZVNjcm9sbFRvQm90dG9tIiwiU3VnZ2VzdGlvbiIsIlRocmVhZFByaW1pdGl2ZVN1Z2dlc3Rpb24iLCJWaWV3cG9ydCIsIlRocmVhZFByaW1pdGl2ZVZpZXdwb3J0IiwidXNlT25SZXNpemVDb250ZW50IiwicmVmQ2FsbGJhY2siLCJyZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyIiwibXV0YXRpb25PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJtdXRhdGlvbiIsIm5vZGUiLCJhZGRlZE5vZGVzIiwiRWxlbWVudCIsIm9ic2VydmUiLCJyZW1vdmVkTm9kZXMiLCJ1bm9ic2VydmUiLCJjaGlsZExpc3QiLCJjaGlsZCIsImRpc2Nvbm5lY3QiLCJ1c2VUaHJlYWRWaWV3cG9ydEF1dG9TY3JvbGwiLCJhdXRvU2Nyb2xsIiwidW5zdGFibGVfc2Nyb2xsVG9Cb3R0b21PblJ1blN0YXJ0IiwiZGl2UmVmIiwibGFzdFNjcm9sbFRvcCIsImlzU2Nyb2xsaW5nVG9Cb3R0b21SZWYiLCJiZWhhdmlvciIsInNjcm9sbFRvIiwidG9wIiwic2Nyb2xsSGVpZ2h0IiwiaGFuZGxlU2Nyb2xsIiwibmV3SXNBdEJvdHRvbSIsInNjcm9sbFRvcCIsImNsaWVudEhlaWdodCIsInJlc2l6ZVJlZiIsInNjcm9sbFJlZiIsImF1dG9TY3JvbGxSZWYiLCJtYWtlTWVzc2FnZVV0aWxzU3RvcmUiLCJ1c2VNZXNzYWdlUnVudGltZVN0b3JlIiwiTWVzc2FnZVJ1bnRpbWVQcm92aWRlciIsImlzQ29tcG9uZW50c1NhbWUiLCJNZXNzYWdlIiwiRWRpdENvbXBvc2VyIiwiVXNlckVkaXRDb21wb3NlciIsIkFzc2lzdGFudEVkaXRDb21wb3NlciIsIlN5c3RlbUVkaXRDb21wb3NlciIsIlVzZXJNZXNzYWdlIiwiQXNzaXN0YW50TWVzc2FnZSIsIlN5c3RlbU1lc3NhZ2UiLCJERUZBVUxUX1NZU1RFTV9NRVNTQUdFIiwiVGhyZWFkTWVzc2FnZUNvbXBvbmVudCIsIlRocmVhZE1lc3NhZ2VJbXBsIiwibWVzc2FnZUluZGV4IiwiZ2V0TWVzc3NhZ2VCeUluZGV4IiwiVGhyZWFkTWVzc2FnZSIsIlRocmVhZFByaW1pdGl2ZU1lc3NhZ2VzSW1wbCIsIm1lc3NhZ2VzTGVuZ3RoIiwic3Vic2NyaWJlVG9NYWluVGhyZWFkIiwiZmlyc3QiLCJjbGVhbnVwIiwiaW5uZXIiLCJ1bnN1YnNjcmliZSIsInVzZUluc2VydGlvbkVmZmVjdCIsIkJhc2VBc3Npc3RhbnRSdW50aW1lQ29yZSIsIl90aHJlYWQiLCJzdWJzY3JpcHRpb25IYW5kbGVyIiwiaW50ZXJuYWxfZXhwb3J0cyIsIkFzc2lzdGFudFJ1bnRpbWVJbXBsIiwiRGVmYXVsdFRocmVhZENvbXBvc2VyUnVudGltZUNvcmUiLCJNZXNzYWdlUmVwb3NpdG9yeSIsIlByb3h5Q29uZmlnUHJvdmlkZXIiLCJUaHJlYWRSdW50aW1lSW1wbCIsIlRvb2x0aXBJY29uQnV0dG9uIiwiZ2VuZXJhdGVJZCIsImlzQXR0YWNobWVudENvbXBsZXRlIiwiQmFzZUNvbXBvc2VyUnVudGltZUNvcmUiLCJnZXRBdHRhY2htZW50QWRhcHRlciIsIl9hdHRhY2htZW50cyIsInRyaW0iLCJfdGV4dCIsImFkYXB0ZXIiLCJQcm9taXNlIiwiYWxsIiwiaGFuZGxlU2VuZCIsInRvU3BsaWNlZCIsIl9jYW5DYW5jZWwiLCJjb25uZWN0IiwiYWRhcHRlcnMiLCJjYXBhYmlsaXRpZXMiLCJjYW5jZWxSdW4iLCJtZXJnZU1vZGVsQ29uZmlncyIsIl9wcm92aWRlcnMiLCJwcm92aWRlciIsIl9zdWJzY3JpYmVycyIsImN1c3RvbUFscGhhYmV0Iiwib3B0aW1pc3RpY1ByZWZpeCIsImdlbmVyYXRlT3B0aW1pc3RpY0lkIiwiZnJvbUNvcmVNZXNzYWdlcyIsImZyb21Db3JlTWVzc2FnZSIsImNvbW1vblByb3BzIiwiY3JlYXRlZEF0IiwiYXJnc1RleHQiLCJhcmdzIiwidW5zdXBwb3J0ZWRSb2xlIiwiZmluZEhlYWQiLCJwZXJmb3JtT3AiLCJuZXdQYXJlbnQiLCJvcGVyYXRpb24iLCJwYXJlbnRPclJvb3QiLCJyb290IiwibmV3UGFyZW50T3JSb290IiwiZmFsbGJhY2tJZCIsImZhbGxiYWNrIiwiaGVhZCIsImdldE1lc3NhZ2VzIiwibGV2ZWwiLCJhZGRPclVwZGF0ZU1lc3NhZ2UiLCJleGlzdGluZ0l0ZW0iLCJuZXdJdGVtIiwiZ2V0TWVzc2FnZSIsImFwcGVuZE9wdGltaXN0aWNNZXNzYWdlIiwib3B0aW1pc3RpY0lkIiwiaGFzIiwiZGVsZXRlTWVzc2FnZSIsInJlcGxhY2VtZW50SWQiLCJyZXBsYWNlbWVudCIsImNoaWxkTWVzc2FnZSIsInByZXZPclJvb3QiLCJyZXNldEhlYWQiLCJleHBvcnQiLCJleHBvcnRJdGVtcyIsImhlYWRJZCIsImltcG9ydCIsIlRvb2x0aXBQcmltaXRpdmUiLCJjbGFzc05hbWVzIiwid2l0aERlZmF1bHRQcm9wcyIsImNsYXNzTmFtZSIsImRlZmF1bHRQcm9wcyIsImNsYXNzTmFtZVByb3AiLCJ3aXRoRGVmYXVsdHMiLCJnZXRQcm9wcyIsIldpdGhEZWZhdWx0cyIsIkNvbXBvbmVudEFzQW55IiwiVG9vbHRpcCIsIlRvb2x0aXBUcmlnZ2VyIiwiVG9vbHRpcENvbnRlbnQiLCJzaWRlT2Zmc2V0IiwiY3ZhIiwiYnV0dG9uVmFyaWFudHMiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJkZWZhdWx0Iiwib3V0bGluZSIsImdob3N0IiwiaWNvbiIsImRlZmF1bHRWYXJpYW50cyIsIkJ1dHRvbiIsInRvb2x0aXAiLCJ0b0FwcGVuZE1lc3NhZ2UiLCJnZXRUaHJlYWRTdGF0ZSIsImxhc3RNZXNzYWdlIiwidGhyZWFkSWQiLCJzdWdnZXN0aW9ucyIsImV4dHJhcyIsInVuc3RhYmxlX2dldENvcmUiLCJ0aHJlYWRCaW5kaW5nIiwiX2V2ZW50TGlzdGVuZXJOZXN0ZWRTdWJzY3JpcHRpb25zIiwiZ2V0U3RhdGVTdGF0ZSIsImdldFN1Ym1pdHRlZEZlZWRiYWNrIiwiZGF0YSIsIl9nZXRNZXNzYWdlUnVudGltZSIsIm1lc3NhZ2VTZWxlY3RvciIsImdldE1lc3NzYWdlQnlJZCIsImdldE1lc3NhZ2VCeUlkIiwic3BlZWNoU3RhdGUiLCJldmVudCIsInN1YmplY3QiLCJfQXNzaXN0YW50UnVudGltZUltcGwiLCJzd2l0Y2hUb1RocmVhZCIsImNyZWF0ZU1haW5UaHJlYWRSdW50aW1lIiwiQ3VzdG9tVGhyZWFkUnVudGltZSIsInRocmVhZFNlbGVjdG9yIiwiZnJvbUxhbmd1YWdlTW9kZWxNZXNzYWdlcyIsImxtIiwibWVyZ2VTdGVwcyIsImxtTWVzc2FnZSIsIlVSTCIsImhyZWYiLCJuZXdDb250ZW50IiwicHJldmlvdXNNZXNzYWdlIiwidG9vbENhbGwiLCJmaW5kIiwiaXNFcnJvciIsInVuaGFuZGxlZFJvbGUiLCJmcm9tTGFuZ3VhZ2VNb2RlbFRvb2xzIiwiZnJvbUVudHJpZXMiLCJkZXNjcmlwdGlvbiIsInBhcmFtZXRlcnMiLCJjaHVua0J5TGluZVN0cmVhbSIsImJ1ZmZlciIsIlRyYW5zZm9ybVN0cmVhbSIsInRyYW5zZm9ybSIsImNodW5rIiwiY29udHJvbGxlciIsImxpbmVzIiwiaSIsImVucXVldWUiLCJmbHVzaCIsImRlY29kZVN0cmVhbVBhcnQiLCJwYXJzZSIsInN0cmVhbVBhcnREZWNvZGVyU3RyZWFtIiwiZGVjb2RlU3RyZWFtIiwiUGlwZWFibGVUcmFuc2Zvcm1TdHJlYW0iLCJyZWFkYWJsZSIsInBpcGVUaHJvdWdoIiwiVGV4dERlY29kZXJTdHJlYW0iLCJzdHJlYW1VdGlscyIsInN0cmVhbVBhcnRFbmNvZGVyU3RyZWFtIiwiYXNzaXN0YW50RGVjb2RlclN0cmVhbSIsInRvb2xDYWxsTmFtZXMiLCJjdXJyZW50VG9vbENhbGwiLCJ0b29sQ2FsbFR5cGUiLCJ0ZXh0RGVsdGEiLCJhcmdzVGV4dERlbHRhIiwiZXJyb3IiLCJhc0FzeW5jSXRlcmFibGUiLCJhc3luY0l0ZXJhdG9yIiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwiZG9uZSIsInJlYWQiLCJFZGdlQ2hhdEFkYXB0ZXIiLCJydW4iLCJhYm9ydFNpZ25hbCIsImhlYWRlcnMiLCJIZWFkZXJzIiwiZmV0Y2giLCJhcGkiLCJtZXRob2QiLCJjcmVkZW50aWFscyIsImJvZHkiLCJ0b0NvcmVNZXNzYWdlcyIsInRvTGFuZ3VhZ2VNb2RlbFRvb2xzIiwiY2FsbFNldHRpbmdzIiwic2lnbmFsIiwib2siLCJzdHJlYW0iLCJ0b29sUmVzdWx0U3RyZWFtIiwicnVuUmVzdWx0U3RyZWFtIiwidXBkYXRlIiwic3BsaXRMb2NhbFJ1bnRpbWVPcHRpb25zIiwiaW5pdGlhbE1lc3NhZ2VzIiwibWF4VG9vbFJvdW5kdHJpcHMiLCJtYXhTdGVwcyIsImxvY2FsUnVudGltZU9wdGlvbnMiLCJvdGhlck9wdGlvbnMiLCJ1c2VFZGdlUnVudGltZSIsInVzZUxvY2FsUnVudGltZSIsInNob3VsZENvbnRpbnVlIiwiZXZlcnkiLCJEZWZhdWx0RWRpdENvbXBvc2VyUnVudGltZUNvcmUiLCJlbmRFZGl0Q2FsbGJhY2siLCJfcGFyZW50SWQiLCJfcHJldmlvdXNUZXh0IiwiX25vblRleHRQYXJ0cyIsIkJhc2VUaHJlYWRSdW50aW1lQ29yZSIsImNvbmZpZ1Byb3ZpZGVyIiwicmVwb3NpdG9yeSIsIl9lZGl0Q29tcG9zZXJzIiwiX3N1Ym1pdHRlZEZlZWRiYWNrIiwiX2V2ZW50U3Vic2NyaWJlcnMiLCJfbm90aWZ5RXZlbnRTdWJzY3JpYmVycyIsIl9ub3RpZnlTdWJzY3JpYmVycyIsInN1YnNjcmliZXJzIiwiZmVlZGJhY2siLCJzdWJtaXQiLCJfc3RvcFNwZWFraW5nIiwidXR0ZXJhbmNlIiwiTG9jYWxUaHJlYWRSdW50aW1lQ29yZSIsInVuc3RhYmxlX2NvcHkiLCJhYm9ydENvbnRyb2xsZXIiLCJfb3B0aW9ucyIsImhhc1VwZGF0ZXMiLCJjYW5TcGVhayIsImNhbkF0dGFjaCIsImNhbkZlZWRiYWNrIiwibmV3TWVzc2FnZSIsInBlcmZvcm1Sb3VuZHRyaXAiLCJhYm9ydCIsIkFib3J0Q29udHJvbGxlciIsImluaXRpYWxDb250ZW50IiwiaW5pdGlhbFN0ZXBzIiwibWV0YWRhdGEiLCJzdGVwcyIsImluaXRhbEN1c3RvbSIsImN1c3RvbSIsInVwZGF0ZU1lc3NhZ2UiLCJuZXdTdGVwcyIsInJvdW5kdHJpcHMiLCJwcm9taXNlT3JHZW5lcmF0b3IiLCJvblVwZGF0ZSIsInIiLCJtZXNzYWdlRGF0YSIsImFkZGVkIiwiZm91bmQiLCJMb2NhbFJ1bnRpbWVDb3JlIiwicHJveHlDb25maWdQcm92aWRlciIsIl9wcm94eUNvbmZpZ1Byb3ZpZGVyIiwiTG9jYWxSdW50aW1lSW1wbCIsIl9Mb2NhbFJ1bnRpbWVJbXBsIiwic3ltYm9sSW5uZXJNZXNzYWdlIiwiZ2V0RXh0ZXJuYWxTdG9yZU1lc3NhZ2UiLCJUaHJlYWRNZXNzYWdlQ29udmVydGVyIiwiY29udmVydE1lc3NhZ2VzIiwiY29udmVydGVyIiwiY2FjaGVkIiwiY2FjaGUiLCJXZWFrTWFwIiwiQVVUT19TVEFUVVNfUlVOTklORyIsIkFVVE9fU1RBVFVTX0NPTVBMRVRFIiwiaXNBdXRvU3RhdHVzIiwiZ2V0QXV0b1N0YXR1cyIsImZyb21UaHJlYWRNZXNzYWdlTGlrZSIsImxpa2UiLCJmYWxsYmFja1N0YXR1cyIsImNvbW1vbiIsImhhc1VwY29taW5nTWVzc2FnZSIsIkV4dGVybmFsU3RvcmVUaHJlYWRSdW50aW1lQ29yZSIsIl9jYXBhYmlsaXRpZXMiLCJfbWVzc2FnZXMiLCJfc3RvcmUiLCJvbkVkaXQiLCJhc3Npc3RhbnRPcHRpbWlzdGljSWQiLCJfY29udmVydGVyIiwidXBkYXRlTWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImZsYXRNYXAiLCJvbGRTdG9yZSIsIm9uUmVsb2FkIiwib25DYW5jZWwiLCJ1bnN0YWJsZV9jYXBhYmlsaXRpZXMiLCJjb3B5IiwiY29udmVydE1lc3NhZ2UiLCJhdXRvU3RhdHVzIiwidG9TdHJpbmciLCJwYXJlbnQiLCJvbk5ldyIsIm9uQWRkVG9vbFJlc3VsdCIsIkV4dGVybmFsU3RvcmVSdW50aW1lQ29yZSIsIm9uU3dpdGNoVG9OZXdUaHJlYWQiLCJvblN3aXRjaFRvVGhyZWFkIiwidXNlRXh0ZXJuYWxTdG9yZVJ1bnRpbWUiLCJqb2luRXh0ZXJuYWxNZXNzYWdlcyIsImFzc2lzdGFudE1lc3NhZ2UiLCJvdXRwdXQiLCJ0b29sQ2FsbElkeCIsImNodW5rRXh0ZXJuYWxNZXNzYWdlcyIsImNhbGxiYWNrUmVzdWx0cyIsInJlc3VsdHMiLCJpc0Fzc2lzdGFudCIsImlucHV0cyIsIm91dHB1dHMiLCJjYWxsYmFja1Jlc3VsdCIsInVzZUV4dGVybmFsTWVzc2FnZUNvbnZlcnRlciIsImNhbGxiYWNrQ2FjaGUiLCJjaHVua0NhY2hlIiwiY29udmVydGVyQ2FjaGUiLCJpc0FycmF5IiwiY2h1bmtzIiwic2hhbGxvd0FycmF5RXF1YWwiLCJiIiwiRGFuZ2Vyb3VzSW5Ccm93c2VyQWRhcHRlciIsInJlcyIsImdldEVkZ2VSdW50aW1lU3RyZWFtIiwicmVxdWVzdERhdGEiLCJ1c2VEYW5nZXJvdXNJbkJyb3dzZXJSdW50aW1lIiwiV2ViU3BlZWNoU3ludGhlc2lzQWRhcHRlciIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsImhhbmRsZUVuZCIsImhhbmRsZXIiLCJ3aW5kb3ciLCJzcGVlY2hTeW50aGVzaXMiLCJjYW5jZWxsZWQiLCJxdWV1ZU1pY3JvdGFzayIsIlNpbXBsZUltYWdlQXR0YWNobWVudEFkYXB0ZXIiLCJjb250ZW50VHlwZSIsImdldEZpbGVEYXRhVVJMIiwicmVzb2x2ZSIsInJlamVjdCIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJvbmVycm9yIiwicmVhZEFzRGF0YVVSTCIsIlNpbXBsZVRleHRBdHRhY2htZW50QWRhcHRlciIsImdldEZpbGVUZXh0IiwicmVhZEFzVGV4dCIsImZpbGVNYXRjaGVzQWNjZXB0IiwiYWNjZXB0U3RyaW5nIiwiYWxsb3dlZFR5cGVzIiwidG9Mb3dlckNhc2UiLCJmaWxlRXh0ZW5zaW9uIiwiZmlsZU1pbWVUeXBlIiwiZW5kc1dpdGgiLCJnZW5lcmFsVHlwZSIsIkNvbXBvc2l0ZUF0dGFjaG1lbnRBZGFwdGVyIiwiX2FkYXB0ZXJzIiwid2lsZGNhcmRJZHgiLCJUaHJlYWRDb25maWdDb250ZXh0IiwidXNlVGhyZWFkQ29uZmlnIiwiVGhyZWFkQ29uZmlnUHJvdmlkZXIiLCJoYXNBc3Npc3RhbnQiLCJBdWRpb0xpbmVzSWNvbiIsIkNoZWNrSWNvbiIsIkNvcHlJY29uIiwiUmVmcmVzaEN3SWNvbiIsIlN0b3BDaXJjbGVJY29uIiwiVGh1bWJzRG93bkljb24iLCJUaHVtYnNVcEljb24iLCJ1c2VBbGxvd0NvcHkiLCJlbnN1cmVDYXBhYmlsaXR5IiwiYWxsb3dDb3B5IiwiY29weVN1cHBvcnRlZCIsInVzZUFsbG93U3BlYWsiLCJhbGxvd1NwZWFrIiwic3BlZWNoU3VwcG9ydGVkIiwidXNlQWxsb3dSZWxvYWQiLCJhbGxvd1JlbG9hZCIsInJlbG9hZFN1cHBvcnRlZCIsInVzZUFsbG93RmVlZGJhY2tQb3NpdGl2ZSIsImFsbG93RmVlZGJhY2tQb3NpdGl2ZSIsImZlZWRiYWNrU3VwcG9ydGVkIiwidXNlQWxsb3dGZWVkYmFja05lZ2F0aXZlIiwiYWxsb3dGZWVkYmFja05lZ2F0aXZlIiwiQXNzaXN0YW50QWN0aW9uQmFyIiwiQXNzaXN0YW50QWN0aW9uQmFyUm9vdCIsIkFzc2lzdGFudEFjdGlvbkJhclNwZWVjaENvbnRyb2wiLCJBc3Npc3RhbnRBY3Rpb25CYXJDb3B5IiwiQXNzaXN0YW50QWN0aW9uQmFyUmVsb2FkIiwiQXNzaXN0YW50QWN0aW9uQmFyRmVlZGJhY2tQb3NpdGl2ZSIsIkFzc2lzdGFudEFjdGlvbkJhckZlZWRiYWNrTmVnYXRpdmUiLCJzdHJpbmdzIiwiQXNzaXN0YW50QWN0aW9uQmFyU3BlYWsiLCJBc3Npc3RhbnRBY3Rpb25CYXJTdG9wU3BlYWtpbmciLCJzdG9wVG9vbHRpcCIsInBvc2l0aXZlIiwibmVnYXRpdmUiLCJleHBvcnRzIiwiU3BlZWNoQ29udHJvbCIsImFzc2lzdGFudF9hY3Rpb25fYmFyX2RlZmF1bHQiLCJhc3NpZ24iLCJDaGV2cm9uTGVmdEljb24iLCJDaGV2cm9uUmlnaHRJY29uIiwidXNlQWxsb3dCcmFuY2hQaWNrZXIiLCJicmFuY2hQaWNrZXIiLCJhbGxvd0JyYW5jaFBpY2tlciIsImJyYW5jaFBpY2tlclN1cHBvcnRlZCIsIkJyYW5jaFBpY2tlciIsIkJyYW5jaFBpY2tlclJvb3QiLCJCcmFuY2hQaWNrZXJQcmV2aW91cyIsIkJyYW5jaFBpY2tlclN0YXRlIiwiQnJhbmNoUGlja2VyTmV4dCIsInByZXZpb3VzIiwiQnJhbmNoUGlja2VyU3RhdGVXcmFwcGVyIiwiYnJhbmNoX3BpY2tlcl9kZWZhdWx0IiwiQXZhdGFyUHJpbWl0aXZlIiwiQXZhdGFyIiwiYWx0IiwiQXZhdGFyUm9vdCIsIkF2YXRhckltYWdlIiwiQXZhdGFyRmFsbGJhY2siLCJjb250ZW50X3BhcnRfZGVmYXVsdCIsIkFzc2lzdGFudE1lc3NhZ2VSb290IiwiQXNzaXN0YW50TWVzc2FnZUF2YXRhciIsIkFzc2lzdGFudE1lc3NhZ2VDb250ZW50IiwiYXNzaXN0YW50QXZhdGFyIiwiYXZhdGFyIiwiQXNzaXN0YW50TWVzc2FnZUNvbnRlbnRXcmFwcGVyIiwiY29tcG9uZW50c1Byb3AiLCJ0b29sc0NvbXBvbmVudHMiLCJUb29sRmFsbGJhY2siLCJhc3Npc3RhbnRfbWVzc2FnZV9kZWZhdWx0IiwiQm90SWNvbiIsIkNoZXZyb25Eb3duSWNvbiIsIkFycm93RG93bkljb24iLCJQYXBlcmNsaXBJY29uIiwiU2VuZEhvcml6b250YWxJY29uIiwiQ2lyY2xlU3RvcEljb24iLCJ4bWxucyIsInZpZXdCb3giLCJmaWxsIiwid2lkdGgiLCJoZWlnaHQiLCJ4IiwieSIsInJ4IiwiQ2lyY2xlWEljb24iLCJGaWxlSWNvbiIsIlJlYWN0IiwiRGlhbG9nUHJpbWl0aXZlIiwiRGlhbG9nIiwiRGlhbG9nVHJpZ2dlciIsIkRpYWxvZ1BvcnRhbCIsIkRpYWxvZ092ZXJsYXkiLCJPdmVybGF5IiwiRGlhbG9nQ29udGVudCIsIkF0dGFjaG1lbnRSb290IiwidXNlRmlsZVNyYyIsInNldFNyYyIsIm9iamVjdFVybCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsInVzZUF0dGFjaG1lbnRTcmMiLCJBdHRhY2htZW50UHJldmlldyIsImlzTG9hZGVkIiwic2V0SXNMb2FkZWQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIm92ZXJmbG93Iiwib25Mb2FkIiwiQXR0YWNobWVudFByZXZpZXdEaWFsb2ciLCJBdHRhY2htZW50VGh1bWIiLCJpc0ltYWdlIiwiZGVsYXlNcyIsImNhblJlbW92ZSIsInR5cGVMYWJlbCIsIkF0dGFjaG1lbnRSZW1vdmUiLCJhdHRhY2htZW50X2RlZmF1bHQiLCJ1c2VBbGxvd0F0dGFjaG1lbnRzIiwiYWxsb3dBdHRhY2htZW50cyIsImF0dGFjaG1lbnRzU3VwcG9ydGVkIiwiQ29tcG9zZXIiLCJDb21wb3NlclJvb3QiLCJDb21wb3NlckF0dGFjaG1lbnRzIiwiQ29tcG9zZXJBZGRBdHRhY2htZW50IiwiQ29tcG9zZXJJbnB1dCIsIkNvbXBvc2VyQWN0aW9uIiwiQ29tcG9zZXJJbnB1dFN0eWxlZCIsInJvd3MiLCJwbGFjZWhvbGRlciIsIkNvbXBvc2VyQXR0YWNobWVudHNDb250YWluZXIiLCJDb21wb3NlckF0dGFjaEJ1dHRvbiIsInVzZUFsbG93Q2FuY2VsIiwiY2FuY2VsU3VwcG9ydGVkIiwiYWxsb3dDYW5jZWwiLCJDb21wb3NlclNlbmQiLCJDb21wb3NlckNhbmNlbCIsIkNvbXBvc2VyU2VuZEJ1dHRvbiIsIkNvbXBvc2VyQ2FuY2VsQnV0dG9uIiwiQWN0aW9uIiwiY29tcG9zZXJfZGVmYXVsdCIsIlRocmVhZFdlbGNvbWUiLCJUaHJlYWRXZWxjb21lUm9vdCIsIlRocmVhZFdlbGNvbWVDZW50ZXIiLCJUaHJlYWRXZWxjb21lQXZhdGFyIiwiVGhyZWFkV2VsY29tZU1lc3NhZ2UiLCJUaHJlYWRXZWxjb21lU3VnZ2VzdGlvbnMiLCJUaHJlYWRXZWxjb21lUm9vdFN0eWxlZCIsIlRocmVhZFdlbGNvbWVNZXNzYWdlU3R5bGVkIiwibWVzc2FnZVByb3AiLCJ3ZWxjb21lIiwiVGhyZWFkV2VsY29tZVN1Z2dlc3Rpb25Db250YWluZXIiLCJUaHJlYWRXZWxjb21lU3VnZ2VzdGlvblN0eWxlZCIsIlRocmVhZFdlbGNvbWVTdWdnZXN0aW9uIiwic3VnZ2VzdGlvbiIsInN1Z2dlc3Rpb25zMiIsImZpbmFsU3VnZ2VzdGlvbnMiLCJDZW50ZXIiLCJTdWdnZXN0aW9ucyIsInRocmVhZF93ZWxjb21lX2RlZmF1bHQiLCJQZW5jaWxJY29uIiwidXNlQWxsb3dFZGl0IiwidXNlck1lc3NhZ2UiLCJhbGxvd0VkaXQiLCJlZGl0U3VwcG9ydGVkIiwiVXNlckFjdGlvbkJhciIsIlVzZXJBY3Rpb25CYXJSb290IiwiVXNlckFjdGlvbkJhckVkaXQiLCJ1c2VyX2FjdGlvbl9iYXJfZGVmYXVsdCIsIlVzZXJNZXNzYWdlUm9vdCIsIlVzZXJNZXNzYWdlQXR0YWNobWVudHMiLCJVc2VyTWVzc2FnZUNvbnRlbnQiLCJVc2VyTWVzc2FnZUNvbnRlbnRXcmFwcGVyIiwiVXNlck1lc3NhZ2VBdHRhY2htZW50c0NvbnRhaW5lciIsInVzZXJfbWVzc2FnZV9kZWZhdWx0IiwiRWRpdENvbXBvc2VyUm9vdCIsIkVkaXRDb21wb3NlcklucHV0IiwiRWRpdENvbXBvc2VyRm9vdGVyIiwiRWRpdENvbXBvc2VyQ2FuY2VsIiwiRWRpdENvbXBvc2VyU2VuZCIsImVkaXRDb21wb3NlciIsImxhYmVsIiwiRm9vdGVyIiwiZWRpdF9jb21wb3Nlcl9kZWZhdWx0IiwiVGhyZWFkIiwiQ29tcG9zZXJDb21wb25lbnQiLCJUaHJlYWRXZWxjb21lQ29tcG9uZW50IiwiVGhyZWFkUm9vdCIsIlRocmVhZFZpZXdwb3J0IiwiVGhyZWFkTWVzc2FnZXMiLCJUaHJlYWRGb2xsb3d1cFN1Z2dlc3Rpb25zIiwiVGhyZWFkVmlld3BvcnRGb290ZXIiLCJUaHJlYWRTY3JvbGxUb0JvdHRvbSIsIlRocmVhZFJvb3RTdHlsZWQiLCJ1bnN0YWJsZV9mbGV4R3Jvd0RpdiIsImZsZXhHcm93RGl2IiwiZmxleEdyb3ciLCJUaHJlYWRTY3JvbGxUb0JvdHRvbUljb25CdXR0b24iLCJGb2xsb3d1cFN1Z2dlc3Rpb25zIiwiVmlld3BvcnRGb290ZXIiLCJ0aHJlYWRfZGVmYXVsdCIsIkFzc2lzdGFudE1vZGFsIiwiQXNzaXN0YW50TW9kYWxSb290IiwiQXNzaXN0YW50TW9kYWxUcmlnZ2VyIiwiQXNzaXN0YW50TW9kYWxDb250ZW50IiwiQXNzaXN0YW50TW9kYWxBbmNob3IiLCJBc3Npc3RhbnRNb2RhbEJ1dHRvbiIsIk1vZGFsQnV0dG9uU3R5bGVkIiwiYXNzaXN0YW50TW9kYWwiLCJvcGVuVG9vbHRpcCIsImNsb3NlZCIsImNsb3NlZFRvb2x0aXAiLCJhc3Npc3RhbnRfbW9kYWxfZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@assistant-ui/react/dist/index.mjs\n");

/***/ })

};
;